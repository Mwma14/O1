{"file_contents":{"O3/README.md":{"content":"# Telegram Order Bot with Admin Panel\n\nA complete order management system with a web-based admin panel and Telegram bot integration, now running on Replit!\n\n## üéØ Features\n\n### Web Admin Panel\n- üì¶ **Product Management** - Add, edit, delete products with images\n- üõçÔ∏è **Order Management** - View, approve, reject customer orders\n- üë• **User Management** - View users, ban/unban functionality\n- üì¢ **Broadcast Messages** - Send announcements to all users\n- üîê **Secure Authentication** - Supabase-powered auth\n\n### Telegram Bot\n- üõí Product browsing with interactive buttons\n- üìù Complete order flow with step-by-step data collection\n- üì∏ Payment screenshot upload\n- üöö Delivery type selection\n- üìã Order history viewing\n- üîó Deep linking for product sharing\n- ‚úÖ Real-time order status notifications\n\n## üöÄ Quick Start\n\n### 1. Access the Admin Panel\nOpen the Webview panel in Replit to access the admin interface.\n\n### 2. Create Admin Account\n1. Click \"Admin Login\"\n2. Sign up with your email\n3. Grant yourself admin role in Supabase (see **SETUP_COMPLETE.md** for detailed instructions)\n\n### 3. Use Your Telegram Bot\nSearch for your bot in Telegram and send `/start` to begin!\n\n## üìö Documentation\n\n- **SETUP_COMPLETE.md** - Complete setup guide and next steps\n- **bot/README.md** - Telegram bot documentation\n- **TELEGRAM_BOT_GUIDE.md** - Integration guide with code examples\n\n## üîß Running Workflows\n\nTwo workflows are configured and running:\n\n1. **Start application** - Web admin panel (React + Vite on port 5000)\n2. **Telegram Bot** - Python bot polling for Telegram updates\n\n## üíª Tech Stack\n\n### Frontend\n- React 18 + TypeScript\n- Vite for fast development\n- Shadcn/ui + Tailwind CSS\n- React Router for navigation\n- TanStack Query for data fetching\n\n### Backend\n- Python 3.11\n- python-telegram-bot library\n- Supabase (PostgreSQL + Auth + Storage)\n\n### Database\n- PostgreSQL with Row Level Security\n- Tables: products, orders, profiles, user_roles, broadcast_messages\n- Storage buckets for images and payment screenshots\n\n## üîê Environment Variables\n\nAll secrets are stored in Replit Secrets:\n- `TELEGRAM_BOT_TOKEN` - Your bot token from BotFather\n- `SUPABASE_URL` - Supabase project URL\n- `SUPABASE_ANON_KEY` - Supabase anonymous key\n\n## üì± Bot Commands\n\n- `/start` - Start the bot\n- `/products` - Browse products\n- `/orders` - View order history\n- `/help` - Show help\n- `/cancel` - Cancel current operation\n\n## üîó Deep Links\n\nShare products directly:\n```\nhttps://t.me/YOUR_BOT_USERNAME?start=PRODUCT_ID\n```\n\n## üéØ Order Flow\n\n1. Customer browses products in bot\n2. Customer creates order with delivery details\n3. Customer uploads payment screenshot\n4. Order appears in admin panel\n5. Admin approves or rejects\n6. Customer receives notification\n\n## üõ†Ô∏è Development\n\nThe project is fully set up and ready to use. Just add products in the admin panel and start taking orders!\n\n## üìñ Learn More\n\n- [Telegram Bot API](https://core.telegram.org/bots/api)\n- [Supabase Documentation](https://supabase.com/docs)\n- [Shadcn/ui](https://ui.shadcn.com/)\n\n---\n\n**Built with ‚ù§Ô∏è on Replit**\n","size_bytes":3136},"O3/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n","size_bytes":169},"O3/src/components/ui/resizable.tsx":{"content":"import { GripVertical } from \"lucide-react\";\nimport * as ResizablePrimitive from \"react-resizable-panels\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst ResizablePanelGroup = ({ className, ...props }: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\", className)}\n    {...props}\n  />\n);\n\nconst ResizablePanel = ResizablePrimitive.Panel;\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean;\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className,\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n);\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle };\n","size_bytes":1696},"O3/src/components/ui/toggle-group.tsx":{"content":"import * as React from \"react\";\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\";\nimport { type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\nimport { toggleVariants } from \"@/components/ui/toggle\";\n\nconst ToggleGroupContext = React.createContext<VariantProps<typeof toggleVariants>>({\n  size: \"default\",\n  variant: \"default\",\n});\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> & VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root ref={ref} className={cn(\"flex items-center justify-center gap-1\", className)} {...props}>\n    <ToggleGroupContext.Provider value={{ variant, size }}>{children}</ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n));\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName;\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> & VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext);\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className,\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  );\n});\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName;\n\nexport { ToggleGroup, ToggleGroupItem };\n","size_bytes":1714},"O3/src/hooks/use-toast.ts":{"content":"import * as React from \"react\";\n\nimport type { ToastActionElement, ToastProps } from \"@/components/ui/toast\";\n\nconst TOAST_LIMIT = 1;\nconst TOAST_REMOVE_DELAY = 1000000;\n\ntype ToasterToast = ToastProps & {\n  id: string;\n  title?: React.ReactNode;\n  description?: React.ReactNode;\n  action?: ToastActionElement;\n};\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const;\n\nlet count = 0;\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER;\n  return count.toString();\n}\n\ntype ActionType = typeof actionTypes;\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"];\n      toast: ToasterToast;\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"];\n      toast: Partial<ToasterToast>;\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"];\n      toastId?: ToasterToast[\"id\"];\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"];\n      toastId?: ToasterToast[\"id\"];\n    };\n\ninterface State {\n  toasts: ToasterToast[];\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>();\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return;\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId);\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    });\n  }, TOAST_REMOVE_DELAY);\n\n  toastTimeouts.set(toastId, timeout);\n};\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      };\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) => (t.id === action.toast.id ? { ...t, ...action.toast } : t)),\n      };\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action;\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId);\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id);\n        });\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t,\n        ),\n      };\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        };\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      };\n  }\n};\n\nconst listeners: Array<(state: State) => void> = [];\n\nlet memoryState: State = { toasts: [] };\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action);\n  listeners.forEach((listener) => {\n    listener(memoryState);\n  });\n}\n\ntype Toast = Omit<ToasterToast, \"id\">;\n\nfunction toast({ ...props }: Toast) {\n  const id = genId();\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    });\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id });\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss();\n      },\n    },\n  });\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  };\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState);\n\n  React.useEffect(() => {\n    listeners.push(setState);\n    return () => {\n      const index = listeners.indexOf(setState);\n      if (index > -1) {\n        listeners.splice(index, 1);\n      }\n    };\n  }, [state]);\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  };\n}\n\nexport { useToast, toast };\n","size_bytes":3935},"O3/src/components/ui/separator.tsx":{"content":"import * as React from \"react\";\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(({ className, orientation = \"horizontal\", decorative = true, ...props }, ref) => (\n  <SeparatorPrimitive.Root\n    ref={ref}\n    decorative={decorative}\n    orientation={orientation}\n    className={cn(\"shrink-0 bg-border\", orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\", className)}\n    {...props}\n  />\n));\nSeparator.displayName = SeparatorPrimitive.Root.displayName;\n\nexport { Separator };\n","size_bytes":698},"O3/src/components/ui/button.tsx":{"content":"import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />;\n  },\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n","size_bytes":1840},"O3/src/components/admin/OrdersTab.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { toast } from \"sonner\";\nimport { CheckCircle, XCircle, Eye } from \"lucide-react\";\n\ntype OrderStatus = \"pending\" | \"approved\" | \"rejected\" | \"delivered\";\ntype DeliveryType = \"express_cars\" | \"delivery_company\";\n\ninterface OrderAddress {\n  house_no: string;\n  street: string;\n  ward: string;\n  township: string;\n  city: string;\n}\n\ninterface OrderItem {\n  product_id: string;\n  product_name: string;\n  quantity: number;\n  price: number;\n}\n\ninterface Order {\n  id: string;\n  order_string: string;\n  telegram_user_id: number;\n  user_name: string;\n  phone: string;\n  address: OrderAddress;\n  items: OrderItem[];\n  total_cost: number;\n  delivery_type: DeliveryType;\n  payment_image_url: string | null;\n  status: OrderStatus;\n  created_at: string;\n}\n\nconst OrdersTab = () => {\n  const [orders, setOrders] = useState<Order[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchOrders();\n  }, []);\n\n  const fetchOrders = async () => {\n    setLoading(true);\n    const { data, error } = await supabase\n      .from(\"orders\")\n      .select(\"*\")\n      .order(\"created_at\", { ascending: false });\n\n    if (error) {\n      toast.error(\"Failed to fetch orders\");\n    } else {\n      setOrders((data as any) || []);\n    }\n    setLoading(false);\n  };\n\n  const updateOrderStatus = async (orderId: string, status: OrderStatus) => {\n    const { data: { user } } = await supabase.auth.getUser();\n    \n    const { error } = await supabase\n      .from(\"orders\")\n      .update({ \n        status,\n        approved_by: status === \"approved\" ? user?.id : null,\n        approved_at: status === \"approved\" ? new Date().toISOString() : null\n      })\n      .eq(\"id\", orderId);\n\n    if (error) {\n      toast.error(\"Failed to update order status\");\n    } else {\n      toast.success(`Order ${status === \"approved\" ? \"approved\" : \"rejected\"}`);\n      fetchOrders();\n    }\n  };\n\n  const getStatusBadge = (status: OrderStatus) => {\n    const variants: Record<OrderStatus, { variant: \"default\" | \"secondary\" | \"destructive\" | \"outline\", label: string }> = {\n      pending: { variant: \"secondary\", label: \"Pending\" },\n      approved: { variant: \"default\", label: \"Approved\" },\n      rejected: { variant: \"destructive\", label: \"Rejected\" },\n      delivered: { variant: \"outline\", label: \"Delivered\" },\n    };\n    \n    const config = variants[status] || variants.pending;\n    return <Badge variant={config.variant}>{config.label}</Badge>;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"text-center py-12\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-2xl font-bold text-foreground\">Orders Management</h2>\n      </div>\n\n      {orders.length === 0 ? (\n        <Card className=\"border-border shadow-soft\">\n          <CardContent className=\"text-center py-12\">\n            <p className=\"text-muted-foreground\">No orders yet.</p>\n          </CardContent>\n        </Card>\n      ) : (\n        <div className=\"grid gap-4\">\n          {orders.map((order) => (\n            <Card key={order.id} className=\"border-border shadow-soft\">\n              <CardHeader>\n                <div className=\"flex items-start justify-between\">\n                  <div>\n                    <CardTitle className=\"text-lg\">Order {order.order_string}</CardTitle>\n                    <p className=\"text-sm text-muted-foreground mt-1\">\n                      {new Date(order.created_at).toLocaleString()}\n                    </p>\n                  </div>\n                  {getStatusBadge(order.status)}\n                </div>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"grid md:grid-cols-2 gap-4\">\n                  <div>\n                    <h4 className=\"font-semibold text-sm text-muted-foreground mb-2\">Customer Info</h4>\n                    <p className=\"text-foreground\">{order.user_name}</p>\n                    <p className=\"text-sm text-muted-foreground\">{order.phone}</p>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Telegram ID: {order.telegram_user_id}\n                    </p>\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold text-sm text-muted-foreground mb-2\">Delivery</h4>\n                    <p className=\"text-sm text-foreground capitalize\">\n                      {order.delivery_type.replace(\"_\", \" \")}\n                    </p>\n                    <p className=\"text-sm text-muted-foreground\">\n                      {order.address.house_no}, {order.address.street}\n                    </p>\n                    <p className=\"text-sm text-muted-foreground\">\n                      {order.address.ward}, {order.address.township}, {order.address.city}\n                    </p>\n                  </div>\n                </div>\n\n                  <div>\n                    <h4 className=\"font-semibold text-sm text-muted-foreground mb-2\">Items</h4>\n                    <div className=\"space-y-2\">\n                      {order.items.map((item, idx) => (\n                        <div key={idx} className=\"flex justify-between text-sm border-b border-border pb-2\">\n                          <span className=\"text-foreground\">\n                            {item.product_name} x{item.quantity}\n                          </span>\n                          <span className=\"font-semibold text-foreground\">\n                            ${(item.price * item.quantity).toFixed(2)}\n                          </span>\n                        </div>\n                      ))}\n                    <div className=\"flex justify-between text-base font-bold pt-2\">\n                      <span className=\"text-foreground\">Total</span>\n                      <span className=\"text-primary\">${order.total_cost.toFixed(2)}</span>\n                    </div>\n                  </div>\n                </div>\n\n                {order.payment_image_url && (\n                  <div>\n                    <h4 className=\"font-semibold text-sm text-muted-foreground mb-2\">Payment Screenshot</h4>\n                    <Button variant=\"outline\" size=\"sm\" asChild>\n                      <a href={order.payment_image_url} target=\"_blank\" rel=\"noopener noreferrer\">\n                        <Eye className=\"w-4 h-4 mr-2\" />\n                        View Payment\n                      </a>\n                    </Button>\n                  </div>\n                )}\n\n                {order.status === \"pending\" && (\n                  <div className=\"flex gap-2 pt-2\">\n                    <Button\n                      onClick={() => updateOrderStatus(order.id, \"approved\")}\n                      className=\"flex-1 bg-success hover:bg-success/90\"\n                    >\n                      <CheckCircle className=\"w-4 h-4 mr-2\" />\n                      Approve\n                    </Button>\n                    <Button\n                      onClick={() => updateOrderStatus(order.id, \"rejected\")}\n                      variant=\"destructive\"\n                      className=\"flex-1\"\n                    >\n                      <XCircle className=\"w-4 h-4 mr-2\" />\n                      Reject\n                    </Button>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default OrdersTab;","size_bytes":7785},"O3/src/App.tsx":{"content":"import { Toaster } from \"@/components/ui/toaster\";\nimport { Toaster as Sonner } from \"@/components/ui/sonner\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport Index from \"./pages/Index\";\nimport Auth from \"./pages/Auth\";\nimport Admin from \"./pages/Admin\";\nimport NotFound from \"./pages/NotFound\";\n\nconst queryClient = new QueryClient();\n\nconst App = () => (\n  <QueryClientProvider client={queryClient}>\n    <TooltipProvider>\n      <Toaster />\n      <Sonner />\n      <BrowserRouter>\n        <Routes>\n          <Route path=\"/\" element={<Index />} />\n          <Route path=\"/auth\" element={<Auth />} />\n          <Route path=\"/admin\" element={<Admin />} />\n          {/* ADD ALL CUSTOM ROUTES ABOVE THE CATCH-ALL \"*\" ROUTE */}\n          <Route path=\"*\" element={<NotFound />} />\n        </Routes>\n      </BrowserRouter>\n    </TooltipProvider>\n  </QueryClientProvider>\n);\n\nexport default App;\n","size_bytes":1045},"O3/src/components/ui/menubar.tsx":{"content":"import * as React from \"react\";\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\";\nimport { Check, ChevronRight, Circle } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst MenubarMenu = MenubarPrimitive.Menu;\n\nconst MenubarGroup = MenubarPrimitive.Group;\n\nconst MenubarPortal = MenubarPrimitive.Portal;\n\nconst MenubarSub = MenubarPrimitive.Sub;\n\nconst MenubarRadioGroup = MenubarPrimitive.RadioGroup;\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\", className)}\n    {...props}\n  />\n));\nMenubar.displayName = MenubarPrimitive.Root.displayName;\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none data-[state=open]:bg-accent data-[state=open]:text-accent-foreground focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    {...props}\n  />\n));\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName;\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean;\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent data-[state=open]:text-accent-foreground focus:bg-accent focus:text-accent-foreground\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n));\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName;\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className,\n    )}\n    {...props}\n  />\n));\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName;\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(({ className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props }, ref) => (\n  <MenubarPrimitive.Portal>\n    <MenubarPrimitive.Content\n      ref={ref}\n      align={align}\n      alignOffset={alignOffset}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className,\n      )}\n      {...props}\n    />\n  </MenubarPrimitive.Portal>\n));\nMenubarContent.displayName = MenubarPrimitive.Content.displayName;\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  />\n));\nMenubarItem.displayName = MenubarPrimitive.Item.displayName;\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n));\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName;\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n));\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName;\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", inset && \"pl-8\", className)}\n    {...props}\n  />\n));\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName;\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator ref={ref} className={cn(\"-mx-1 my-1 h-px bg-muted\", className)} {...props} />\n));\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName;\n\nconst MenubarShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {\n  return <span className={cn(\"ml-auto text-xs tracking-widest text-muted-foreground\", className)} {...props} />;\n};\nMenubarShortcut.displayname = \"MenubarShortcut\";\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n};\n","size_bytes":7863},"O3/src/components/ui/input.tsx":{"content":"import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className,\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nInput.displayName = \"Input\";\n\nexport { Input };\n","size_bytes":799},"O3/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\";\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\";\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n);\nPagination.displayName = \"Pagination\";\n\nconst PaginationContent = React.forwardRef<HTMLUListElement, React.ComponentProps<\"ul\">>(\n  ({ className, ...props }, ref) => (\n    <ul ref={ref} className={cn(\"flex flex-row items-center gap-1\", className)} {...props} />\n  ),\n);\nPaginationContent.displayName = \"PaginationContent\";\n\nconst PaginationItem = React.forwardRef<HTMLLIElement, React.ComponentProps<\"li\">>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n));\nPaginationItem.displayName = \"PaginationItem\";\n\ntype PaginationLinkProps = {\n  isActive?: boolean;\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">;\n\nconst PaginationLink = ({ className, isActive, size = \"icon\", ...props }: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className,\n    )}\n    {...props}\n  />\n);\nPaginationLink.displayName = \"PaginationLink\";\n\nconst PaginationPrevious = ({ className, ...props }: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink aria-label=\"Go to previous page\" size=\"default\" className={cn(\"gap-1 pl-2.5\", className)} {...props}>\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n);\nPaginationPrevious.displayName = \"PaginationPrevious\";\n\nconst PaginationNext = ({ className, ...props }: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink aria-label=\"Go to next page\" size=\"default\" className={cn(\"gap-1 pr-2.5\", className)} {...props}>\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n);\nPaginationNext.displayName = \"PaginationNext\";\n\nconst PaginationEllipsis = ({ className, ...props }: React.ComponentProps<\"span\">) => (\n  <span aria-hidden className={cn(\"flex h-9 w-9 items-center justify-center\", className)} {...props}>\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n);\nPaginationEllipsis.displayName = \"PaginationEllipsis\";\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n};\n","size_bytes":2683},"O3/main.py":{"content":"def main():\n    print(\"Hello from repl-nix-workspace!\")\n\n\nif __name__ == \"__main__\":\n    main()\n","size_bytes":96},"O3/src/components/ui/card.tsx":{"content":"import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"rounded-lg border bg-card text-card-foreground shadow-sm\", className)} {...props} />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"flex flex-col space-y-1.5 p-6\", className)} {...props} />\n  ),\n);\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(\n  ({ className, ...props }, ref) => (\n    <h3 ref={ref} className={cn(\"text-2xl font-semibold leading-none tracking-tight\", className)} {...props} />\n  ),\n);\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, ...props }, ref) => (\n    <p ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n  ),\n);\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />,\n);\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"flex items-center p-6 pt-0\", className)} {...props} />\n  ),\n);\nCardFooter.displayName = \"CardFooter\";\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n","size_bytes":1785},"O3/src/App.css":{"content":"#root {\n  max-width: 1280px;\n  margin: 0 auto;\n  padding: 2rem;\n  text-align: center;\n}\n\n.logo {\n  height: 6em;\n  padding: 1.5em;\n  will-change: filter;\n  transition: filter 300ms;\n}\n.logo:hover {\n  filter: drop-shadow(0 0 2em #646cffaa);\n}\n.logo.react:hover {\n  filter: drop-shadow(0 0 2em #61dafbaa);\n}\n\n@keyframes logo-spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  a:nth-of-type(2) .logo {\n    animation: logo-spin infinite 20s linear;\n  }\n}\n\n.card {\n  padding: 2em;\n}\n\n.read-the-docs {\n  color: #888;\n}\n","size_bytes":606},"O3/src/components/ui/sidebar.tsx":{"content":"import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { VariantProps, cva } from \"class-variance-authority\";\nimport { PanelLeft } from \"lucide-react\";\n\nimport { useIsMobile } from \"@/hooks/use-mobile\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Sheet, SheetContent } from \"@/components/ui/sheet\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\";\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar:state\";\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7;\nconst SIDEBAR_WIDTH = \"16rem\";\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\";\nconst SIDEBAR_WIDTH_ICON = \"3rem\";\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\";\n\ntype SidebarContext = {\n  state: \"expanded\" | \"collapsed\";\n  open: boolean;\n  setOpen: (open: boolean) => void;\n  openMobile: boolean;\n  setOpenMobile: (open: boolean) => void;\n  isMobile: boolean;\n  toggleSidebar: () => void;\n};\n\nconst SidebarContext = React.createContext<SidebarContext | null>(null);\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext);\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\");\n  }\n\n  return context;\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    defaultOpen?: boolean;\n    open?: boolean;\n    onOpenChange?: (open: boolean) => void;\n  }\n>(({ defaultOpen = true, open: openProp, onOpenChange: setOpenProp, className, style, children, ...props }, ref) => {\n  const isMobile = useIsMobile();\n  const [openMobile, setOpenMobile] = React.useState(false);\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen);\n  const open = openProp ?? _open;\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value;\n      if (setOpenProp) {\n        setOpenProp(openState);\n      } else {\n        _setOpen(openState);\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`;\n    },\n    [setOpenProp, open],\n  );\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open);\n  }, [isMobile, setOpen, setOpenMobile]);\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === SIDEBAR_KEYBOARD_SHORTCUT && (event.metaKey || event.ctrlKey)) {\n        event.preventDefault();\n        toggleSidebar();\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [toggleSidebar]);\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\";\n\n  const contextValue = React.useMemo<SidebarContext>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar],\n  );\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\", className)}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  );\n});\nSidebarProvider.displayName = \"SidebarProvider\";\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    side?: \"left\" | \"right\";\n    variant?: \"sidebar\" | \"floating\" | \"inset\";\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\";\n  }\n>(({ side = \"left\", variant = \"sidebar\", collapsible = \"offcanvas\", className, children, ...props }, ref) => {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar();\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        className={cn(\"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\", className)}\n        ref={ref}\n        {...props}\n      >\n        {children}\n      </div>\n    );\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    );\n  }\n\n  return (\n    <div\n      ref={ref}\n      className=\"group peer hidden text-sidebar-foreground md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        className={cn(\n          \"relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n            : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\",\n        )}\n      />\n      <div\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className,\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n});\nSidebar.displayName = \"Sidebar\";\n\nconst SidebarTrigger = React.forwardRef<React.ElementRef<typeof Button>, React.ComponentProps<typeof Button>>(\n  ({ className, onClick, ...props }, ref) => {\n    const { toggleSidebar } = useSidebar();\n\n    return (\n      <Button\n        ref={ref}\n        data-sidebar=\"trigger\"\n        variant=\"ghost\"\n        size=\"icon\"\n        className={cn(\"h-7 w-7\", className)}\n        onClick={(event) => {\n          onClick?.(event);\n          toggleSidebar();\n        }}\n        {...props}\n      >\n        <PanelLeft />\n        <span className=\"sr-only\">Toggle Sidebar</span>\n      </Button>\n    );\n  },\n);\nSidebarTrigger.displayName = \"SidebarTrigger\";\n\nconst SidebarRail = React.forwardRef<HTMLButtonElement, React.ComponentProps<\"button\">>(\n  ({ className, ...props }, ref) => {\n    const { toggleSidebar } = useSidebar();\n\n    return (\n      <button\n        ref={ref}\n        data-sidebar=\"rail\"\n        aria-label=\"Toggle Sidebar\"\n        tabIndex={-1}\n        onClick={toggleSidebar}\n        title=\"Toggle Sidebar\"\n        className={cn(\n          \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex\",\n          \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n          \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n          \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n          \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n          \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarRail.displayName = \"SidebarRail\";\n\nconst SidebarInset = React.forwardRef<HTMLDivElement, React.ComponentProps<\"main\">>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex min-h-svh flex-1 flex-col bg-background\",\n        \"peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarInset.displayName = \"SidebarInset\";\n\nconst SidebarInput = React.forwardRef<React.ElementRef<typeof Input>, React.ComponentProps<typeof Input>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <Input\n        ref={ref}\n        data-sidebar=\"input\"\n        className={cn(\n          \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarInput.displayName = \"SidebarInput\";\n\nconst SidebarHeader = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\n  return <div ref={ref} data-sidebar=\"header\" className={cn(\"flex flex-col gap-2 p-2\", className)} {...props} />;\n});\nSidebarHeader.displayName = \"SidebarHeader\";\n\nconst SidebarFooter = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\n  return <div ref={ref} data-sidebar=\"footer\" className={cn(\"flex flex-col gap-2 p-2\", className)} {...props} />;\n});\nSidebarFooter.displayName = \"SidebarFooter\";\n\nconst SidebarSeparator = React.forwardRef<React.ElementRef<typeof Separator>, React.ComponentProps<typeof Separator>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <Separator\n        ref={ref}\n        data-sidebar=\"separator\"\n        className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n        {...props}\n      />\n    );\n  },\n);\nSidebarSeparator.displayName = \"SidebarSeparator\";\n\nconst SidebarContent = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarContent.displayName = \"SidebarContent\";\n\nconst SidebarGroup = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  );\n});\nSidebarGroup.displayName = \"SidebarGroup\";\n\nconst SidebarGroupLabel = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\"> & { asChild?: boolean }>(\n  ({ className, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"div\";\n\n    return (\n      <Comp\n        ref={ref}\n        data-sidebar=\"group-label\"\n        className={cn(\n          \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n          \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\";\n\nconst SidebarGroupAction = React.forwardRef<HTMLButtonElement, React.ComponentProps<\"button\"> & { asChild?: boolean }>(\n  ({ className, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n\n    return (\n      <Comp\n        ref={ref}\n        data-sidebar=\"group-action\"\n        className={cn(\n          \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n          // Increases the hit area of the button on mobile.\n          \"after:absolute after:-inset-2 after:md:hidden\",\n          \"group-data-[collapsible=icon]:hidden\",\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarGroupAction.displayName = \"SidebarGroupAction\";\n\nconst SidebarGroupContent = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} data-sidebar=\"group-content\" className={cn(\"w-full text-sm\", className)} {...props} />\n  ),\n);\nSidebarGroupContent.displayName = \"SidebarGroupContent\";\n\nconst SidebarMenu = React.forwardRef<HTMLUListElement, React.ComponentProps<\"ul\">>(({ className, ...props }, ref) => (\n  <ul ref={ref} data-sidebar=\"menu\" className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)} {...props} />\n));\nSidebarMenu.displayName = \"SidebarMenu\";\n\nconst SidebarMenuItem = React.forwardRef<HTMLLIElement, React.ComponentProps<\"li\">>(({ className, ...props }, ref) => (\n  <li ref={ref} data-sidebar=\"menu-item\" className={cn(\"group/menu-item relative\", className)} {...props} />\n));\nSidebarMenuItem.displayName = \"SidebarMenuItem\";\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean;\n    isActive?: boolean;\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>;\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(({ asChild = false, isActive = false, variant = \"default\", size = \"default\", tooltip, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\";\n  const { isMobile, state } = useSidebar();\n\n  const button = (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  );\n\n  if (!tooltip) {\n    return button;\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    };\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent side=\"right\" align=\"center\" hidden={state !== \"collapsed\" || isMobile} {...tooltip} />\n    </Tooltip>\n  );\n});\nSidebarMenuButton.displayName = \"SidebarMenuButton\";\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean;\n    showOnHover?: boolean;\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarMenuAction.displayName = \"SidebarMenuAction\";\n\nconst SidebarMenuBadge = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n);\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\";\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    showIcon?: boolean;\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`;\n  }, []);\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && <Skeleton className=\"size-4 rounded-md\" data-sidebar=\"menu-skeleton-icon\" />}\n      <Skeleton\n        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  );\n});\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\";\n\nconst SidebarMenuSub = React.forwardRef<HTMLUListElement, React.ComponentProps<\"ul\">>(\n  ({ className, ...props }, ref) => (\n    <ul\n      ref={ref}\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n);\nSidebarMenuSub.displayName = \"SidebarMenuSub\";\n\nconst SidebarMenuSubItem = React.forwardRef<HTMLLIElement, React.ComponentProps<\"li\">>(({ ...props }, ref) => (\n  <li ref={ref} {...props} />\n));\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\";\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<\"a\"> & {\n    asChild?: boolean;\n    size?: \"sm\" | \"md\";\n    isActive?: boolean;\n  }\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\";\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\";\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n};\n","size_bytes":22837},"O3/link_admin_telegram.py":{"content":"#!/usr/bin/env python3\n\"\"\"\nLink admin Supabase account to Telegram ID\n\"\"\"\nimport os\nfrom supabase import create_client\nfrom dotenv import load_dotenv\n\nload_dotenv()\n\ndef link_telegram():\n    supabase_url = os.getenv(\"SUPABASE_URL\")\n    service_role_key = os.getenv(\"SUPABASE_SERVICE_ROLE_KEY\")\n    admin_email = os.getenv(\"ADMIN_EMAIL\")\n    \n    if not all([supabase_url, service_role_key, admin_email]):\n        print(\"‚ùå Error: Required environment variables not set\")\n        return False\n    \n    print(\"üîó Linking Telegram account to admin user\")\n    print(f\"üìß Admin email: {admin_email}\")\n    \n    # Ask for Telegram user ID\n    print(\"\\nüì± To find your Telegram user ID:\")\n    print(\"1. Open Telegram and search for @userinfobot\")\n    print(\"2. Send /start to the bot\")\n    print(\"3. It will reply with your user ID\")\n    print()\n    \n    telegram_id = input(\"Enter your Telegram user ID: \").strip()\n    \n    if not telegram_id.isdigit():\n        print(\"‚ùå Invalid Telegram ID. Must be a number.\")\n        return False\n    \n    telegram_id = int(telegram_id)\n    \n    try:\n        supabase = create_client(supabase_url, service_role_key)\n        \n        # Get admin user\n        print(\"\\n1Ô∏è‚É£ Finding admin user...\")\n        user_response = supabase.auth.admin.list_users()\n        \n        user_id = None\n        for user in user_response:\n            if user.email == admin_email:\n                user_id = user.id\n                print(f\"‚úÖ Found admin user! User ID: {user_id}\")\n                break\n        \n        if not user_id:\n            print(f\"‚ùå Admin user with email {admin_email} not found\")\n            return False\n        \n        # Check if profile already exists\n        print(\"\\n2Ô∏è‚É£ Checking existing profile...\")\n        existing_profile = supabase.table(\"profiles\").select(\"*\").eq(\"id\", user_id).maybe_single().execute()\n        \n        if existing_profile.data:\n            # Update existing profile\n            print(\"üìù Updating existing profile...\")\n            response = supabase.table(\"profiles\").update({\n                \"telegram_user_id\": telegram_id\n            }).eq(\"id\", user_id).execute()\n        else:\n            # Create new profile\n            print(\"üìù Creating new profile...\")\n            response = supabase.table(\"profiles\").insert({\n                \"id\": user_id,\n                \"telegram_user_id\": telegram_id,\n                \"is_banned\": False\n            }).execute()\n        \n        if response.data:\n            print(\"‚úÖ Telegram account linked successfully!\")\n            print(f\"\\nüéâ Your Telegram ID {telegram_id} is now linked to admin account\")\n            print(f\"You can now use /admin command in the Telegram bot!\")\n            return True\n        else:\n            print(f\"‚ùå Failed to link: {response}\")\n            return False\n            \n    except Exception as e:\n        print(f\"‚ùå Error: {str(e)}\")\n        return False\n\nif __name__ == \"__main__\":\n    print(\"=\"*60)\n    print(\"  Link Telegram to Admin Account\")\n    print(\"=\"*60)\n    success = link_telegram()\n    print(\"=\"*60)\n    if not success:\n        exit(1)\n","size_bytes":3126},"O3/src/integrations/supabase/types.ts":{"content":"export type Json =\n  | string\n  | number\n  | boolean\n  | null\n  | { [key: string]: Json | undefined }\n  | Json[]\n\nexport type Database = {\n  // Allows to automatically instantiate createClient with right options\n  // instead of createClient<Database, { PostgrestVersion: 'XX' }>(URL, KEY)\n  __InternalSupabase: {\n    PostgrestVersion: \"13.0.5\"\n  }\n  public: {\n    Tables: {\n      broadcast_messages: {\n        Row: {\n          id: string\n          message: string\n          recipient_count: number | null\n          sent_at: string | null\n          sent_by: string\n        }\n        Insert: {\n          id?: string\n          message: string\n          recipient_count?: number | null\n          sent_at?: string | null\n          sent_by: string\n        }\n        Update: {\n          id?: string\n          message?: string\n          recipient_count?: number | null\n          sent_at?: string | null\n          sent_by?: string\n        }\n        Relationships: []\n      }\n      orders: {\n        Row: {\n          address: Json\n          approved_at: string | null\n          approved_by: string | null\n          created_at: string | null\n          delivery_type: Database[\"public\"][\"Enums\"][\"delivery_type\"]\n          id: string\n          items: Json\n          order_string: string\n          payment_image_url: string | null\n          phone: string\n          rejection_reason: string | null\n          status: Database[\"public\"][\"Enums\"][\"order_status\"] | null\n          telegram_user_id: number\n          total_cost: number\n          updated_at: string | null\n          user_name: string\n        }\n        Insert: {\n          address: Json\n          approved_at?: string | null\n          approved_by?: string | null\n          created_at?: string | null\n          delivery_type: Database[\"public\"][\"Enums\"][\"delivery_type\"]\n          id?: string\n          items: Json\n          order_string: string\n          payment_image_url?: string | null\n          phone: string\n          rejection_reason?: string | null\n          status?: Database[\"public\"][\"Enums\"][\"order_status\"] | null\n          telegram_user_id: number\n          total_cost: number\n          updated_at?: string | null\n          user_name: string\n        }\n        Update: {\n          address?: Json\n          approved_at?: string | null\n          approved_by?: string | null\n          created_at?: string | null\n          delivery_type?: Database[\"public\"][\"Enums\"][\"delivery_type\"]\n          id?: string\n          items?: Json\n          order_string?: string\n          payment_image_url?: string | null\n          phone?: string\n          rejection_reason?: string | null\n          status?: Database[\"public\"][\"Enums\"][\"order_status\"] | null\n          telegram_user_id?: number\n          total_cost?: number\n          updated_at?: string | null\n          user_name?: string\n        }\n        Relationships: []\n      }\n      products: {\n        Row: {\n          created_at: string | null\n          description: string | null\n          id: string\n          image_url: string | null\n          is_active: boolean | null\n          name: string\n          price: number\n          product_id: string\n          stock: number\n          updated_at: string | null\n        }\n        Insert: {\n          created_at?: string | null\n          description?: string | null\n          id?: string\n          image_url?: string | null\n          is_active?: boolean | null\n          name: string\n          price: number\n          product_id: string\n          stock?: number\n          updated_at?: string | null\n        }\n        Update: {\n          created_at?: string | null\n          description?: string | null\n          id?: string\n          image_url?: string | null\n          is_active?: boolean | null\n          name?: string\n          price?: number\n          product_id?: string\n          stock?: number\n          updated_at?: string | null\n        }\n        Relationships: []\n      }\n      profiles: {\n        Row: {\n          created_at: string | null\n          id: string\n          is_banned: boolean | null\n          phone: string | null\n          telegram_user_id: number | null\n          updated_at: string | null\n          username: string | null\n        }\n        Insert: {\n          created_at?: string | null\n          id: string\n          is_banned?: boolean | null\n          phone?: string | null\n          telegram_user_id?: number | null\n          updated_at?: string | null\n          username?: string | null\n        }\n        Update: {\n          created_at?: string | null\n          id?: string\n          is_banned?: boolean | null\n          phone?: string | null\n          telegram_user_id?: number | null\n          updated_at?: string | null\n          username?: string | null\n        }\n        Relationships: []\n      }\n      user_roles: {\n        Row: {\n          created_at: string | null\n          id: string\n          role: Database[\"public\"][\"Enums\"][\"app_role\"]\n          user_id: string\n        }\n        Insert: {\n          created_at?: string | null\n          id?: string\n          role?: Database[\"public\"][\"Enums\"][\"app_role\"]\n          user_id: string\n        }\n        Update: {\n          created_at?: string | null\n          id?: string\n          role?: Database[\"public\"][\"Enums\"][\"app_role\"]\n          user_id?: string\n        }\n        Relationships: []\n      }\n    }\n    Views: {\n      [_ in never]: never\n    }\n    Functions: {\n      generate_order_string: { Args: never; Returns: string }\n      has_role: {\n        Args: {\n          _role: Database[\"public\"][\"Enums\"][\"app_role\"]\n          _user_id: string\n        }\n        Returns: boolean\n      }\n    }\n    Enums: {\n      app_role: \"admin\" | \"user\"\n      delivery_type: \"express_cars\" | \"delivery_company\"\n      order_status: \"pending\" | \"approved\" | \"rejected\" | \"delivered\"\n    }\n    CompositeTypes: {\n      [_ in never]: never\n    }\n  }\n}\n\ntype DatabaseWithoutInternals = Omit<Database, \"__InternalSupabase\">\n\ntype DefaultSchema = DatabaseWithoutInternals[Extract<keyof Database, \"public\">]\n\nexport type Tables<\n  DefaultSchemaTableNameOrOptions extends\n    | keyof (DefaultSchema[\"Tables\"] & DefaultSchema[\"Views\"])\n    | { schema: keyof DatabaseWithoutInternals },\n  TableName extends DefaultSchemaTableNameOrOptions extends {\n    schema: keyof DatabaseWithoutInternals\n  }\n    ? keyof (DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions[\"schema\"]][\"Tables\"] &\n        DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions[\"schema\"]][\"Views\"])\n    : never = never,\n> = DefaultSchemaTableNameOrOptions extends {\n  schema: keyof DatabaseWithoutInternals\n}\n  ? (DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions[\"schema\"]][\"Tables\"] &\n      DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions[\"schema\"]][\"Views\"])[TableName] extends {\n      Row: infer R\n    }\n    ? R\n    : never\n  : DefaultSchemaTableNameOrOptions extends keyof (DefaultSchema[\"Tables\"] &\n        DefaultSchema[\"Views\"])\n    ? (DefaultSchema[\"Tables\"] &\n        DefaultSchema[\"Views\"])[DefaultSchemaTableNameOrOptions] extends {\n        Row: infer R\n      }\n      ? R\n      : never\n    : never\n\nexport type TablesInsert<\n  DefaultSchemaTableNameOrOptions extends\n    | keyof DefaultSchema[\"Tables\"]\n    | { schema: keyof DatabaseWithoutInternals },\n  TableName extends DefaultSchemaTableNameOrOptions extends {\n    schema: keyof DatabaseWithoutInternals\n  }\n    ? keyof DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions[\"schema\"]][\"Tables\"]\n    : never = never,\n> = DefaultSchemaTableNameOrOptions extends {\n  schema: keyof DatabaseWithoutInternals\n}\n  ? DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions[\"schema\"]][\"Tables\"][TableName] extends {\n      Insert: infer I\n    }\n    ? I\n    : never\n  : DefaultSchemaTableNameOrOptions extends keyof DefaultSchema[\"Tables\"]\n    ? DefaultSchema[\"Tables\"][DefaultSchemaTableNameOrOptions] extends {\n        Insert: infer I\n      }\n      ? I\n      : never\n    : never\n\nexport type TablesUpdate<\n  DefaultSchemaTableNameOrOptions extends\n    | keyof DefaultSchema[\"Tables\"]\n    | { schema: keyof DatabaseWithoutInternals },\n  TableName extends DefaultSchemaTableNameOrOptions extends {\n    schema: keyof DatabaseWithoutInternals\n  }\n    ? keyof DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions[\"schema\"]][\"Tables\"]\n    : never = never,\n> = DefaultSchemaTableNameOrOptions extends {\n  schema: keyof DatabaseWithoutInternals\n}\n  ? DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions[\"schema\"]][\"Tables\"][TableName] extends {\n      Update: infer U\n    }\n    ? U\n    : never\n  : DefaultSchemaTableNameOrOptions extends keyof DefaultSchema[\"Tables\"]\n    ? DefaultSchema[\"Tables\"][DefaultSchemaTableNameOrOptions] extends {\n        Update: infer U\n      }\n      ? U\n      : never\n    : never\n\nexport type Enums<\n  DefaultSchemaEnumNameOrOptions extends\n    | keyof DefaultSchema[\"Enums\"]\n    | { schema: keyof DatabaseWithoutInternals },\n  EnumName extends DefaultSchemaEnumNameOrOptions extends {\n    schema: keyof DatabaseWithoutInternals\n  }\n    ? keyof DatabaseWithoutInternals[DefaultSchemaEnumNameOrOptions[\"schema\"]][\"Enums\"]\n    : never = never,\n> = DefaultSchemaEnumNameOrOptions extends {\n  schema: keyof DatabaseWithoutInternals\n}\n  ? DatabaseWithoutInternals[DefaultSchemaEnumNameOrOptions[\"schema\"]][\"Enums\"][EnumName]\n  : DefaultSchemaEnumNameOrOptions extends keyof DefaultSchema[\"Enums\"]\n    ? DefaultSchema[\"Enums\"][DefaultSchemaEnumNameOrOptions]\n    : never\n\nexport type CompositeTypes<\n  PublicCompositeTypeNameOrOptions extends\n    | keyof DefaultSchema[\"CompositeTypes\"]\n    | { schema: keyof DatabaseWithoutInternals },\n  CompositeTypeName extends PublicCompositeTypeNameOrOptions extends {\n    schema: keyof DatabaseWithoutInternals\n  }\n    ? keyof DatabaseWithoutInternals[PublicCompositeTypeNameOrOptions[\"schema\"]][\"CompositeTypes\"]\n    : never = never,\n> = PublicCompositeTypeNameOrOptions extends {\n  schema: keyof DatabaseWithoutInternals\n}\n  ? DatabaseWithoutInternals[PublicCompositeTypeNameOrOptions[\"schema\"]][\"CompositeTypes\"][CompositeTypeName]\n  : PublicCompositeTypeNameOrOptions extends keyof DefaultSchema[\"CompositeTypes\"]\n    ? DefaultSchema[\"CompositeTypes\"][PublicCompositeTypeNameOrOptions]\n    : never\n\nexport const Constants = {\n  public: {\n    Enums: {\n      app_role: [\"admin\", \"user\"],\n      delivery_type: [\"express_cars\", \"delivery_company\"],\n      order_status: [\"pending\", \"approved\", \"rejected\", \"delivered\"],\n    },\n  },\n} as const\n","size_bytes":10474},"O3/src/components/admin/UsersTab.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { toast } from \"sonner\";\nimport { Ban, ShieldCheck } from \"lucide-react\";\n\ninterface Profile {\n  id: string;\n  telegram_user_id: number | null;\n  username: string | null;\n  phone: string | null;\n  is_banned: boolean;\n  created_at: string;\n}\n\nconst UsersTab = () => {\n  const [users, setUsers] = useState<Profile[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const fetchUsers = async () => {\n    setLoading(true);\n    const { data, error } = await supabase\n      .from(\"profiles\")\n      .select(\"*\")\n      .order(\"created_at\", { ascending: false });\n\n    if (error) {\n      toast.error(\"Failed to fetch users\");\n    } else {\n      setUsers(data || []);\n    }\n    setLoading(false);\n  };\n\n  const toggleBan = async (userId: string, currentBanStatus: boolean) => {\n    const { error } = await supabase\n      .from(\"profiles\")\n      .update({ is_banned: !currentBanStatus })\n      .eq(\"id\", userId);\n\n    if (error) {\n      toast.error(\"Failed to update user status\");\n    } else {\n      toast.success(currentBanStatus ? \"User unbanned\" : \"User banned\");\n      fetchUsers();\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"text-center py-12\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-2xl font-bold text-foreground\">User Management</h2>\n      </div>\n\n      {users.length === 0 ? (\n        <Card className=\"border-border shadow-soft\">\n          <CardContent className=\"text-center py-12\">\n            <p className=\"text-muted-foreground\">No users yet.</p>\n          </CardContent>\n        </Card>\n      ) : (\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n          {users.map((user) => (\n            <Card key={user.id} className=\"border-border shadow-soft\">\n              <CardContent className=\"p-6 space-y-4\">\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-semibold text-foreground\">\n                      {user.username || \"Unknown User\"}\n                    </h3>\n                    {user.telegram_user_id && (\n                      <p className=\"text-sm text-muted-foreground\">\n                        Telegram ID: {user.telegram_user_id}\n                      </p>\n                    )}\n                    {user.phone && (\n                      <p className=\"text-sm text-muted-foreground\">{user.phone}</p>\n                    )}\n                  </div>\n                  {user.is_banned ? (\n                    <Badge variant=\"destructive\">Banned</Badge>\n                  ) : (\n                    <Badge variant=\"outline\">Active</Badge>\n                  )}\n                </div>\n\n                <p className=\"text-xs text-muted-foreground\">\n                  Joined: {new Date(user.created_at).toLocaleDateString()}\n                </p>\n\n                <Button\n                  onClick={() => toggleBan(user.id, user.is_banned)}\n                  variant={user.is_banned ? \"outline\" : \"destructive\"}\n                  size=\"sm\"\n                  className=\"w-full\"\n                >\n                  {user.is_banned ? (\n                    <>\n                      <ShieldCheck className=\"w-4 h-4 mr-2\" />\n                      Unban User\n                    </>\n                  ) : (\n                    <>\n                      <Ban className=\"w-4 h-4 mr-2\" />\n                      Ban User\n                    </>\n                  )}\n                </Button>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default UsersTab;","size_bytes":4099},"O3/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\";\n\nconst AspectRatio = AspectRatioPrimitive.Root;\n\nexport { AspectRatio };\n","size_bytes":143},"O3/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\";\nimport { Toast, ToastClose, ToastDescription, ToastProvider, ToastTitle, ToastViewport } from \"@/components/ui/toast\";\n\nexport function Toaster() {\n  const { toasts } = useToast();\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && <ToastDescription>{description}</ToastDescription>}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        );\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  );\n}\n","size_bytes":730},"O3/bot/README.md":{"content":"# Telegram Order Bot\n\nThis is a complete Telegram bot for order management that integrates with Supabase.\n\n## Features\n\n- üì¶ Product browsing with inline keyboards\n- üõí Complete order flow with step-by-step data collection\n- üì∏ Payment screenshot upload\n- üöö Delivery type selection (Express Cars / Delivery Company)\n- üìã Order history viewing\n- üîó Deep linking support for direct product access\n- üö´ User ban checking\n- ‚úÖ Order status notifications (pending/approved/rejected/delivered)\n\n## Setup\n\n1. Create a bot with [@BotFather](https://t.me/botfather) on Telegram\n2. Get your bot token\n3. Add the token to your Replit Secrets as `TELEGRAM_BOT_TOKEN`\n4. The bot will automatically connect to the Supabase database\n\n## Bot Commands\n\n- `/start` - Start the bot and show main menu\n- `/products` - Browse all available products\n- `/orders` - View your order history\n- `/help` - Show help information\n- `/cancel` - Cancel current order process\n\n## Deep Linking\n\nShare product links like: `https://t.me/YOUR_BOT?start=PRODUCT_ID`\n\nExample: `https://t.me/YOUR_BOT?start=D1`\n\n## Order Flow\n\n1. User selects a product\n2. Enters quantity\n3. Provides name and phone\n4. Enters complete address (house no, street, ward, township, city)\n5. Selects delivery type\n6. Uploads payment screenshot\n7. Order is created with \"pending\" status\n8. Admin reviews and approves/rejects in the web panel\n9. User receives notification about order status\n\n## Database Integration\n\nThe bot connects to Supabase and interacts with:\n- `products` table - For product listings\n- `orders` table - For order management\n- `profiles` table - For user data\n- `payment-screenshots` storage bucket - For payment images\n\nAll database operations respect Row Level Security policies.\n","size_bytes":1758},"O3/src/pages/Auth.tsx":{"content":"import { Auth as SupabaseAuth } from \"@supabase/auth-ui-react\";\nimport { ThemeSupa } from \"@supabase/auth-ui-shared\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { User } from \"@supabase/supabase-js\";\nimport { Package } from \"lucide-react\";\n\nconst Auth = () => {\n  const navigate = useNavigate();\n  const [user, setUser] = useState<User | null>(null);\n\n  useEffect(() => {\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\n      (event, session) => {\n        setUser(session?.user ?? null);\n        if (session?.user) {\n          navigate(\"/admin\");\n        }\n      }\n    );\n\n    supabase.auth.getSession().then(({ data: { session } }) => {\n      setUser(session?.user ?? null);\n      if (session?.user) {\n        navigate(\"/admin\");\n      }\n    });\n\n    return () => subscription.unsubscribe();\n  }, [navigate]);\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-secondary to-background p-4\">\n      <div className=\"w-full max-w-md\">\n        <div className=\"text-center mb-8\">\n          <div className=\"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-primary shadow-medium mb-4\">\n            <Package className=\"w-8 h-8 text-primary-foreground\" />\n          </div>\n          <h1 className=\"text-3xl font-bold text-foreground mb-2\">Order Bot Admin</h1>\n          <p className=\"text-muted-foreground\">Manage your Telegram order bot</p>\n        </div>\n        \n        <div className=\"bg-card rounded-2xl shadow-medium p-8 border border-border\">\n          <SupabaseAuth\n            supabaseClient={supabase}\n            appearance={{\n              theme: ThemeSupa,\n              variables: {\n                default: {\n                  colors: {\n                    brand: \"hsl(221 83% 53%)\",\n                    brandAccent: \"hsl(221 83% 63%)\",\n                  },\n                  radii: {\n                    borderRadiusButton: \"0.75rem\",\n                    inputBorderRadius: \"0.75rem\",\n                  },\n                },\n              },\n            }}\n            providers={[]}\n            redirectTo={`${window.location.origin}/admin`}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Auth;","size_bytes":2362},"O3/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\";\nimport useEmblaCarousel, { type UseEmblaCarouselType } from \"embla-carousel-react\";\nimport { ArrowLeft, ArrowRight } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\n\ntype CarouselApi = UseEmblaCarouselType[1];\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>;\ntype CarouselOptions = UseCarouselParameters[0];\ntype CarouselPlugin = UseCarouselParameters[1];\n\ntype CarouselProps = {\n  opts?: CarouselOptions;\n  plugins?: CarouselPlugin;\n  orientation?: \"horizontal\" | \"vertical\";\n  setApi?: (api: CarouselApi) => void;\n};\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0];\n  api: ReturnType<typeof useEmblaCarousel>[1];\n  scrollPrev: () => void;\n  scrollNext: () => void;\n  canScrollPrev: boolean;\n  canScrollNext: boolean;\n} & CarouselProps;\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null);\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext);\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\");\n  }\n\n  return context;\n}\n\nconst Carousel = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement> & CarouselProps>(\n  ({ orientation = \"horizontal\", opts, setApi, plugins, className, children, ...props }, ref) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins,\n    );\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false);\n    const [canScrollNext, setCanScrollNext] = React.useState(false);\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return;\n      }\n\n      setCanScrollPrev(api.canScrollPrev());\n      setCanScrollNext(api.canScrollNext());\n    }, []);\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev();\n    }, [api]);\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext();\n    }, [api]);\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault();\n          scrollPrev();\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault();\n          scrollNext();\n        }\n      },\n      [scrollPrev, scrollNext],\n    );\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return;\n      }\n\n      setApi(api);\n    }, [api, setApi]);\n\n    React.useEffect(() => {\n      if (!api) {\n        return;\n      }\n\n      onSelect(api);\n      api.on(\"reInit\", onSelect);\n      api.on(\"select\", onSelect);\n\n      return () => {\n        api?.off(\"select\", onSelect);\n      };\n    }, [api, onSelect]);\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation: orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    );\n  },\n);\nCarousel.displayName = \"Carousel\";\n\nconst CarouselContent = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => {\n    const { carouselRef, orientation } = useCarousel();\n\n    return (\n      <div ref={carouselRef} className=\"overflow-hidden\">\n        <div\n          ref={ref}\n          className={cn(\"flex\", orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\", className)}\n          {...props}\n        />\n      </div>\n    );\n  },\n);\nCarouselContent.displayName = \"CarouselContent\";\n\nconst CarouselItem = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => {\n    const { orientation } = useCarousel();\n\n    return (\n      <div\n        ref={ref}\n        role=\"group\"\n        aria-roledescription=\"slide\"\n        className={cn(\"min-w-0 shrink-0 grow-0 basis-full\", orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\", className)}\n        {...props}\n      />\n    );\n  },\n);\nCarouselItem.displayName = \"CarouselItem\";\n\nconst CarouselPrevious = React.forwardRef<HTMLButtonElement, React.ComponentProps<typeof Button>>(\n  ({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n    const { orientation, scrollPrev, canScrollPrev } = useCarousel();\n\n    return (\n      <Button\n        ref={ref}\n        variant={variant}\n        size={size}\n        className={cn(\n          \"absolute h-8 w-8 rounded-full\",\n          orientation === \"horizontal\"\n            ? \"-left-12 top-1/2 -translate-y-1/2\"\n            : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n          className,\n        )}\n        disabled={!canScrollPrev}\n        onClick={scrollPrev}\n        {...props}\n      >\n        <ArrowLeft className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Previous slide</span>\n      </Button>\n    );\n  },\n);\nCarouselPrevious.displayName = \"CarouselPrevious\";\n\nconst CarouselNext = React.forwardRef<HTMLButtonElement, React.ComponentProps<typeof Button>>(\n  ({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n    const { orientation, scrollNext, canScrollNext } = useCarousel();\n\n    return (\n      <Button\n        ref={ref}\n        variant={variant}\n        size={size}\n        className={cn(\n          \"absolute h-8 w-8 rounded-full\",\n          orientation === \"horizontal\"\n            ? \"-right-12 top-1/2 -translate-y-1/2\"\n            : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n          className,\n        )}\n        disabled={!canScrollNext}\n        onClick={scrollNext}\n        {...props}\n      >\n        <ArrowRight className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Next slide</span>\n      </Button>\n    );\n  },\n);\nCarouselNext.displayName = \"CarouselNext\";\n\nexport { type CarouselApi, Carousel, CarouselContent, CarouselItem, CarouselPrevious, CarouselNext };\n","size_bytes":6249},"O3/pyproject.toml":{"content":"[project]\nname = \"repl-nix-workspace\"\nversion = \"0.1.0\"\ndescription = \"Add your description here\"\nrequires-python = \">=3.11\"\ndependencies = [\n    \"python-dotenv>=1.2.1\",\n    \"python-telegram-bot>=22.5\",\n    \"reportlab>=4.4.5\",\n    \"supabase>=2.24.0\",\n]\n","size_bytes":253},"O3/server/db.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });\n","size_bytes":483},"O3/src/pages/Index.tsx":{"content":"import { Link } from \"react-router-dom\";\nimport { Button } from \"@/components/ui/button\";\nimport { Package, ShoppingCart, Users, MessageSquare, ArrowRight } from \"lucide-react\";\n\nconst Index = () => {\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-background via-secondary to-background\">\n      <div className=\"container mx-auto px-4 py-16\">\n        <div className=\"text-center max-w-3xl mx-auto space-y-8\">\n          <div className=\"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-gradient-primary shadow-medium mb-4\">\n            <Package className=\"w-10 h-10 text-primary-foreground\" />\n          </div>\n          \n          <h1 className=\"text-5xl font-bold text-foreground\">\n            Telegram Order Bot\n          </h1>\n          \n          <p className=\"text-xl text-muted-foreground max-w-2xl mx-auto\">\n            Professional order management system for your Telegram bot. Manage products, process orders, and engage with customers.\n          </p>\n\n          <div className=\"flex flex-col sm:flex-row gap-4 justify-center pt-4\">\n            <Button asChild size=\"lg\" className=\"bg-gradient-primary shadow-soft text-lg\">\n              <Link to=\"/auth\">\n                Get Started\n                <ArrowRight className=\"ml-2 w-5 h-5\" />\n              </Link>\n            </Button>\n            <Button asChild size=\"lg\" variant=\"outline\">\n              <Link to=\"/auth\">Admin Login</Link>\n            </Button>\n          </div>\n\n          <div className=\"grid md:grid-cols-4 gap-6 pt-12\">\n            <div className=\"p-6 rounded-xl bg-card border border-border shadow-soft\">\n              <Package className=\"w-8 h-8 text-primary mb-3\" />\n              <h3 className=\"font-semibold text-foreground mb-2\">Products</h3>\n              <p className=\"text-sm text-muted-foreground\">Manage inventory with ease</p>\n            </div>\n            <div className=\"p-6 rounded-xl bg-card border border-border shadow-soft\">\n              <ShoppingCart className=\"w-8 h-8 text-primary mb-3\" />\n              <h3 className=\"font-semibold text-foreground mb-2\">Orders</h3>\n              <p className=\"text-sm text-muted-foreground\">Track and approve orders</p>\n            </div>\n            <div className=\"p-6 rounded-xl bg-card border border-border shadow-soft\">\n              <Users className=\"w-8 h-8 text-primary mb-3\" />\n              <h3 className=\"font-semibold text-foreground mb-2\">Users</h3>\n              <p className=\"text-sm text-muted-foreground\">Manage customer accounts</p>\n            </div>\n            <div className=\"p-6 rounded-xl bg-card border border-border shadow-soft\">\n              <MessageSquare className=\"w-8 h-8 text-primary mb-3\" />\n              <h3 className=\"font-semibold text-foreground mb-2\">Broadcast</h3>\n              <p className=\"text-sm text-muted-foreground\">Reach all customers instantly</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Index;\n","size_bytes":2978},"O3/tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./pages/**/*.{ts,tsx}\", \"./components/**/*.{ts,tsx}\", \"./app/**/*.{ts,tsx}\", \"./src/**/*.{ts,tsx}\"],\n  prefix: \"\",\n  theme: {\n    container: {\n      center: true,\n      padding: \"2rem\",\n      screens: {\n        \"2xl\": \"1400px\",\n      },\n    },\n    extend: {\n      colors: {\n        border: \"hsl(var(--border))\",\n        input: \"hsl(var(--input))\",\n        ring: \"hsl(var(--ring))\",\n        background: \"hsl(var(--background))\",\n        foreground: \"hsl(var(--foreground))\",\n        primary: {\n          DEFAULT: \"hsl(var(--primary))\",\n          foreground: \"hsl(var(--primary-foreground))\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary))\",\n          foreground: \"hsl(var(--secondary-foreground))\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive))\",\n          foreground: \"hsl(var(--destructive-foreground))\",\n        },\n        success: {\n          DEFAULT: \"hsl(var(--success))\",\n          foreground: \"hsl(var(--success-foreground))\",\n        },\n        warning: {\n          DEFAULT: \"hsl(var(--warning))\",\n          foreground: \"hsl(var(--warning-foreground))\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted))\",\n          foreground: \"hsl(var(--muted-foreground))\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent))\",\n          foreground: \"hsl(var(--accent-foreground))\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover))\",\n          foreground: \"hsl(var(--popover-foreground))\",\n        },\n        card: {\n          DEFAULT: \"hsl(var(--card))\",\n          foreground: \"hsl(var(--card-foreground))\",\n        },\n        sidebar: {\n          DEFAULT: \"hsl(var(--sidebar-background))\",\n          foreground: \"hsl(var(--sidebar-foreground))\",\n          primary: \"hsl(var(--sidebar-primary))\",\n          \"primary-foreground\": \"hsl(var(--sidebar-primary-foreground))\",\n          accent: \"hsl(var(--sidebar-accent))\",\n          \"accent-foreground\": \"hsl(var(--sidebar-accent-foreground))\",\n          border: \"hsl(var(--sidebar-border))\",\n          ring: \"hsl(var(--sidebar-ring))\",\n        },\n      },\n      boxShadow: {\n        soft: \"var(--shadow-soft)\",\n        medium: \"var(--shadow-medium)\",\n      },\n      backgroundImage: {\n        \"gradient-primary\": \"var(--gradient-primary)\",\n        \"gradient-secondary\": \"var(--gradient-secondary)\",\n      },\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: {\n            height: \"0\",\n          },\n          to: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n        },\n        \"accordion-up\": {\n          from: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n          to: {\n            height: \"0\",\n          },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\")],\n} satisfies Config;\n","size_bytes":3214},"O3/src/components/ui/form.tsx":{"content":"import * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { Controller, ControllerProps, FieldPath, FieldValues, FormProvider, useFormContext } from \"react-hook-form\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Label } from \"@/components/ui/label\";\n\nconst Form = FormProvider;\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> = {\n  name: TName;\n};\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>({} as FormFieldContextValue);\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  );\n};\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext);\n  const itemContext = React.useContext(FormItemContext);\n  const { getFieldState, formState } = useFormContext();\n\n  const fieldState = getFieldState(fieldContext.name, formState);\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\");\n  }\n\n  const { id } = itemContext;\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  };\n};\n\ntype FormItemContextValue = {\n  id: string;\n};\n\nconst FormItemContext = React.createContext<FormItemContextValue>({} as FormItemContextValue);\n\nconst FormItem = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => {\n    const id = React.useId();\n\n    return (\n      <FormItemContext.Provider value={{ id }}>\n        <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n      </FormItemContext.Provider>\n    );\n  },\n);\nFormItem.displayName = \"FormItem\";\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField();\n\n  return <Label ref={ref} className={cn(error && \"text-destructive\", className)} htmlFor={formItemId} {...props} />;\n});\nFormLabel.displayName = \"FormLabel\";\n\nconst FormControl = React.forwardRef<React.ElementRef<typeof Slot>, React.ComponentPropsWithoutRef<typeof Slot>>(\n  ({ ...props }, ref) => {\n    const { error, formItemId, formDescriptionId, formMessageId } = useFormField();\n\n    return (\n      <Slot\n        ref={ref}\n        id={formItemId}\n        aria-describedby={!error ? `${formDescriptionId}` : `${formDescriptionId} ${formMessageId}`}\n        aria-invalid={!!error}\n        {...props}\n      />\n    );\n  },\n);\nFormControl.displayName = \"FormControl\";\n\nconst FormDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, ...props }, ref) => {\n    const { formDescriptionId } = useFormField();\n\n    return <p ref={ref} id={formDescriptionId} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />;\n  },\n);\nFormDescription.displayName = \"FormDescription\";\n\nconst FormMessage = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, children, ...props }, ref) => {\n    const { error, formMessageId } = useFormField();\n    const body = error ? String(error?.message) : children;\n\n    if (!body) {\n      return null;\n    }\n\n    return (\n      <p ref={ref} id={formMessageId} className={cn(\"text-sm font-medium text-destructive\", className)} {...props}>\n        {body}\n      </p>\n    );\n  },\n);\nFormMessage.displayName = \"FormMessage\";\n\nexport { useFormField, Form, FormItem, FormLabel, FormControl, FormDescription, FormMessage, FormField };\n","size_bytes":4014},"O3/src/components/ui/toast.tsx":{"content":"import * as React from \"react\";\nimport * as ToastPrimitives from \"@radix-ui/react-toast\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { X } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst ToastProvider = ToastPrimitives.Provider;\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className,\n    )}\n    {...props}\n  />\n));\nToastViewport.displayName = ToastPrimitives.Viewport.displayName;\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive: \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> & VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return <ToastPrimitives.Root ref={ref} className={cn(toastVariants({ variant }), className)} {...props} />;\n});\nToast.displayName = ToastPrimitives.Root.displayName;\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50\",\n      className,\n    )}\n    {...props}\n  />\n));\nToastAction.displayName = ToastPrimitives.Action.displayName;\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className,\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n));\nToastClose.displayName = ToastPrimitives.Close.displayName;\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title ref={ref} className={cn(\"text-sm font-semibold\", className)} {...props} />\n));\nToastTitle.displayName = ToastPrimitives.Title.displayName;\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description ref={ref} className={cn(\"text-sm opacity-90\", className)} {...props} />\n));\nToastDescription.displayName = ToastPrimitives.Description.displayName;\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>;\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>;\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n};\n","size_bytes":4798},"O3/src/components/ui/select.tsx":{"content":"import * as React from \"react\";\nimport * as SelectPrimitive from \"@radix-ui/react-select\";\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Select = SelectPrimitive.Root;\n\nconst SelectGroup = SelectPrimitive.Group;\n\nconst SelectValue = SelectPrimitive.Value;\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n));\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName;\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n));\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n));\nSelectScrollDownButton.displayName = SelectPrimitive.ScrollDownButton.displayName;\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className,\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\",\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n));\nSelectContent.displayName = SelectPrimitive.Content.displayName;\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label ref={ref} className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)} {...props} />\n));\nSelectLabel.displayName = SelectPrimitive.Label.displayName;\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n));\nSelectItem.displayName = SelectPrimitive.Item.displayName;\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator ref={ref} className={cn(\"-mx-1 my-1 h-px bg-muted\", className)} {...props} />\n));\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName;\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n};\n","size_bytes":5575},"O3/supabase/config.toml":{"content":"project_id = \"dwaxejcqvtkeavngwrzk\"","size_bytes":35},"O3/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\";\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root ref={ref} className={cn(\"relative overflow-hidden\", className)} {...props}>\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">{children}</ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n));\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName;\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" && \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" && \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className,\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n));\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName;\n\nexport { ScrollArea, ScrollBar };\n","size_bytes":1608},"O3/src/components/ui/sonner.tsx":{"content":"import { useTheme } from \"next-themes\";\nimport { Toaster as Sonner, toast } from \"sonner\";\n\ntype ToasterProps = React.ComponentProps<typeof Sonner>;\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const { theme = \"system\" } = useTheme();\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps[\"theme\"]}\n      className=\"toaster group\"\n      toastOptions={{\n        classNames: {\n          toast:\n            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n          description: \"group-[.toast]:text-muted-foreground\",\n          actionButton: \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n          cancelButton: \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n        },\n      }}\n      {...props}\n    />\n  );\n};\n\nexport { Toaster, toast };\n","size_bytes":877},"O3/src/components/ui/dialog.tsx":{"content":"import * as React from \"react\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { X } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Dialog = DialogPrimitive.Root;\n\nconst DialogTrigger = DialogPrimitive.Trigger;\n\nconst DialogPortal = DialogPrimitive.Portal;\n\nconst DialogClose = DialogPrimitive.Close;\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className,\n    )}\n    {...props}\n  />\n));\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n));\nDialogContent.displayName = DialogPrimitive.Content.displayName;\n\nconst DialogHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col space-y-1.5 text-center sm:text-left\", className)} {...props} />\n);\nDialogHeader.displayName = \"DialogHeader\";\n\nconst DialogFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)} {...props} />\n);\nDialogFooter.displayName = \"DialogFooter\";\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n));\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n};\n","size_bytes":3761},"O3/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\";\nimport { OTPInput, OTPInputContext } from \"input-otp\";\nimport { Dot } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst InputOTP = React.forwardRef<React.ElementRef<typeof OTPInput>, React.ComponentPropsWithoutRef<typeof OTPInput>>(\n  ({ className, containerClassName, ...props }, ref) => (\n    <OTPInput\n      ref={ref}\n      containerClassName={cn(\"flex items-center gap-2 has-[:disabled]:opacity-50\", containerClassName)}\n      className={cn(\"disabled:cursor-not-allowed\", className)}\n      {...props}\n    />\n  ),\n);\nInputOTP.displayName = \"InputOTP\";\n\nconst InputOTPGroup = React.forwardRef<React.ElementRef<\"div\">, React.ComponentPropsWithoutRef<\"div\">>(\n  ({ className, ...props }, ref) => <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />,\n);\nInputOTPGroup.displayName = \"InputOTPGroup\";\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext);\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index];\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className,\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"animate-caret-blink h-4 w-px bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  );\n});\nInputOTPSlot.displayName = \"InputOTPSlot\";\n\nconst InputOTPSeparator = React.forwardRef<React.ElementRef<\"div\">, React.ComponentPropsWithoutRef<\"div\">>(\n  ({ ...props }, ref) => (\n    <div ref={ref} role=\"separator\" {...props}>\n      <Dot />\n    </div>\n  ),\n);\nInputOTPSeparator.displayName = \"InputOTPSeparator\";\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator };\n","size_bytes":2166},"O3/src/components/ui/chart.tsx":{"content":"import * as React from \"react\";\nimport * as RechartsPrimitive from \"recharts\";\n\nimport { cn } from \"@/lib/utils\";\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const;\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode;\n    icon?: React.ComponentType;\n  } & ({ color?: string; theme?: never } | { color?: never; theme: Record<keyof typeof THEMES, string> });\n};\n\ntype ChartContextProps = {\n  config: ChartConfig;\n};\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null);\n\nfunction useChart() {\n  const context = React.useContext(ChartContext);\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\");\n  }\n\n  return context;\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig;\n    children: React.ComponentProps<typeof RechartsPrimitive.ResponsiveContainer>[\"children\"];\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId();\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`;\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className,\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>{children}</RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  );\n});\nChartContainer.displayName = \"Chart\";\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(([_, config]) => config.theme || config.color);\n\n  if (!colorConfig.length) {\n    return null;\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color = itemConfig.theme?.[theme as keyof typeof itemConfig.theme] || itemConfig.color;\n    return color ? `  --color-${key}: ${color};` : null;\n  })\n  .join(\"\\n\")}\n}\n`,\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  );\n};\n\nconst ChartTooltip = RechartsPrimitive.Tooltip;\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean;\n      hideIndicator?: boolean;\n      indicator?: \"line\" | \"dot\" | \"dashed\";\n      nameKey?: string;\n      labelKey?: string;\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref,\n  ) => {\n    const { config } = useChart();\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null;\n      }\n\n      const [item] = payload;\n      const key = `${labelKey || item.dataKey || item.name || \"value\"}`;\n      const itemConfig = getPayloadConfigFromPayload(config, item, key);\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label;\n\n      if (labelFormatter) {\n        return <div className={cn(\"font-medium\", labelClassName)}>{labelFormatter(value, payload)}</div>;\n      }\n\n      if (!value) {\n        return null;\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>;\n    }, [label, labelFormatter, payload, hideLabel, labelClassName, config, labelKey]);\n\n    if (!active || !payload?.length) {\n      return null;\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\";\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className,\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`;\n            const itemConfig = getPayloadConfigFromPayload(config, item, key);\n            const indicatorColor = color || item.payload.fill || item.color;\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\",\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\", {\n                            \"h-2.5 w-2.5\": indicator === \"dot\",\n                            \"w-1\": indicator === \"line\",\n                            \"w-0 border-[1.5px] border-dashed bg-transparent\": indicator === \"dashed\",\n                            \"my-0.5\": nestLabel && indicator === \"dashed\",\n                          })}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\",\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">{itemConfig?.label || item.name}</span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  },\n);\nChartTooltipContent.displayName = \"ChartTooltip\";\n\nconst ChartLegend = RechartsPrimitive.Legend;\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean;\n      nameKey?: string;\n    }\n>(({ className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey }, ref) => {\n  const { config } = useChart();\n\n  if (!payload?.length) {\n    return null;\n  }\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\"flex items-center justify-center gap-4\", verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\", className)}\n    >\n      {payload.map((item) => {\n        const key = `${nameKey || item.dataKey || \"value\"}`;\n        const itemConfig = getPayloadConfigFromPayload(config, item, key);\n\n        return (\n          <div\n            key={item.value}\n            className={cn(\"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\")}\n          >\n            {itemConfig?.icon && !hideIcon ? (\n              <itemConfig.icon />\n            ) : (\n              <div\n                className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                style={{\n                  backgroundColor: item.color,\n                }}\n              />\n            )}\n            {itemConfig?.label}\n          </div>\n        );\n      })}\n    </div>\n  );\n});\nChartLegendContent.displayName = \"ChartLegend\";\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(config: ChartConfig, payload: unknown, key: string) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined;\n  }\n\n  const payloadPayload =\n    \"payload\" in payload && typeof payload.payload === \"object\" && payload.payload !== null\n      ? payload.payload\n      : undefined;\n\n  let configLabelKey: string = key;\n\n  if (key in payload && typeof payload[key as keyof typeof payload] === \"string\") {\n    configLabelKey = payload[key as keyof typeof payload] as string;\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[key as keyof typeof payloadPayload] as string;\n  }\n\n  return configLabelKey in config ? config[configLabelKey] : config[key as keyof typeof config];\n}\n\nexport { ChartContainer, ChartTooltip, ChartTooltipContent, ChartLegend, ChartLegendContent, ChartStyle };\n","size_bytes":9987},"O3/src/pages/Admin.tsx":{"content":"import { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { User, Session } from \"@supabase/supabase-js\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Button } from \"@/components/ui/button\";\nimport { LogOut, Package, ShoppingCart, Users, MessageSquare } from \"lucide-react\";\nimport ProductsTab from \"@/components/admin/ProductsTab\";\nimport OrdersTab from \"@/components/admin/OrdersTab\";\nimport UsersTab from \"@/components/admin/UsersTab\";\nimport BroadcastTab from \"@/components/admin/BroadcastTab\";\n\nconst Admin = () => {\n  const navigate = useNavigate();\n  const [user, setUser] = useState<User | null>(null);\n  const [session, setSession] = useState<Session | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [isAdmin, setIsAdmin] = useState(false);\n\n  useEffect(() => {\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\n      (event, session) => {\n        setSession(session);\n        setUser(session?.user ?? null);\n        if (!session?.user) {\n          navigate(\"/auth\");\n        }\n      }\n    );\n\n    supabase.auth.getSession().then(({ data: { session } }) => {\n      setSession(session);\n      setUser(session?.user ?? null);\n      if (!session?.user) {\n        navigate(\"/auth\");\n      } else {\n        checkAdminStatus(session.user.id);\n      }\n      setLoading(false);\n    });\n\n    return () => subscription.unsubscribe();\n  }, [navigate]);\n\n  const checkAdminStatus = async (userId: string) => {\n    const { data } = await supabase\n      .from(\"user_roles\")\n      .select(\"role\")\n      .eq(\"user_id\", userId)\n      .eq(\"role\", \"admin\")\n      .maybeSingle();\n    \n    setIsAdmin(!!data);\n  };\n\n  const handleSignOut = async () => {\n    await supabase.auth.signOut();\n    navigate(\"/auth\");\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-background\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\n      </div>\n    );\n  }\n\n  if (!isAdmin) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-background p-4\">\n        <div className=\"text-center max-w-md\">\n          <h1 className=\"text-2xl font-bold text-foreground mb-4\">Access Denied</h1>\n          <p className=\"text-muted-foreground mb-6\">You don't have admin permissions. Please contact the administrator.</p>\n          <Button onClick={handleSignOut} variant=\"outline\">\n            <LogOut className=\"w-4 h-4 mr-2\" />\n            Sign Out\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-background via-secondary to-background\">\n      <header className=\"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-10\">\n        <div className=\"container mx-auto px-4 py-4 flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-xl bg-gradient-primary flex items-center justify-center shadow-soft\">\n              <Package className=\"w-5 h-5 text-primary-foreground\" />\n            </div>\n            <div>\n              <h1 className=\"text-xl font-bold text-foreground\">Order Bot Admin</h1>\n              <p className=\"text-sm text-muted-foreground\">{user?.email}</p>\n            </div>\n          </div>\n          <Button onClick={handleSignOut} variant=\"outline\" size=\"sm\">\n            <LogOut className=\"w-4 h-4 mr-2\" />\n            Sign Out\n          </Button>\n        </div>\n      </header>\n\n      <main className=\"container mx-auto px-4 py-8\">\n        <Tabs defaultValue=\"products\" className=\"space-y-6\">\n          <TabsList className=\"grid w-full grid-cols-4 bg-card border border-border rounded-xl p-1\">\n            <TabsTrigger value=\"products\" className=\"rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground\">\n              <Package className=\"w-4 h-4 mr-2\" />\n              Products\n            </TabsTrigger>\n            <TabsTrigger value=\"orders\" className=\"rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground\">\n              <ShoppingCart className=\"w-4 h-4 mr-2\" />\n              Orders\n            </TabsTrigger>\n            <TabsTrigger value=\"users\" className=\"rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground\">\n              <Users className=\"w-4 h-4 mr-2\" />\n              Users\n            </TabsTrigger>\n            <TabsTrigger value=\"broadcast\" className=\"rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground\">\n              <MessageSquare className=\"w-4 h-4 mr-2\" />\n              Broadcast\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"products\" className=\"mt-6\">\n            <ProductsTab />\n          </TabsContent>\n\n          <TabsContent value=\"orders\" className=\"mt-6\">\n            <OrdersTab />\n          </TabsContent>\n\n          <TabsContent value=\"users\" className=\"mt-6\">\n            <UsersTab />\n          </TabsContent>\n\n          <TabsContent value=\"broadcast\" className=\"mt-6\">\n            <BroadcastTab />\n          </TabsContent>\n        </Tabs>\n      </main>\n    </div>\n  );\n};\n\nexport default Admin;","size_bytes":5368},"O3/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode;\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />);\nBreadcrumb.displayName = \"Breadcrumb\";\n\nconst BreadcrumbList = React.forwardRef<HTMLOListElement, React.ComponentPropsWithoutRef<\"ol\">>(\n  ({ className, ...props }, ref) => (\n    <ol\n      ref={ref}\n      className={cn(\n        \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n);\nBreadcrumbList.displayName = \"BreadcrumbList\";\n\nconst BreadcrumbItem = React.forwardRef<HTMLLIElement, React.ComponentPropsWithoutRef<\"li\">>(\n  ({ className, ...props }, ref) => (\n    <li ref={ref} className={cn(\"inline-flex items-center gap-1.5\", className)} {...props} />\n  ),\n);\nBreadcrumbItem.displayName = \"BreadcrumbItem\";\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean;\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\";\n\n  return <Comp ref={ref} className={cn(\"transition-colors hover:text-foreground\", className)} {...props} />;\n});\nBreadcrumbLink.displayName = \"BreadcrumbLink\";\n\nconst BreadcrumbPage = React.forwardRef<HTMLSpanElement, React.ComponentPropsWithoutRef<\"span\">>(\n  ({ className, ...props }, ref) => (\n    <span\n      ref={ref}\n      role=\"link\"\n      aria-disabled=\"true\"\n      aria-current=\"page\"\n      className={cn(\"font-normal text-foreground\", className)}\n      {...props}\n    />\n  ),\n);\nBreadcrumbPage.displayName = \"BreadcrumbPage\";\n\nconst BreadcrumbSeparator = ({ children, className, ...props }: React.ComponentProps<\"li\">) => (\n  <li role=\"presentation\" aria-hidden=\"true\" className={cn(\"[&>svg]:size-3.5\", className)} {...props}>\n    {children ?? <ChevronRight />}\n  </li>\n);\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\";\n\nconst BreadcrumbEllipsis = ({ className, ...props }: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n);\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\";\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n};\n","size_bytes":2687},"O3/src/components/ui/collapsible.tsx":{"content":"import * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\";\n\nconst Collapsible = CollapsiblePrimitive.Root;\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger;\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent;\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent };\n","size_bytes":320},"O3/src/components/ui/switch.tsx":{"content":"import * as React from \"react\";\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50\",\n      className,\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\",\n      )}\n    />\n  </SwitchPrimitives.Root>\n));\nSwitch.displayName = SwitchPrimitives.Root.displayName;\n\nexport { Switch };\n","size_bytes":1147},"O3/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\";\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\nimport { DayPicker } from \"react-day-picker\";\n\nimport { cn } from \"@/lib/utils\";\nimport { buttonVariants } from \"@/components/ui/button\";\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>;\n\nfunction Calendar({ className, classNames, showOutsideDays = true, ...props }: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\",\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell: \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(buttonVariants({ variant: \"ghost\" }), \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle: \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ ..._props }) => <ChevronLeft className=\"h-4 w-4\" />,\n        IconRight: ({ ..._props }) => <ChevronRight className=\"h-4 w-4\" />,\n      }}\n      {...props}\n    />\n  );\n}\nCalendar.displayName = \"Calendar\";\n\nexport { Calendar };\n","size_bytes":2563},"O3/src/components/ui/use-toast.ts":{"content":"import { useToast, toast } from \"@/hooks/use-toast\";\n\nexport { useToast, toast };\n","size_bytes":82},"O3/src/components/ui/avatar.tsx":{"content":"import * as React from \"react\";\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\", className)}\n    {...props}\n  />\n));\nAvatar.displayName = AvatarPrimitive.Root.displayName;\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image ref={ref} className={cn(\"aspect-square h-full w-full\", className)} {...props} />\n));\nAvatarImage.displayName = AvatarPrimitive.Image.displayName;\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\"flex h-full w-full items-center justify-center rounded-full bg-muted\", className)}\n    {...props}\n  />\n));\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName;\n\nexport { Avatar, AvatarImage, AvatarFallback };\n","size_bytes":1365},"O3/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\";\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\";\nimport { Check } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n      className,\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator className={cn(\"flex items-center justify-center text-current\")}>\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n));\nCheckbox.displayName = CheckboxPrimitive.Root.displayName;\n\nexport { Checkbox };\n","size_bytes":1053},"O3/src/components/ui/hover-card.tsx":{"content":"import * as React from \"react\";\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst HoverCard = HoverCardPrimitive.Root;\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger;\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className,\n    )}\n    {...props}\n  />\n));\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName;\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent };\n","size_bytes":1193},"O3/replit.md":{"content":"# Telegram Order Bot with Admin Panel\n\n## Overview\n\nThis is a full-stack order management system consisting of a web-based admin panel and a Telegram bot for customer interactions. The admin panel is built with React, Vite, and TypeScript, providing a modern interface for managing products, orders, users, and broadcast messages. The Telegram bot allows customers to browse products, place orders, and track their order status directly through Telegram.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## Recent Changes (November 18, 2025)\n\n### Completed Replit Environment Setup\n- ‚úÖ Installed Python 3.11 and Node.js 20 modules for full-stack support\n- ‚úÖ Fixed vite.config.ts to allow all hosts (allowedHosts: true) for Replit proxy compatibility\n- ‚úÖ Installed all npm dependencies (React, Vite, Shadcn/ui, Supabase client, etc.)\n- ‚úÖ Installed Python dependencies via packager (python-telegram-bot, supabase, reportlab for PDF generation)\n- ‚úÖ Configured environment secrets (TELEGRAM_BOT_TOKEN, SUPABASE_URL, SUPABASE_ANON_KEY, ADMIN_CHANNEL_ID)\n- ‚úÖ Set up two workflows:\n  - \"Start application\" - React admin panel on port 5000 (webview)\n  - \"Telegram Bot\" - Python bot polling for Telegram updates (console)\n- ‚úÖ Updated .gitignore for Node.js and Python artifacts\n- ‚úÖ Configured deployment settings for production (autoscale with Vite preview)\n- ‚úÖ Both workflows verified running successfully\n- ‚úÖ Admin channel configured for order notifications with approve/reject buttons\n- ‚úÖ Added /getchatid command to bot for easy channel ID discovery\n\n## System Architecture\n\n### Frontend Architecture\n\n**Framework & Build Tool**\n- React 18 with TypeScript for type safety and modern development\n- Vite as the build tool for fast development and optimized production builds\n- React Router for client-side routing with a catch-all 404 handler\n\n**UI Framework**\n- Shadcn/ui components built on Radix UI primitives for accessible, customizable components\n- Tailwind CSS for utility-first styling with custom design tokens\n- HSL-based color system defined in CSS variables for consistent theming\n- Responsive design with mobile-first approach\n\n**State Management**\n- TanStack Query (React Query) for server state management and caching\n- React Hook Form with Zod resolvers for form validation\n- Context API for authentication state\n\n**Key Pages**\n- `/` - Landing page showcasing features\n- `/auth` - Authentication page with Supabase Auth UI\n- `/admin` - Protected admin dashboard with tabbed interface for:\n  - Products: CRUD operations for inventory management\n  - Orders: View, approve, reject, and track orders\n  - Users: Manage customer accounts and ban/unban users\n  - Broadcast: Send messages to all active users\n\n### Backend Architecture\n\n**Telegram Bot (Python)**\n- Built with python-telegram-bot library\n- Conversation handler for multi-step order flow\n- Deep linking support for direct product access via `t.me/bot?start=PRODUCT_ID`\n- Real-time order status notifications\n- User ban checking before allowing interactions\n\n**Order Flow Steps**\n1. Product selection via inline keyboards\n2. Quantity input\n3. Customer name and phone collection\n4. Complete address entry (house number, street, ward, township, city)\n5. Delivery type selection (Express Cars or Delivery Company)\n6. Payment screenshot upload\n7. Order creation with \"pending\" status\n8. Admin approval/rejection workflow\n9. Status change notifications to customer\n\n### Data Storage\n\n**Database Platform**: Supabase (PostgreSQL)\n\n**Core Tables**\n- `products`: Product catalog with SKU, name, description, price, stock, images, and active status\n- `orders`: Order records with JSON fields for items and address, status tracking, payment images\n- `profiles`: User profiles linked to Telegram IDs with ban status\n- `user_roles`: Role-based access control for admin permissions\n- `broadcast_messages`: History of broadcast messages sent to users\n\n**Storage Buckets**\n- `payment-screenshots`: Private bucket for payment proof images\n- `product-images`: Public bucket for product catalog images\n\n**Security**\n- Row Level Security (RLS) policies on all tables\n- Supabase authentication for admin panel access\n- API key-based authentication for bot-to-database communication\n\n### External Dependencies\n\n**Authentication & Database**\n- Supabase: PostgreSQL database, authentication, and file storage\n- Supabase URL: `https://dwaxejcqvtkeavngwrzk.supabase.co`\n- Uses both Supabase Auth UI components and custom authentication flows\n\n**Telegram Integration**\n- Telegram Bot API for customer-facing bot functionality\n- Requires `TELEGRAM_BOT_TOKEN` from BotFather\n- python-telegram-bot library for Python implementation\n\n**Third-Party Libraries**\n- Radix UI primitives for accessible component foundations\n- Lucide React for consistent iconography\n- date-fns for date formatting and manipulation\n- Sonner for toast notifications\n- Embla Carousel for image carousels\n\n**Development Tools**\n- ESLint with TypeScript support for code quality\n- Lovable Tagger for component tracking in development mode\n- React DevTools compatible setup\n\n**Hosting & Deployment**\n- Configured for Replit deployment with custom host and port settings\n- Vite configured to accept connections from `.replit.dev` domains\n- Environment variables managed through Replit Secrets","size_bytes":5351},"O3/vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react-swc\";\nimport path from \"path\";\nimport { componentTagger } from \"lovable-tagger\";\n\n// https://vitejs.dev/config/\nexport default defineConfig(({ mode }) => ({\n  server: {\n    host: \"0.0.0.0\",\n    port: 5000,\n    allowedHosts: true,\n  },\n  plugins: [react(), mode === \"development\" && componentTagger()].filter(Boolean),\n  resolve: {\n    alias: {\n      \"@\": path.resolve(__dirname, \"./src\"),\n    },\n  },\n}));\n","size_bytes":483},"O3/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { Check, ChevronRight, Circle } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst DropdownMenu = DropdownMenuPrimitive.Root;\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger;\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group;\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal;\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub;\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup;\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean;\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </DropdownMenuPrimitive.SubTrigger>\n));\nDropdownMenuSubTrigger.displayName = DropdownMenuPrimitive.SubTrigger.displayName;\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuSubContent.displayName = DropdownMenuPrimitive.SubContent.displayName;\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className,\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n));\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName;\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n));\nDropdownMenuCheckboxItem.displayName = DropdownMenuPrimitive.CheckboxItem.displayName;\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n));\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName;\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", inset && \"pl-8\", className)}\n    {...props}\n  />\n));\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName;\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator ref={ref} className={cn(\"-mx-1 my-1 h-px bg-muted\", className)} {...props} />\n));\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName;\n\nconst DropdownMenuShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {\n  return <span className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)} {...props} />;\n};\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\";\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n};\n","size_bytes":7260},"O3/src/components/NavLink.tsx":{"content":"import { NavLink as RouterNavLink, NavLinkProps } from \"react-router-dom\";\nimport { forwardRef } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ninterface NavLinkCompatProps extends Omit<NavLinkProps, \"className\"> {\n  className?: string;\n  activeClassName?: string;\n  pendingClassName?: string;\n}\n\nconst NavLink = forwardRef<HTMLAnchorElement, NavLinkCompatProps>(\n  ({ className, activeClassName, pendingClassName, to, ...props }, ref) => {\n    return (\n      <RouterNavLink\n        ref={ref}\n        to={to}\n        className={({ isActive, isPending }) =>\n          cn(className, isActive && activeClassName, isPending && pendingClassName)\n        }\n        {...props}\n      />\n    );\n  },\n);\n\nNavLink.displayName = \"NavLink\";\n\nexport { NavLink };\n","size_bytes":751},"O3/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\";\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Tabs = TabsPrimitive.Root;\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className,\n    )}\n    {...props}\n  />\n));\nTabsList.displayName = TabsPrimitive.List.displayName;\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n      className,\n    )}\n    {...props}\n  />\n));\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName;\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className,\n    )}\n    {...props}\n  />\n));\nTabsContent.displayName = TabsPrimitive.Content.displayName;\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\n","size_bytes":1897},"O3/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. \nAll colors MUST be HSL.\n*/\n\n@layer base {\n  :root {\n    --background: 210 40% 98%;\n    --foreground: 222 47% 11%;\n\n    --card: 0 0% 100%;\n    --card-foreground: 222 47% 11%;\n\n    --popover: 0 0% 100%;\n    --popover-foreground: 222 47% 11%;\n\n    --primary: 221 83% 53%;\n    --primary-foreground: 210 40% 98%;\n    \n    --secondary: 210 40% 96%;\n    --secondary-foreground: 222 47% 11%;\n\n    --muted: 210 40% 96%;\n    --muted-foreground: 215 16% 47%;\n\n    --accent: 221 83% 53%;\n    --accent-foreground: 210 40% 98%;\n\n    --destructive: 0 84% 60%;\n    --destructive-foreground: 210 40% 98%;\n    \n    --success: 142 71% 45%;\n    --success-foreground: 210 40% 98%;\n    \n    --warning: 38 92% 50%;\n    --warning-foreground: 222 47% 11%;\n\n    --border: 214 32% 91%;\n    --input: 214 32% 91%;\n    --ring: 221 83% 53%;\n\n    --radius: 0.75rem;\n    \n    --gradient-primary: linear-gradient(135deg, hsl(221 83% 53%), hsl(221 83% 63%));\n    --gradient-secondary: linear-gradient(135deg, hsl(210 40% 96%), hsl(0 0% 100%));\n    \n    --shadow-soft: 0 2px 8px -2px hsl(221 83% 53% / 0.1);\n    --shadow-medium: 0 4px 16px -4px hsl(221 83% 53% / 0.15);\n    \n    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\n    --sidebar-background: 0 0% 100%;\n    --sidebar-foreground: 222 47% 11%;\n    --sidebar-primary: 221 83% 53%;\n    --sidebar-primary-foreground: 210 40% 98%;\n    --sidebar-accent: 210 40% 96%;\n    --sidebar-accent-foreground: 222 47% 11%;\n    --sidebar-border: 214 32% 91%;\n    --sidebar-ring: 221 83% 53%;\n  }\n\n  .dark {\n    --background: 222 47% 11%;\n    --foreground: 210 40% 98%;\n\n    --card: 217 33% 17%;\n    --card-foreground: 210 40% 98%;\n\n    --popover: 217 33% 17%;\n    --popover-foreground: 210 40% 98%;\n\n    --primary: 221 83% 53%;\n    --primary-foreground: 210 40% 98%;\n\n    --secondary: 217 33% 17%;\n    --secondary-foreground: 210 40% 98%;\n\n    --muted: 217 33% 17%;\n    --muted-foreground: 215 20% 65%;\n\n    --accent: 221 83% 53%;\n    --accent-foreground: 210 40% 98%;\n\n    --destructive: 0 63% 31%;\n    --destructive-foreground: 210 40% 98%;\n    \n    --success: 142 71% 45%;\n    --success-foreground: 210 40% 98%;\n    \n    --warning: 38 92% 50%;\n    --warning-foreground: 222 47% 11%;\n\n    --border: 217 33% 17%;\n    --input: 217 33% 17%;\n    --ring: 221 83% 53%;\n    \n    --gradient-primary: linear-gradient(135deg, hsl(221 83% 53%), hsl(221 83% 63%));\n    --gradient-secondary: linear-gradient(135deg, hsl(217 33% 17%), hsl(222 47% 11%));\n    \n    --shadow-soft: 0 2px 8px -2px hsl(0 0% 0% / 0.2);\n    --shadow-medium: 0 4px 16px -4px hsl(0 0% 0% / 0.3);\n    \n    --sidebar-background: 217 33% 17%;\n    --sidebar-foreground: 210 40% 98%;\n    --sidebar-primary: 221 83% 53%;\n    --sidebar-primary-foreground: 210 40% 98%;\n    --sidebar-accent: 222 47% 11%;\n    --sidebar-accent-foreground: 210 40% 98%;\n    --sidebar-border: 217 33% 17%;\n    --sidebar-ring: 221 83% 53%;\n  }\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply bg-background text-foreground;\n  }\n}\n","size_bytes":3163},"O3/src/components/ui/alert.tsx":{"content":"import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive: \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div ref={ref} role=\"alert\" className={cn(alertVariants({ variant }), className)} {...props} />\n));\nAlert.displayName = \"Alert\";\n\nconst AlertTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(\n  ({ className, ...props }, ref) => (\n    <h5 ref={ref} className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)} {...props} />\n  ),\n);\nAlertTitle.displayName = \"AlertTitle\";\n\nconst AlertDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"text-sm [&_p]:leading-relaxed\", className)} {...props} />\n  ),\n);\nAlertDescription.displayName = \"AlertDescription\";\n\nexport { Alert, AlertTitle, AlertDescription };\n","size_bytes":1546},"O3/src/components/ui/progress.tsx":{"content":"import * as React from \"react\";\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\"relative h-4 w-full overflow-hidden rounded-full bg-secondary\", className)}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n));\nProgress.displayName = ProgressPrimitive.Root.displayName;\n\nexport { Progress };\n","size_bytes":765},"O3/eslint.config.js":{"content":"import js from \"@eslint/js\";\nimport globals from \"globals\";\nimport reactHooks from \"eslint-plugin-react-hooks\";\nimport reactRefresh from \"eslint-plugin-react-refresh\";\nimport tseslint from \"typescript-eslint\";\n\nexport default tseslint.config(\n  { ignores: [\"dist\"] },\n  {\n    extends: [js.configs.recommended, ...tseslint.configs.recommended],\n    files: [\"**/*.{ts,tsx}\"],\n    languageOptions: {\n      ecmaVersion: 2020,\n      globals: globals.browser,\n    },\n    plugins: {\n      \"react-hooks\": reactHooks,\n      \"react-refresh\": reactRefresh,\n    },\n    rules: {\n      ...reactHooks.configs.recommended.rules,\n      \"react-refresh/only-export-components\": [\"warn\", { allowConstantExport: true }],\n      \"@typescript-eslint/no-unused-vars\": \"off\",\n    },\n  },\n);\n","size_bytes":765},"O3/src/components/ui/popover.tsx":{"content":"import * as React from \"react\";\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Popover = PopoverPrimitive.Root;\n\nconst PopoverTrigger = PopoverPrimitive.Trigger;\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className,\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n));\nPopoverContent.displayName = PopoverPrimitive.Content.displayName;\n\nexport { Popover, PopoverTrigger, PopoverContent };\n","size_bytes":1239},"O3/BOT_FEATURES.md":{"content":"# ü§ñ Telegram Order Bot - Complete Feature List\n\n## ‚úÖ Implemented Features\n\n### 1. Product Browsing\n\n#### A. Global Menu (`/start`)\n- Welcome message with main menu\n- **\"Check Products\"** button shows paginated product list\n- **Pagination** - Shows 5 products per page with Previous/Next buttons\n- **\"My Orders\"** button to view order history\n- **\"Help\"** button for instructions\n\n#### B. Deep Linking\n- Each product has a unique deep-link: `https://t.me/YOUR_BOT?start=PRODUCT_ID`\n- Clicking the link instantly shows product details\n- Direct \"Order This Product\" button\n\n### 2. Product Details Page\nShows:\n- ‚úÖ Product Name\n- ‚úÖ Product ID\n- ‚úÖ Product Description\n- ‚úÖ Product Price\n- ‚úÖ Stock Left\n- ‚úÖ **\"Order Now\"** button\n- ‚úÖ **\"Back to Products\"** button\n\n### 3. Complete Order Flow\n\n#### Step 1: Quantity Input\n- User enters quantity (1 to available stock)\n- Input validation (must be a valid number)\n- Shows error if quantity is invalid\n\n#### Step 2: Add More Products\n- Inline buttons: **\"Yes, Add More\"** / **\"No, Continue to Checkout\"**\n- If Yes: Returns to product list, items stay in cart\n- If No: Proceeds to customer details\n- **Multi-product cart support**\n\n#### Step 3: Customer Name\n- User enters full name\n- Confirmation: **\"Your name: [NAME]\"**\n- Buttons: **\"Correct\"** / **\"Wrong (Edit)\"**\n- If wrong: Re-enter name\n\n#### Step 4: Phone Number\n- User enters phone number\n- Confirmation: **\"Your phone: [PHONE]\"**\n- Buttons: **\"Correct\"** / **\"Wrong (Edit)\"**\n- If wrong: Re-enter phone\n\n#### Step 5: Complete Address Collection\nCollects in order:\n1. House/Building Number\n2. Street Name\n3. Ward (Quarter)\n4. Township\n5. City\n\nThen shows full address with:\n- Buttons: **\"Correct\"** / **\"Wrong (Re-enter)\"**\n- If wrong: Restart address entry\n\n#### Step 6: Delivery Type\nButtons:\n- **üöó Express Cars**\n- **üöö Delivery Company**\n\n#### Step 7: Final Order Confirmation\nShows complete summary:\n- ‚úÖ All items with quantities and prices\n- ‚úÖ Total cost\n- ‚úÖ Customer name, phone, address\n- ‚úÖ Delivery type\n\nButtons:\n- **\"Yes, Confirm\"** - Proceed to payment\n- **\"No, Edit Details\"** - Shows edit menu:\n  - Edit Name\n  - Edit Phone\n  - Edit Address\n  - Edit Products\n  - Edit Delivery Type\n\n#### Step 8: Payment Page\nShows:\n```\nüí≥ Payment Details\n\nKpay: 09883249943\nWave Pay: 09883249943\n```\n\n- Total amount displayed\n- Instructions to upload payment screenshot\n- User uploads payment photo\n\n#### Step 9: Order Completion\nOnce screenshot uploaded:\n- ‚úÖ Order saved to Supabase database\n- ‚úÖ **PDF receipt generated** with complete order details\n- ‚úÖ PDF sent to customer\n- ‚úÖ Success message with Order ID\n\n### 4. Admin Approval System\n\nIf `ADMIN_CHANNEL_ID` is configured, sends to admin channel:\n\n**Message includes:**\n- üìù Order ID\n- üë§ Customer name, phone, address\n- üõí Complete item list\n- üí∞ Total cost\n- üöö Delivery type\n- üì∏ Payment screenshot\n- üìÑ PDF receipt\n\n**Inline Buttons:**\n- ‚úÖ **Approve** - Customer receives: \"Your order has been sent to delivery\"\n- ‚ùå **Reject** - Customer receives: \"Your order was rejected. Contact admin\"\n\n### 5. Database Integration (Supabase)\n\n#### Tables Used:\n- **products** - Product catalog with stock management\n- **orders** - All order records with status tracking\n- **profiles** - User profiles with ban status\n- **user_roles** - Admin role management (for web panel)\n- **broadcast_messages** - Message history (for web panel)\n\n#### Features:\n- Automatic order string generation\n- JSON storage for cart items and addresses\n- User profile creation on first order\n- Ban status checking\n\n### 6. Additional Features\n\n#### Commands:\n- `/start` - Start the bot / show main menu\n- `/orders` - View order history (last 10 orders)\n- `/help` - Show help information\n- `/cancel` - Cancel current operation\n\n#### Order History:\n- Shows last 10 orders\n- Status icons: ‚è≥ Pending, ‚úÖ Approved, ‚ùå Rejected, üì¶ Delivered\n- Order ID, status, total, and date\n\n#### Security:\n- Ban check on every `/start`\n- Banned users cannot use the bot\n- Input validation throughout\n\n#### PDF Receipt:\n- Professional format with all order details\n- Includes customer info, items, total, delivery type\n- Sent to both customer and admin\n\n## üìã Configuration\n\n### Required Environment Variables:\n```bash\nTELEGRAM_BOT_TOKEN=your_bot_token_from_botfather\nSUPABASE_URL=https://your-project.supabase.co\nSUPABASE_ANON_KEY=your_supabase_anon_key\n```\n\n### Optional:\n```bash\nADMIN_CHANNEL_ID=-1001234567890  # Your admin channel/group ID\n```\n\nTo get Admin Channel ID:\n1. Create a channel or group\n2. Add your bot as admin\n3. Forward any message from the channel to @userinfobot\n4. Copy the channel ID (starts with -100)\n\n### Payment Details:\nEdit in `bot/telegram_bot.py` line 29-35:\n```python\nPAYMENT_DETAILS = \"\"\"\nüí≥ **Payment Details**\n\n**Kpay:** 09883249943\n**Wave Pay:** 09883249943\n```\n\n## üîß How to Use\n\n### For Customers:\n1. Open bot and send `/start`\n2. Click \"Check Products\"\n3. Browse products (use pagination)\n4. Click on a product to see details\n5. Click \"Order Now\"\n6. Enter quantity\n7. Add more products or continue\n8. Fill in name (confirm)\n9. Fill in phone (confirm)\n10. Fill in complete address (confirm)\n11. Select delivery type\n12. Review final order (edit if needed)\n13. Upload payment screenshot\n14. Receive PDF receipt\n15. Wait for admin approval\n\n### For Admins (if channel configured):\n1. Receive order notification in admin channel\n2. Review order details and payment screenshot\n3. Click \"Approve\" or \"Reject\"\n4. Customer automatically notified\n\n### Product Sharing:\nGenerate deep links for products:\n```\nhttps://t.me/YOUR_BOT_USERNAME?start=PRODUCT_ID\n```\n\nExample: `https://t.me/orderbot?start=A1`\n\n## üìä Features Comparison\n\n| Feature | Status |\n|---------|--------|\n| Deep linking with product IDs | ‚úÖ Yes |\n| Pagination for products | ‚úÖ Yes (5 per page) |\n| Multi-product cart | ‚úÖ Yes |\n| Quantity validation | ‚úÖ Yes |\n| Name confirmation | ‚úÖ Yes |\n| Phone confirmation | ‚úÖ Yes |\n| Address confirmation | ‚úÖ Yes |\n| Delivery type selection | ‚úÖ Yes |\n| Final order confirmation | ‚úÖ Yes |\n| Edit order details | ‚úÖ Yes (all fields) |\n| Payment details display | ‚úÖ Yes (Kpay/Wave Pay) |\n| Payment screenshot upload | ‚úÖ Yes |\n| PDF receipt generation | ‚úÖ Yes |\n| Send PDF to customer | ‚úÖ Yes |\n| Admin channel notifications | ‚úÖ Yes |\n| Approve/Reject buttons | ‚úÖ Yes |\n| Customer auto-notification | ‚úÖ Yes |\n| Order history | ‚úÖ Yes |\n| Ban system | ‚úÖ Yes |\n| Supabase integration | ‚úÖ Yes |\n| Safe input validation | ‚úÖ Yes |\n| Error handling | ‚úÖ Yes |\n\n## üéØ All Requirements Met!\n\nThis bot implementation includes **every feature** from your specification:\n\n‚úÖ Global menu with \"Check Products\"  \n‚úÖ Paginated product list  \n‚úÖ Deep linking (t.me/bot?start=PRODUCT_ID)  \n‚úÖ Product details page with all info  \n‚úÖ Complete order flow with all steps  \n‚úÖ Quantity validation  \n‚úÖ \"Add more products\" option  \n‚úÖ Name/Phone/Address confirmations  \n‚úÖ Complete address collection (house, street, ward, township, city)  \n‚úÖ Delivery type selection  \n‚úÖ Final order confirmation with edit options  \n‚úÖ Payment details display (Kpay/Wave Pay)  \n‚úÖ Payment screenshot upload  \n‚úÖ PDF receipt generation  \n‚úÖ Order saved to database  \n‚úÖ Admin channel notifications  \n‚úÖ Approve/Reject buttons  \n‚úÖ Customer auto-notifications  \n‚úÖ Order history viewing  \n‚úÖ Ban system  \n‚úÖ Inline keyboards everywhere  \n‚úÖ State machine/session management  \n‚úÖ Clean, scalable code structure  \n\n## üöÄ Ready to Use!\n\nYour bot is fully functional and ready for production use. Just configure your Supabase database and optionally set up the admin channel for approval workflows.\n","size_bytes":7728},"O3/src/components/ui/sheet.tsx":{"content":"import * as SheetPrimitive from \"@radix-ui/react-dialog\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { X } from \"lucide-react\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Sheet = SheetPrimitive.Root;\n\nconst SheetTrigger = SheetPrimitive.Trigger;\n\nconst SheetClose = SheetPrimitive.Close;\n\nconst SheetPortal = SheetPrimitive.Portal;\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className,\n    )}\n    {...props}\n    ref={ref}\n  />\n));\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName;\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  },\n);\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<React.ElementRef<typeof SheetPrimitive.Content>, SheetContentProps>(\n  ({ side = \"right\", className, children, ...props }, ref) => (\n    <SheetPortal>\n      <SheetOverlay />\n      <SheetPrimitive.Content ref={ref} className={cn(sheetVariants({ side }), className)} {...props}>\n        {children}\n        <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none\">\n          <X className=\"h-4 w-4\" />\n          <span className=\"sr-only\">Close</span>\n        </SheetPrimitive.Close>\n      </SheetPrimitive.Content>\n    </SheetPortal>\n  ),\n);\nSheetContent.displayName = SheetPrimitive.Content.displayName;\n\nconst SheetHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col space-y-2 text-center sm:text-left\", className)} {...props} />\n);\nSheetHeader.displayName = \"SheetHeader\";\n\nconst SheetFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)} {...props} />\n);\nSheetFooter.displayName = \"SheetFooter\";\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title ref={ref} className={cn(\"text-lg font-semibold text-foreground\", className)} {...props} />\n));\nSheetTitle.displayName = SheetPrimitive.Title.displayName;\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n));\nSheetDescription.displayName = SheetPrimitive.Description.displayName;\n\nexport {\n  Sheet,\n  SheetClose,\n  SheetContent,\n  SheetDescription,\n  SheetFooter,\n  SheetHeader,\n  SheetOverlay,\n  SheetPortal,\n  SheetTitle,\n  SheetTrigger,\n};\n","size_bytes":4197},"O3/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\";\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\";\nimport { Circle } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return <RadioGroupPrimitive.Root className={cn(\"grid gap-2\", className)} {...props} ref={ref} />;\n});\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName;\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className,\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  );\n});\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName;\n\nexport { RadioGroup, RadioGroupItem };\n","size_bytes":1447},"O3/src/components/admin/ProductDialog.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { toast } from \"sonner\";\n\ninterface Product {\n  id: string;\n  product_id: string;\n  name: string;\n  description: string | null;\n  price: number;\n  stock: number;\n  image_url: string | null;\n  is_active: boolean;\n}\n\ninterface ProductDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  product: Product | null;\n  onSuccess: () => void;\n}\n\nconst ProductDialog = ({ open, onOpenChange, product, onSuccess }: ProductDialogProps) => {\n  const [formData, setFormData] = useState({\n    product_id: \"\",\n    name: \"\",\n    description: \"\",\n    price: \"\",\n    stock: \"\",\n    image_url: \"\",\n    is_active: true\n  });\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (product) {\n      setFormData({\n        product_id: product.product_id,\n        name: product.name,\n        description: product.description || \"\",\n        price: product.price.toString(),\n        stock: product.stock.toString(),\n        image_url: product.image_url || \"\",\n        is_active: product.is_active\n      });\n    } else {\n      setFormData({\n        product_id: \"\",\n        name: \"\",\n        description: \"\",\n        price: \"\",\n        stock: \"\",\n        image_url: \"\",\n        is_active: true\n      });\n    }\n  }, [product, open]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n\n    const productData = {\n      product_id: formData.product_id,\n      name: formData.name,\n      description: formData.description || null,\n      price: parseFloat(formData.price),\n      stock: parseInt(formData.stock),\n      image_url: formData.image_url || null,\n      is_active: formData.is_active\n    };\n\n    let error;\n    if (product) {\n      ({ error } = await supabase\n        .from(\"products\")\n        .update(productData)\n        .eq(\"id\", product.id));\n    } else {\n      ({ error } = await supabase\n        .from(\"products\")\n        .insert([productData]));\n    }\n\n    if (error) {\n      toast.error(product ? \"Failed to update product\" : \"Failed to create product\");\n    } else {\n      toast.success(product ? \"Product updated successfully\" : \"Product created successfully\");\n      onSuccess();\n      onOpenChange(false);\n    }\n\n    setLoading(false);\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-md max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle>{product ? \"Edit Product\" : \"Create Product\"}</DialogTitle>\n        </DialogHeader>\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"product_id\">Product ID</Label>\n            <Input\n              id=\"product_id\"\n              value={formData.product_id}\n              onChange={(e) => setFormData({ ...formData, product_id: e.target.value })}\n              placeholder=\"e.g., D1, A2\"\n              required\n              disabled={!!product}\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"name\">Name</Label>\n            <Input\n              id=\"name\"\n              value={formData.name}\n              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n              required\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"description\">Description</Label>\n            <Textarea\n              id=\"description\"\n              value={formData.description}\n              onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n              rows={3}\n            />\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"price\">Price</Label>\n              <Input\n                id=\"price\"\n                type=\"number\"\n                step=\"0.01\"\n                min=\"0\"\n                value={formData.price}\n                onChange={(e) => setFormData({ ...formData, price: e.target.value })}\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"stock\">Stock</Label>\n              <Input\n                id=\"stock\"\n                type=\"number\"\n                min=\"0\"\n                value={formData.stock}\n                onChange={(e) => setFormData({ ...formData, stock: e.target.value })}\n                required\n              />\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"image_url\">Image URL</Label>\n            <Input\n              id=\"image_url\"\n              type=\"url\"\n              value={formData.image_url}\n              onChange={(e) => setFormData({ ...formData, image_url: e.target.value })}\n              placeholder=\"https://example.com/image.jpg\"\n            />\n          </div>\n\n          <div className=\"flex items-center space-x-2\">\n            <Switch\n              id=\"is_active\"\n              checked={formData.is_active}\n              onCheckedChange={(checked) => setFormData({ ...formData, is_active: checked })}\n            />\n            <Label htmlFor=\"is_active\">Active</Label>\n          </div>\n\n          <div className=\"flex gap-3 pt-4\">\n            <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)} className=\"flex-1\">\n              Cancel\n            </Button>\n            <Button type=\"submit\" disabled={loading} className=\"flex-1 bg-gradient-primary\">\n              {loading ? \"Saving...\" : (product ? \"Update\" : \"Create\")}\n            </Button>\n          </div>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default ProductDialog;","size_bytes":6113},"O3/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\";\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\";\nimport { ChevronDown } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Accordion = AccordionPrimitive.Root;\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item ref={ref} className={cn(\"border-b\", className)} {...props} />\n));\nAccordionItem.displayName = \"AccordionItem\";\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n));\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName;\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n));\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName;\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent };\n","size_bytes":1976},"O3/src/components/ui/tooltip.tsx":{"content":"import * as React from \"react\";\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst TooltipProvider = TooltipPrimitive.Provider;\n\nconst Tooltip = TooltipPrimitive.Root;\n\nconst TooltipTrigger = TooltipPrimitive.Trigger;\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className,\n    )}\n    {...props}\n  />\n));\nTooltipContent.displayName = TooltipPrimitive.Content.displayName;\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };\n","size_bytes":1155},"O3/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\";\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\";\n\nimport { cn } from \"@/lib/utils\";\nimport { buttonVariants } from \"@/components/ui/button\";\n\nconst AlertDialog = AlertDialogPrimitive.Root;\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger;\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal;\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className,\n    )}\n    {...props}\n    ref={ref}\n  />\n));\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName;\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className,\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n));\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName;\n\nconst AlertDialogHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col space-y-2 text-center sm:text-left\", className)} {...props} />\n);\nAlertDialogHeader.displayName = \"AlertDialogHeader\";\n\nconst AlertDialogFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)} {...props} />\n);\nAlertDialogFooter.displayName = \"AlertDialogFooter\";\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title ref={ref} className={cn(\"text-lg font-semibold\", className)} {...props} />\n));\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName;\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n));\nAlertDialogDescription.displayName = AlertDialogPrimitive.Description.displayName;\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action ref={ref} className={cn(buttonVariants(), className)} {...props} />\n));\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName;\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(buttonVariants({ variant: \"outline\" }), \"mt-2 sm:mt-0\", className)}\n    {...props}\n  />\n));\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName;\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n};\n","size_bytes":4313},"O3/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\";\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\";\nimport { cva } from \"class-variance-authority\";\nimport { ChevronDown } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\"relative z-10 flex max-w-max flex-1 items-center justify-center\", className)}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n));\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName;\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\"group flex flex-1 list-none items-center justify-center space-x-1\", className)}\n    {...props}\n  />\n));\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName;\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item;\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50\",\n);\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n));\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName;\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto\",\n      className,\n    )}\n    {...props}\n  />\n));\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName;\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link;\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className,\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n));\nNavigationMenuViewport.displayName = NavigationMenuPrimitive.Viewport.displayName;\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className,\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n));\nNavigationMenuIndicator.displayName = NavigationMenuPrimitive.Indicator.displayName;\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n};\n","size_bytes":5030},"O3/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\";\n\nconst MOBILE_BREAKPOINT = 768;\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined);\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n    };\n    mql.addEventListener(\"change\", onChange);\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n    return () => mql.removeEventListener(\"change\", onChange);\n  }, []);\n\n  return !!isMobile;\n}\n","size_bytes":576},"O3/src/pages/NotFound.tsx":{"content":"import { useLocation } from \"react-router-dom\";\nimport { useEffect } from \"react\";\n\nconst NotFound = () => {\n  const location = useLocation();\n\n  useEffect(() => {\n    console.error(\"404 Error: User attempted to access non-existent route:\", location.pathname);\n  }, [location.pathname]);\n\n  return (\n    <div className=\"flex min-h-screen items-center justify-center bg-muted\">\n      <div className=\"text-center\">\n        <h1 className=\"mb-4 text-4xl font-bold\">404</h1>\n        <p className=\"mb-4 text-xl text-muted-foreground\">Oops! Page not found</p>\n        <a href=\"/\" className=\"text-primary underline hover:text-primary/90\">\n          Return to Home\n        </a>\n      </div>\n    </div>\n  );\n};\n\nexport default NotFound;\n","size_bytes":727},"O3/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App.tsx\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":161},"O3/TELEGRAM_BOT_GUIDE.md":{"content":"# Telegram Bot Integration Guide\n\nThis document explains how to connect your Python Telegram bot to this admin panel.\n\n## üìã Database Connection\n\nYour Telegram bot should connect to the same Supabase database. Use these connection details:\n\n- **Supabase URL**: `https://dwaxejcqvtkeavngwrzk.supabase.co`\n- **Supabase Anon Key**: `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR3YXhlamNxdnRrZWF2bmd3cnprIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM0NDY2NTIsImV4cCI6MjA3OTAyMjY1Mn0.o5kO7P4lpnQU8brNliTORSYBZPOwdt8anp9RvuCM6Uo`\n\nInstall the Supabase Python client:\n```bash\npip install supabase\n```\n\n## üîß Bot Setup Example\n\n```python\nfrom supabase import create_client, Client\nimport os\n\n# Initialize Supabase client\nsupabase: Client = create_client(\n    \"https://dwaxejcqvtkeavngwrzk.supabase.co\",\n    \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR3YXhlamNxdnRrZWF2bmd3cnprIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM0NDY2NTIsImV4cCI6MjA3OTAyMjY1Mn0.o5kO7P4lpnQU8brNliTORSYBZPOwdt8anp9RvuCM6Uo\"\n)\n```\n\n## üì¶ Key Integrations\n\n### 1. Product Fetching\n```python\n# Get all active products\nresponse = supabase.table(\"products\").select(\"*\").eq(\"is_active\", True).execute()\nproducts = response.data\n\n# Get single product by product_id\nresponse = supabase.table(\"products\").select(\"*\").eq(\"product_id\", \"D1\").single().execute()\nproduct = response.data\n```\n\n### 2. Creating Orders\n```python\n# Generate order string\nresponse = supabase.rpc(\"generate_order_string\").execute()\norder_string = response.data\n\n# Create order\norder_data = {\n    \"order_string\": order_string,\n    \"telegram_user_id\": user.id,\n    \"user_name\": \"John Doe\",\n    \"phone\": \"09123456789\",\n    \"address\": {\n        \"house_no\": \"123\",\n        \"street\": \"Main St\",\n        \"ward\": \"Ward 1\",\n        \"township\": \"Downtown\",\n        \"city\": \"Yangon\"\n    },\n    \"items\": [\n        {\n            \"product_id\": \"D1\",\n            \"product_name\": \"Product Name\",\n            \"quantity\": 2,\n            \"price\": 10.00\n        }\n    ],\n    \"total_cost\": 20.00,\n    \"delivery_type\": \"express_cars\",  # or \"delivery_company\"\n    \"payment_image_url\": \"https://storage-url/payment.jpg\",\n    \"status\": \"pending\"\n}\n\nresponse = supabase.table(\"orders\").insert(order_data).execute()\n```\n\n### 3. Upload Payment Screenshot\n```python\n# Upload to Supabase Storage\nwith open(\"payment_screenshot.jpg\", \"rb\") as f:\n    response = supabase.storage.from_(\"payment-screenshots\").upload(\n        f\"telegram_{user_id}_{order_id}.jpg\",\n        f,\n        {\"content-type\": \"image/jpeg\"}\n    )\n\n# Get public URL\npayment_url = supabase.storage.from_(\"payment-screenshots\").get_public_url(\n    f\"telegram_{user_id}_{order_id}.jpg\"\n)\n```\n\n### 4. User Management\n```python\n# Check if user is banned\nresponse = supabase.table(\"profiles\").select(\"is_banned\").eq(\"telegram_user_id\", user.id).maybe_single().execute()\nif response.data and response.data[\"is_banned\"]:\n    # User is banned, deny access\n    pass\n```\n\n### 5. Deep Links\nWhen a user clicks a deep link like `https://t.me/yourbot?start=D1`:\n\n```python\n@bot.message_handler(commands=['start'])\ndef start(message):\n    # Extract product_id from command\n    args = message.text.split()\n    if len(args) > 1:\n        product_id = args[1]\n        \n        # Fetch product from database\n        response = supabase.table(\"products\").select(\"*\").eq(\"product_id\", product_id).single().execute()\n        product = response.data\n        \n        # Show product details to user\n        bot.send_message(\n            message.chat.id,\n            f\"Product: {product['name']}\\nPrice: ${product['price']}\\nStock: {product['stock']}\"\n        )\n```\n\n### 6. Broadcast Messages\n```python\n# Check for new broadcast messages\nresponse = supabase.table(\"broadcast_messages\").select(\"*\").order(\"sent_at\", desc=True).limit(10).execute()\nmessages = response.data\n\n# Send to all users\nfor msg in messages:\n    # Get all non-banned users\n    users_response = supabase.table(\"profiles\").select(\"telegram_user_id\").eq(\"is_banned\", False).execute()\n    \n    for user in users_response.data:\n        if user[\"telegram_user_id\"]:\n            bot.send_message(user[\"telegram_user_id\"], msg[\"message\"])\n```\n\n### 7. Order Status Updates\nListen for order approvals/rejections using Supabase Realtime:\n\n```python\n# Subscribe to order changes\ndef handle_order_update(payload):\n    order = payload[\"new\"]\n    telegram_user_id = order[\"telegram_user_id\"]\n    \n    if order[\"status\"] == \"approved\":\n        bot.send_message(telegram_user_id, f\"‚úÖ Your order {order['order_string']} has been approved and sent to delivery!\")\n    elif order[\"status\"] == \"rejected\":\n        bot.send_message(telegram_user_id, f\"‚ùå Your order {order['order_string']} was rejected. Please contact support.\")\n\n# Set up realtime subscription\nsupabase.table(\"orders\").on(\"UPDATE\", handle_order_update).subscribe()\n```\n\n## üéØ Complete Order Flow\n\n1. **User starts bot** ‚Üí Check if banned\n2. **User browses products** ‚Üí Fetch from `products` table\n3. **User selects product** ‚Üí Show details\n4. **User creates order** ‚Üí Collect info step-by-step\n5. **User uploads payment** ‚Üí Upload to storage bucket\n6. **Create order record** ‚Üí Insert into `orders` table with `status=\"pending\"`\n7. **Admin reviews** ‚Üí Admin panel shows order\n8. **Admin approves/rejects** ‚Üí Status updated in database\n9. **Bot notifies user** ‚Üí Via realtime subscription or polling\n\n## üîí Security Notes\n\n- Never expose service role key in your bot\n- Use anon key for client operations\n- RLS policies will protect data\n- Payment screenshots are private by default\n- Only admins can view payment screenshots\n\n## üìö Additional Resources\n\n- [Supabase Python Docs](https://supabase.com/docs/reference/python/introduction)\n- [Telegram Bot API](https://core.telegram.org/bots/api)\n- [Supabase Storage](https://supabase.com/docs/guides/storage)\n- [Supabase Realtime](https://supabase.com/docs/guides/realtime)\n\n## üöÄ Getting Started\n\n1. Create your Telegram bot with BotFather\n2. Install required packages: `pip install python-telegram-bot supabase`\n3. Connect to Supabase using credentials above\n4. Implement order flow using the examples\n5. Test with deep links and order creation\n6. Monitor orders in the admin panel!","size_bytes":6258},"O3/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\";\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\";\nimport { Check, ChevronRight, Circle } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst ContextMenu = ContextMenuPrimitive.Root;\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger;\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group;\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal;\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub;\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup;\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean;\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent data-[state=open]:text-accent-foreground focus:bg-accent focus:text-accent-foreground\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n));\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName;\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className,\n    )}\n    {...props}\n  />\n));\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName;\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className,\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n));\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName;\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  />\n));\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName;\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n));\nContextMenuCheckboxItem.displayName = ContextMenuPrimitive.CheckboxItem.displayName;\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n));\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName;\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold text-foreground\", inset && \"pl-8\", className)}\n    {...props}\n  />\n));\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName;\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator ref={ref} className={cn(\"-mx-1 my-1 h-px bg-border\", className)} {...props} />\n));\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName;\n\nconst ContextMenuShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {\n  return <span className={cn(\"ml-auto text-xs tracking-widest text-muted-foreground\", className)} {...props} />;\n};\nContextMenuShortcut.displayName = \"ContextMenuShortcut\";\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n};\n","size_bytes":7191},"O3/grant_admin_role.py":{"content":"#!/usr/bin/env python3\n\"\"\"\nGrant admin role to existing user\n\"\"\"\nimport os\nfrom supabase import create_client\nfrom dotenv import load_dotenv\n\nload_dotenv()\n\ndef grant_admin_role():\n    supabase_url = os.getenv(\"SUPABASE_URL\")\n    service_role_key = os.getenv(\"SUPABASE_SERVICE_ROLE_KEY\")\n    admin_email = os.getenv(\"ADMIN_EMAIL\")\n    \n    if not all([supabase_url, service_role_key, admin_email]):\n        print(\"‚ùå Error: Required environment variables not set\")\n        return False\n    \n    print(f\"üîß Granting admin role to: {admin_email}\")\n    \n    try:\n        supabase = create_client(supabase_url, service_role_key)\n        \n        # Get user by email\n        print(\"\\n1Ô∏è‚É£ Finding user...\")\n        user_response = supabase.auth.admin.list_users()\n        \n        user_id = None\n        for user in user_response:\n            if user.email == admin_email:\n                user_id = user.id\n                print(f\"‚úÖ Found user! User ID: {user_id}\")\n                break\n        \n        if not user_id:\n            print(f\"‚ùå User with email {admin_email} not found\")\n            print(\"Please sign up first at /auth page\")\n            return False\n        \n        # Check if already has admin role\n        print(\"\\n2Ô∏è‚É£ Checking current role...\")\n        existing_role = supabase.table(\"user_roles\").select(\"*\").eq(\"user_id\", user_id).eq(\"role\", \"admin\").execute()\n        \n        if existing_role.data:\n            print(\"‚úÖ User already has admin role!\")\n            print(f\"\\nüéâ You can login at /auth with:\")\n            print(f\"   Email: {admin_email}\")\n            return True\n        \n        # Add admin role\n        print(\"\\n3Ô∏è‚É£ Granting admin role...\")\n        role_response = supabase.table(\"user_roles\").insert({\n            \"user_id\": user_id,\n            \"role\": \"admin\"\n        }).execute()\n        \n        if role_response.data:\n            print(\"‚úÖ Admin role granted successfully!\")\n            print(f\"\\nüéâ You can now login at /auth with:\")\n            print(f\"   Email: {admin_email}\")\n            return True\n        else:\n            print(f\"‚ùå Failed to grant role: {role_response}\")\n            return False\n            \n    except Exception as e:\n        print(f\"‚ùå Error: {str(e)}\")\n        return False\n\nif __name__ == \"__main__\":\n    print(\"=\"*60)\n    print(\"  Grant Admin Role\")\n    print(\"=\"*60)\n    success = grant_admin_role()\n    print(\"=\"*60)\n    if not success:\n        exit(1)\n","size_bytes":2456},"O3/src/components/admin/ProductsTab.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { Button } from \"@/components/ui/button\";\nimport { Plus, Edit, Trash2, Link as LinkIcon } from \"lucide-react\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { toast } from \"sonner\";\nimport ProductDialog from \"./ProductDialog\";\nimport { Badge } from \"@/components/ui/badge\";\n\ninterface Product {\n  id: string;\n  product_id: string;\n  name: string;\n  description: string | null;\n  price: number;\n  stock: number;\n  image_url: string | null;\n  is_active: boolean;\n}\n\nconst ProductsTab = () => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [editingProduct, setEditingProduct] = useState<Product | null>(null);\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  const fetchProducts = async () => {\n    setLoading(true);\n    const { data, error } = await supabase\n      .from(\"products\")\n      .select(\"*\")\n      .order(\"created_at\", { ascending: false });\n\n    if (error) {\n      toast.error(\"Failed to fetch products\");\n    } else {\n      setProducts(data || []);\n    }\n    setLoading(false);\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm(\"Are you sure you want to delete this product?\")) return;\n\n    const { error } = await supabase\n      .from(\"products\")\n      .delete()\n      .eq(\"id\", id);\n\n    if (error) {\n      toast.error(\"Failed to delete product\");\n    } else {\n      toast.success(\"Product deleted successfully\");\n      fetchProducts();\n    }\n  };\n\n  const copyDeepLink = (productId: string) => {\n    const link = `https://t.me/YOUR_BOT_USERNAME?start=${productId}`;\n    navigator.clipboard.writeText(link);\n    toast.success(\"Deep link copied to clipboard!\");\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-2xl font-bold text-foreground\">Products Management</h2>\n        <Button onClick={() => { setEditingProduct(null); setDialogOpen(true); }} className=\"bg-gradient-primary shadow-soft\">\n          <Plus className=\"w-4 h-4 mr-2\" />\n          Add Product\n        </Button>\n      </div>\n\n      {loading ? (\n        <div className=\"text-center py-12\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto\"></div>\n        </div>\n      ) : products.length === 0 ? (\n        <Card className=\"border-border shadow-soft\">\n          <CardContent className=\"text-center py-12\">\n            <p className=\"text-muted-foreground\">No products yet. Create your first product!</p>\n          </CardContent>\n        </Card>\n      ) : (\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n          {products.map((product) => (\n            <Card key={product.id} className=\"border-border shadow-soft hover:shadow-medium transition-shadow\">\n              <CardContent className=\"p-6\">\n                {product.image_url && (\n                  <img src={product.image_url} alt={product.name} className=\"w-full h-40 object-cover rounded-lg mb-4\" />\n                )}\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-start justify-between\">\n                    <div>\n                      <h3 className=\"font-semibold text-foreground\">{product.name}</h3>\n                      <p className=\"text-sm text-muted-foreground\">ID: {product.product_id}</p>\n                    </div>\n                    {!product.is_active && (\n                      <Badge variant=\"secondary\">Inactive</Badge>\n                    )}\n                  </div>\n                  <p className=\"text-sm text-muted-foreground line-clamp-2\">{product.description}</p>\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <p className=\"text-lg font-bold text-foreground\">${product.price}</p>\n                      <p className=\"text-sm text-muted-foreground\">Stock: {product.stock}</p>\n                    </div>\n                  </div>\n                  <div className=\"flex gap-2 pt-2\">\n                    <Button variant=\"outline\" size=\"sm\" onClick={() => copyDeepLink(product.product_id)} className=\"flex-1\">\n                      <LinkIcon className=\"w-3 h-3 mr-1\" />\n                      Copy Link\n                    </Button>\n                    <Button variant=\"outline\" size=\"sm\" onClick={() => { setEditingProduct(product); setDialogOpen(true); }}>\n                      <Edit className=\"w-3 h-3\" />\n                    </Button>\n                    <Button variant=\"outline\" size=\"sm\" onClick={() => handleDelete(product.id)}>\n                      <Trash2 className=\"w-3 h-3\" />\n                    </Button>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      )}\n\n      <ProductDialog\n        open={dialogOpen}\n        onOpenChange={setDialogOpen}\n        product={editingProduct}\n        onSuccess={fetchProducts}\n      />\n    </div>\n  );\n};\n\nexport default ProductsTab;","size_bytes":5163},"O3/setup_admin.py":{"content":"#!/usr/bin/env python3\n\"\"\"\nSetup script to create admin user for the Telegram Order Bot web interface\n\"\"\"\nimport os\nfrom supabase import create_client\nfrom dotenv import load_dotenv\n\nload_dotenv()\n\ndef setup_admin():\n    # Get credentials\n    supabase_url = os.getenv(\"SUPABASE_URL\")\n    service_role_key = os.getenv(\"SUPABASE_SERVICE_ROLE_KEY\")\n    \n    if not supabase_url or not service_role_key:\n        print(\"‚ùå Error: SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY must be set\")\n        print(\"\\nüìù To fix this:\")\n        print(\"1. Go to your Supabase dashboard: https://supabase.com/dashboard\")\n        print(\"2. Select your project\")\n        print(\"3. Go to Settings ‚Üí API\")\n        print(\"4. Copy the 'service_role' key\")\n        print(\"5. Add it to your Replit Secrets as SUPABASE_SERVICE_ROLE_KEY\")\n        return False\n    \n    # Get admin credentials from environment variables\n    admin_email = os.getenv(\"ADMIN_EMAIL\")\n    admin_password = os.getenv(\"ADMIN_PASSWORD\")\n    \n    if not admin_email or not admin_password:\n        print(\"‚ùå Error: ADMIN_EMAIL and ADMIN_PASSWORD must be set\")\n        print(\"\\nüìù Please add these to your Replit Secrets:\")\n        print(\"   - ADMIN_EMAIL: Your admin email address\")\n        print(\"   - ADMIN_PASSWORD: Your admin password\")\n        return False\n    \n    print(\"üîß Setting up admin user...\")\n    print(f\"üìß Email: {admin_email}\")\n    \n    try:\n        # Create Supabase client with service role key\n        supabase = create_client(supabase_url, service_role_key)\n        \n        # Create the admin user\n        print(\"\\n1Ô∏è‚É£ Creating admin user...\")\n        user_response = supabase.auth.admin.create_user({\n            \"email\": admin_email,\n            \"password\": admin_password,\n            \"email_confirm\": True,  # Auto-confirm email\n            \"user_metadata\": {\n                \"full_name\": \"Admin User\",\n                \"role\": \"admin\"\n            }\n        })\n        \n        if user_response.user:\n            user_id = user_response.user.id\n            print(f\"‚úÖ User created successfully! User ID: {user_id}\")\n            \n            # Add admin role to user_roles table\n            print(\"\\n2Ô∏è‚É£ Granting admin permissions...\")\n            role_response = supabase.table(\"user_roles\").insert({\n                \"user_id\": user_id,\n                \"role\": \"admin\"\n            }).execute()\n            \n            if role_response.data:\n                print(\"‚úÖ Admin role granted successfully!\")\n                print(\"\\nüéâ Setup complete!\")\n                print(f\"\\nüåê You can now login at your web app /auth page with:\")\n                print(f\"   Email: {admin_email}\")\n                print(f\"   Password: {admin_password}\")\n                return True\n            else:\n                print(\"‚ö†Ô∏è User created but role assignment failed\")\n                print(f\"Error: {role_response}\")\n                return False\n        else:\n            print(\"‚ùå Failed to create user\")\n            print(f\"Response: {user_response}\")\n            return False\n            \n    except Exception as e:\n        error_msg = str(e)\n        if \"already registered\" in error_msg.lower() or \"duplicate\" in error_msg.lower():\n            print(\"‚ö†Ô∏è User already exists!\")\n            print(\"You can login with your existing credentials at /auth\")\n            return True\n        else:\n            print(f\"‚ùå Error: {error_msg}\")\n            return False\n\nif __name__ == \"__main__\":\n    print(\"=\"*60)\n    print(\"  Telegram Order Bot - Admin Setup\")\n    print(\"=\"*60)\n    success = setup_admin()\n    print(\"=\"*60)\n    if not success:\n        exit(1)\n","size_bytes":3643},"O3/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\";\n\nfunction Skeleton({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\n  return <div className={cn(\"animate-pulse rounded-md bg-muted\", className)} {...props} />;\n}\n\nexport { Skeleton };\n","size_bytes":234},"O3/bot/telegram_bot.py":{"content":"import os\nimport logging\nfrom telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup\nfrom telegram.ext import Application, CommandHandler, MessageHandler, CallbackQueryHandler, ConversationHandler, filters, ContextTypes\nfrom supabase import create_client, Client\nfrom dotenv import load_dotenv\nimport json\nfrom datetime import datetime\nfrom reportlab.lib.pagesizes import letter\nfrom reportlab.pdfgen import canvas\nfrom reportlab.lib.units import inch\nimport io\n\nload_dotenv()\n\nlogging.basicConfig(\n    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',\n    level=logging.INFO\n)\nlogger = logging.getLogger(__name__)\n\n# Environment variables\nSUPABASE_URL = os.getenv(\"SUPABASE_URL\")\nSUPABASE_KEY = os.getenv(\"SUPABASE_ANON_KEY\")\nBOT_TOKEN = os.getenv(\"TELEGRAM_BOT_TOKEN\")\nADMIN_CHANNEL_ID = os.getenv(\"ADMIN_CHANNEL_ID\", \"\")  # Set this to your admin channel ID\n\nsupabase: Client = create_client(SUPABASE_URL, SUPABASE_KEY)\n\n# Payment details\nPAYMENT_DETAILS = \"\"\"\nüí≥ **Payment Details**\n\n**Kpay:** 09883249943\n**Wave Pay:** 09883249943\n\nPlease send payment and upload the screenshot after payment.\n\"\"\"\n\n# Conversation states\n(QUANTITY, ADD_MORE, NAME_CONFIRM, NAME_EDIT, PHONE_CONFIRM, PHONE_EDIT,  \n HOUSE_NO, STREET, WARD, TOWNSHIP, CITY, ADDRESS_CONFIRM,\n DELIVERY_TYPE, FINAL_CONFIRM, PAYMENT_PHOTO) = range(15)\n\n# Pagination settings\nPRODUCTS_PER_PAGE = 5\n\n# Helper function to check if user is banned\nasync def is_user_banned(telegram_user_id: int) -> bool:\n    try:\n        response = supabase.table(\"profiles\").select(\"is_banned\").eq(\"telegram_user_id\", telegram_user_id).maybe_single().execute()\n        if response.data and response.data.get(\"is_banned\"):\n            return True\n        return False\n    except Exception as e:\n        logger.error(f\"Error checking ban status: {e}\")\n        return False\n\n# Generate PDF receipt\ndef generate_pdf_receipt(order_data: dict) -> bytes:\n    buffer = io.BytesIO()\n    c = canvas.Canvas(buffer, pagesize=letter)\n    width, height = letter\n    \n    # Title\n    c.setFont(\"Helvetica-Bold\", 20)\n    c.drawString(1*inch, height - 1*inch, \"ORDER RECEIPT\")\n    \n    # Order details\n    c.setFont(\"Helvetica\", 12)\n    y = height - 1.5*inch\n    \n    c.drawString(1*inch, y, f\"Order ID: {order_data.get('order_string', 'N/A')}\")\n    y -= 0.3*inch\n    c.drawString(1*inch, y, f\"Date: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}\")\n    y -= 0.5*inch\n    \n    # Customer info\n    c.setFont(\"Helvetica-Bold\", 14)\n    c.drawString(1*inch, y, \"Customer Information\")\n    y -= 0.3*inch\n    c.setFont(\"Helvetica\", 12)\n    c.drawString(1*inch, y, f\"Name: {order_data.get('user_name', 'N/A')}\")\n    y -= 0.25*inch\n    c.drawString(1*inch, y, f\"Phone: {order_data.get('phone', 'N/A')}\")\n    y -= 0.25*inch\n    \n    address = order_data.get('address', {})\n    if isinstance(address, str):\n        address = json.loads(address)\n    addr_str = f\"{address.get('house_no', '')}, {address.get('street', '')}, {address.get('ward', '')}, {address.get('township', '')}, {address.get('city', '')}\"\n    c.drawString(1*inch, y, f\"Address: {addr_str}\")\n    y -= 0.5*inch\n    \n    # Items\n    c.setFont(\"Helvetica-Bold\", 14)\n    c.drawString(1*inch, y, \"Order Items\")\n    y -= 0.3*inch\n    c.setFont(\"Helvetica\", 12)\n    \n    items = order_data.get('items', [])\n    if isinstance(items, str):\n        items = json.loads(items)\n    \n    for item in items:\n        c.drawString(1*inch, y, f\"‚Ä¢ {item['product_name']} x {item['quantity']} - ${float(item['price']) * item['quantity']:.2f}\")\n        y -= 0.25*inch\n    \n    y -= 0.3*inch\n    c.setFont(\"Helvetica-Bold\", 12)\n    c.drawString(1*inch, y, f\"Delivery Type: {order_data.get('delivery_type', 'N/A').replace('_', ' ').title()}\")\n    y -= 0.3*inch\n    c.setFont(\"Helvetica-Bold\", 14)\n    c.drawString(1*inch, y, f\"TOTAL: ${order_data.get('total_cost', 0):.2f}\")\n    \n    c.save()\n    buffer.seek(0)\n    return buffer.getvalue()\n\n# Start command\nasync def start(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    user = update.effective_user\n    telegram_user_id = user.id\n    \n    if await is_user_banned(telegram_user_id):\n        await update.message.reply_text(\"‚ùå You have been banned from using this bot. Please contact support.\")\n        return\n    \n    # Check for deep link with product ID\n    args = context.args\n    if args and len(args) > 0:\n        product_id = args[0]\n        try:\n            response = supabase.table(\"products\").select(\"*\").eq(\"product_id\", product_id).eq(\"is_active\", True).single().execute()\n            product = response.data\n            \n            keyboard = [\n                [InlineKeyboardButton(\"üõí Order This Product\", callback_data=f\"order_{product_id}\")],\n                [InlineKeyboardButton(\"üì¶ Browse All Products\", callback_data=\"browse_products_0\")]\n            ]\n            reply_markup = InlineKeyboardMarkup(keyboard)\n            \n            message = f\"\"\"\nüì¶ *{product['name']}*\nüÜî Product ID: {product['product_id']}\n\n{product['description'] or 'No description available'}\n\nüí∞ Price: ${product['price']}\nüìä Stock: {product['stock']} units\n\nClick below to order this product!\n\"\"\"\n            await update.message.reply_text(message, parse_mode='Markdown', reply_markup=reply_markup)\n            return\n        except Exception as e:\n            logger.error(f\"Error fetching product: {e}\")\n    \n    # Main menu\n    keyboard = [\n        [InlineKeyboardButton(\"üì¶ Check Products\", callback_data=\"browse_products_0\")],\n        [InlineKeyboardButton(\"üõçÔ∏è My Orders\", callback_data=\"my_orders\")],\n        [InlineKeyboardButton(\"‚ÑπÔ∏è Help\", callback_data=\"help\")]\n    ]\n    reply_markup = InlineKeyboardMarkup(keyboard)\n    \n    welcome_message = f\"\"\"\nüëã Welcome {user.first_name}!\n\nüéÅ *Telegram Order Bot*\n\nI can help you browse products and place orders easily.\n\nChoose an option below to get started:\n\"\"\"\n    \n    await update.message.reply_text(welcome_message, parse_mode='Markdown', reply_markup=reply_markup)\n\n# Browse products with pagination\nasync def browse_products(update: Update, context: ContextTypes.DEFAULT_TYPE, page: int = 0):\n    try:\n        response = supabase.table(\"products\").select(\"*\").eq(\"is_active\", True).execute()\n        products = response.data\n        \n        if not products:\n            message = \"No products available at the moment.\"\n            if update.callback_query:\n                await update.callback_query.edit_message_text(message)\n            else:\n                await update.message.reply_text(message)\n            return\n        \n        # Pagination\n        total_products = len(products)\n        total_pages = (total_products + PRODUCTS_PER_PAGE - 1) // PRODUCTS_PER_PAGE\n        start_idx = page * PRODUCTS_PER_PAGE\n        end_idx = min(start_idx + PRODUCTS_PER_PAGE, total_products)\n        page_products = products[start_idx:end_idx]\n        \n        keyboard = []\n        for product in page_products:\n            keyboard.append([InlineKeyboardButton(\n                f\"{product['name']} - ${product['price']}\",\n                callback_data=f\"product_{product['product_id']}\"\n            )])\n        \n        # Pagination buttons\n        nav_buttons = []\n        if page > 0:\n            nav_buttons.append(InlineKeyboardButton(\"‚¨ÖÔ∏è Previous\", callback_data=f\"browse_products_{page-1}\"))\n        if page < total_pages - 1:\n            nav_buttons.append(InlineKeyboardButton(\"Next ‚û°Ô∏è\", callback_data=f\"browse_products_{page+1}\"))\n        \n        if nav_buttons:\n            keyboard.append(nav_buttons)\n        \n        keyboard.append([InlineKeyboardButton(\"¬´ Back to Menu\", callback_data=\"back_to_menu\")])\n        \n        reply_markup = InlineKeyboardMarkup(keyboard)\n        message = f\"üì¶ *Available Products* (Page {page+1}/{total_pages})\\n\\nSelect a product to view details:\"\n        \n        if update.callback_query:\n            await update.callback_query.edit_message_text(message, parse_mode='Markdown', reply_markup=reply_markup)\n        else:\n            await update.message.reply_text(message, parse_mode='Markdown', reply_markup=reply_markup)\n    except Exception as e:\n        logger.error(f\"Error fetching products: {e}\")\n        message = \"Error fetching products. Please try again later.\"\n        if update.callback_query:\n            await update.callback_query.edit_message_text(message)\n        else:\n            await update.message.reply_text(message)\n\n# Show product details\nasync def show_product_detail(update: Update, context: ContextTypes.DEFAULT_TYPE, product_id: str):\n    try:\n        response = supabase.table(\"products\").select(\"*\").eq(\"product_id\", product_id).single().execute()\n        product = response.data\n        \n        keyboard = [\n            [InlineKeyboardButton(\"üõí Order Now\", callback_data=f\"order_{product_id}\")],\n            [InlineKeyboardButton(\"¬´ Back to Products\", callback_data=\"browse_products_0\")]\n        ]\n        reply_markup = InlineKeyboardMarkup(keyboard)\n        \n        message = f\"\"\"\nüì¶ *{product['name']}*\nüÜî Product ID: {product['product_id']}\n\n{product['description'] or 'No description available'}\n\nüí∞ Price: ${product['price']}\nüìä Stock: {product['stock']} units\n\"\"\"\n        \n        await update.callback_query.edit_message_text(message, parse_mode='Markdown', reply_markup=reply_markup)\n    except Exception as e:\n        logger.error(f\"Error fetching product detail: {e}\")\n        await update.callback_query.edit_message_text(\"Error fetching product details.\")\n\n# Handle quantity input\nasync def get_quantity(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    try:\n        quantity = int(update.message.text)\n        product = context.user_data.get('current_product')\n        \n        if quantity <= 0 or quantity > product['stock']:\n            await update.message.reply_text(f\"Invalid quantity. Please enter a number between 1 and {product['stock']}.\")\n            return QUANTITY\n        \n        # Add to cart\n        cart_item = {\n            'product_id': product['product_id'],\n            'product_name': product['name'],\n            'quantity': quantity,\n            'price': float(product['price'])\n        }\n        context.user_data['cart'].append(cart_item)\n        \n        # Ask if user wants to add more products\n        keyboard = [\n            [InlineKeyboardButton(\"‚úÖ Yes, Add More\", callback_data=\"add_more_yes\")],\n            [InlineKeyboardButton(\"‚ùå No, Continue to Checkout\", callback_data=\"add_more_no\")]\n        ]\n        reply_markup = InlineKeyboardMarkup(keyboard)\n        \n        total = sum(item['quantity'] * item['price'] for item in context.user_data['cart'])\n        \n        await update.message.reply_text(\n            f\"‚úÖ Added {quantity} x {product['name']} to cart\\n\"\n            f\"üí∞ Subtotal: ${total:.2f}\\n\\n\"\n            \"Do you want to add more products?\",\n            reply_markup=reply_markup\n        )\n        return ADD_MORE\n    except ValueError:\n        await update.message.reply_text(\"Please enter a valid number.\")\n        return QUANTITY\n\n# Handle add more products\nasync def handle_add_more(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    query = update.callback_query\n    await query.answer()\n    \n    if query.data == \"add_more_yes\":\n        await browse_products(update, context, 0)\n        return ConversationHandler.END\n    else:\n        # Continue to name input\n        await query.edit_message_text(\"Please enter your full name:\")\n        return NAME_CONFIRM\n\n# Get name\nasync def get_name(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    context.user_data['user_name'] = update.message.text\n    \n    keyboard = [\n        [InlineKeyboardButton(\"‚úÖ Correct\", callback_data=\"name_correct\")],\n        [InlineKeyboardButton(\"‚úèÔ∏è Wrong (Edit)\", callback_data=\"name_wrong\")]\n    ]\n    reply_markup = InlineKeyboardMarkup(keyboard)\n    \n    await update.message.reply_text(\n        f\"Your name: *{update.message.text}*\\n\\nIs this correct?\",\n        parse_mode='Markdown',\n        reply_markup=reply_markup\n    )\n    return NAME_CONFIRM\n\n# Confirm name\nasync def confirm_name(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    query = update.callback_query\n    await query.answer()\n    \n    if query.data == \"name_correct\":\n        await query.edit_message_text(\"Please enter your phone number:\")\n        return PHONE_CONFIRM\n    else:\n        await query.edit_message_text(\"Please enter your correct name:\")\n        return NAME_EDIT\n\n# Edit name\nasync def edit_name(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    context.user_data['user_name'] = update.message.text\n    \n    keyboard = [\n        [InlineKeyboardButton(\"‚úÖ Correct\", callback_data=\"name_correct\")],\n        [InlineKeyboardButton(\"‚úèÔ∏è Wrong (Edit)\", callback_data=\"name_wrong\")]\n    ]\n    reply_markup = InlineKeyboardMarkup(keyboard)\n    \n    await update.message.reply_text(\n        f\"Your name: *{update.message.text}*\\n\\nIs this correct?\",\n        parse_mode='Markdown',\n        reply_markup=reply_markup\n    )\n    return NAME_CONFIRM\n\n# Get phone\nasync def get_phone(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    context.user_data['phone'] = update.message.text\n    \n    keyboard = [\n        [InlineKeyboardButton(\"‚úÖ Correct\", callback_data=\"phone_correct\")],\n        [InlineKeyboardButton(\"‚úèÔ∏è Wrong (Edit)\", callback_data=\"phone_wrong\")]\n    ]\n    reply_markup = InlineKeyboardMarkup(keyboard)\n    \n    await update.message.reply_text(\n        f\"Your phone: *{update.message.text}*\\n\\nIs this correct?\",\n        parse_mode='Markdown',\n        reply_markup=reply_markup\n    )\n    return PHONE_CONFIRM\n\n# Confirm phone\nasync def confirm_phone(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    query = update.callback_query\n    await query.answer()\n    \n    if query.data == \"phone_correct\":\n        await query.edit_message_text(\"Please enter your house/building number:\")\n        return HOUSE_NO\n    else:\n        await query.edit_message_text(\"Please enter your correct phone number:\")\n        return PHONE_EDIT\n\n# Edit phone\nasync def edit_phone(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    context.user_data['phone'] = update.message.text\n    \n    keyboard = [\n        [InlineKeyboardButton(\"‚úÖ Correct\", callback_data=\"phone_correct\")],\n        [InlineKeyboardButton(\"‚úèÔ∏è Wrong (Edit)\", callback_data=\"phone_wrong\")]\n    ]\n    reply_markup = InlineKeyboardMarkup(keyboard)\n    \n    await update.message.reply_text(\n        f\"Your phone: *{update.message.text}*\\n\\nIs this correct?\",\n        parse_mode='Markdown',\n        reply_markup=reply_markup\n    )\n    return PHONE_CONFIRM\n\n# Get house number\nasync def get_house_no(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    context.user_data['house_no'] = update.message.text\n    await update.message.reply_text(\"Please enter your street name:\")\n    return STREET\n\n# Get street\nasync def get_street(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    context.user_data['street'] = update.message.text\n    await update.message.reply_text(\"Please enter your ward (quarter):\")\n    return WARD\n\n# Get ward\nasync def get_ward(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    context.user_data['ward'] = update.message.text\n    await update.message.reply_text(\"Please enter your township:\")\n    return TOWNSHIP\n\n# Get township\nasync def get_township(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    context.user_data['township'] = update.message.text\n    await update.message.reply_text(\"Please enter your city:\")\n    return CITY\n\n# Get city and confirm address\nasync def get_city(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    context.user_data['city'] = update.message.text\n    \n    address_str = f\"{context.user_data['house_no']}, {context.user_data['street']}, {context.user_data['ward']}, {context.user_data['township']}, {context.user_data['city']}\"\n    \n    keyboard = [\n        [InlineKeyboardButton(\"‚úÖ Correct\", callback_data=\"address_correct\")],\n        [InlineKeyboardButton(\"‚úèÔ∏è Wrong (Re-enter)\", callback_data=\"address_wrong\")]\n    ]\n    reply_markup = InlineKeyboardMarkup(keyboard)\n    \n    await update.message.reply_text(\n        f\"Your address:\\n*{address_str}*\\n\\nIs this correct?\",\n        parse_mode='Markdown',\n        reply_markup=reply_markup\n    )\n    return ADDRESS_CONFIRM\n\n# Confirm address\nasync def confirm_address(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    query = update.callback_query\n    await query.answer()\n    \n    if query.data == \"address_correct\":\n        keyboard = [\n            [InlineKeyboardButton(\"üöó Express Cars\", callback_data=\"delivery_express_cars\")],\n            [InlineKeyboardButton(\"üöö Delivery Company\", callback_data=\"delivery_delivery_company\")]\n        ]\n        reply_markup = InlineKeyboardMarkup(keyboard)\n        \n        await query.edit_message_text(\n            \"Please select your delivery type:\",\n            reply_markup=reply_markup\n        )\n        return DELIVERY_TYPE\n    else:\n        await query.edit_message_text(\"Please enter your house/building number again:\")\n        return HOUSE_NO\n\n# Handle delivery type and show final confirmation\nasync def handle_delivery_type(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    query = update.callback_query\n    await query.answer()\n    \n    delivery_type = query.data.replace(\"delivery_\", \"\")\n    context.user_data['delivery_type'] = delivery_type\n    \n    # Show final confirmation\n    cart = context.user_data.get('cart', [])\n    total_cost = sum(item['quantity'] * item['price'] for item in cart)\n    \n    items_str = \"\\n\".join([f\"‚Ä¢ {item['product_name']} x {item['quantity']} - ${item['price'] * item['quantity']:.2f}\" for item in cart])\n    address_str = f\"{context.user_data['house_no']}, {context.user_data['street']}, {context.user_data['ward']}, {context.user_data['township']}, {context.user_data['city']}\"\n    \n    confirmation_message = f\"\"\"\nüìã *ORDER SUMMARY*\n\n*Items:*\n{items_str}\n\n*Total Cost:* ${total_cost:.2f}\n\n*Customer Info:*\nName: {context.user_data['user_name']}\nPhone: {context.user_data['phone']}\nAddress: {address_str}\n\n*Delivery Type:* {delivery_type.replace('_', ' ').title()}\n\nConfirm all details are correct?\n\"\"\"\n    \n    keyboard = [\n        [InlineKeyboardButton(\"‚úÖ Yes, Confirm\", callback_data=\"final_confirm_yes\")],\n        [InlineKeyboardButton(\"‚úèÔ∏è No, Edit Details\", callback_data=\"final_confirm_no\")]\n    ]\n    reply_markup = InlineKeyboardMarkup(keyboard)\n    \n    await query.edit_message_text(confirmation_message, parse_mode='Markdown', reply_markup=reply_markup)\n    return FINAL_CONFIRM\n\n# Handle final confirmation\nasync def handle_final_confirm(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    query = update.callback_query\n    await query.answer()\n    \n    if query.data == \"final_confirm_yes\":\n        # Show payment details\n        cart = context.user_data.get('cart', [])\n        total_cost = sum(item['quantity'] * item['price'] for item in cart)\n        \n        await query.edit_message_text(\n            f\"{PAYMENT_DETAILS}\\n\\nüí∞ *Total Amount: ${total_cost:.2f}*\\n\\n\"\n            \"Please upload your payment screenshot after making the payment.\",\n            parse_mode='Markdown'\n        )\n        return PAYMENT_PHOTO\n    else:\n        # Let user edit details\n        keyboard = [\n            [InlineKeyboardButton(\"üë§ Edit Name\", callback_data=\"edit_name\")],\n            [InlineKeyboardButton(\"üìû Edit Phone\", callback_data=\"edit_phone\")],\n            [InlineKeyboardButton(\"üìç Edit Address\", callback_data=\"edit_address\")],\n            [InlineKeyboardButton(\"üõí Edit Products\", callback_data=\"edit_products\")],\n            [InlineKeyboardButton(\"üöö Edit Delivery Type\", callback_data=\"edit_delivery\")],\n            [InlineKeyboardButton(\"¬´ Back to Confirmation\", callback_data=\"back_to_confirm\")]\n        ]\n        reply_markup = InlineKeyboardMarkup(keyboard)\n        \n        await query.edit_message_text(\"What would you like to edit?\", reply_markup=reply_markup)\n        return FINAL_CONFIRM\n\n# Handle payment photo\nasync def get_payment_photo(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    user = update.effective_user\n    \n    if not update.message.photo:\n        await update.message.reply_text(\"Please send a photo of your payment screenshot.\")\n        return PAYMENT_PHOTO\n    \n    try:\n        photo = update.message.photo[-1]\n        file = await context.bot.get_file(photo.file_id)\n        file_path = f\"/tmp/payment_{user.id}_{datetime.now().timestamp()}.jpg\"\n        await file.download_to_drive(file_path)\n        \n        # Generate order string\n        order_string_response = supabase.rpc(\"generate_order_string\").execute()\n        order_string = order_string_response.data\n        \n        # Upload to Supabase storage\n        with open(file_path, 'rb') as f:\n            storage_path = f\"telegram_{user.id}_{order_string}.jpg\"\n            supabase.storage.from_(\"payment-screenshots\").upload(\n                storage_path,\n                f,\n                {\"content-type\": \"image/jpeg\"}\n            )\n        \n        payment_url = supabase.storage.from_(\"payment-screenshots\").get_public_url(storage_path)\n        \n        # Create order\n        cart = context.user_data.get('cart', [])\n        total_cost = sum(item['quantity'] * item['price'] for item in cart)\n        \n        order_data = {\n            \"order_string\": order_string,\n            \"telegram_user_id\": user.id,\n            \"user_name\": context.user_data['user_name'],\n            \"phone\": context.user_data['phone'],\n            \"address\": {\n                \"house_no\": context.user_data['house_no'],\n                \"street\": context.user_data['street'],\n                \"ward\": context.user_data['ward'],\n                \"township\": context.user_data['township'],\n                \"city\": context.user_data['city']\n            },\n            \"items\": cart,\n            \"total_cost\": total_cost,\n            \"delivery_type\": context.user_data['delivery_type'],\n            \"payment_image_url\": payment_url,\n            \"status\": \"pending\"\n        }\n        \n        # Save order\n        supabase.table(\"orders\").insert(order_data).execute()\n        \n        # Generate PDF\n        pdf_bytes = generate_pdf_receipt(order_data)\n        \n        # Send PDF to user\n        await update.message.reply_document(\n            document=io.BytesIO(pdf_bytes),\n            filename=f\"receipt_{order_string}.pdf\",\n            caption=f\"‚úÖ Order placed successfully!\\n\\nüìù Order ID: {order_string}\"\n        )\n        \n        # Send order to admin channel\n        if ADMIN_CHANNEL_ID:\n            items_str = \"\\n\".join([f\"‚Ä¢ {item['product_name']} x {item['quantity']} - ${item['price'] * item['quantity']:.2f}\" for item in cart])\n            address_str = f\"{order_data['address']['house_no']}, {order_data['address']['street']}, {order_data['address']['ward']}, {order_data['address']['township']}, {order_data['address']['city']}\"\n            \n            admin_message = f\"\"\"\nüÜï *NEW ORDER RECEIVED*\n\nüìù Order ID: `{order_string}`\nüë§ Customer: {order_data['user_name']}\nüìû Phone: {order_data['phone']}\nüìç Address: {address_str}\n\nüõí *Items:*\n{items_str}\n\nüí∞ *Total:* ${total_cost:.2f}\nüöö *Delivery:* {order_data['delivery_type'].replace('_', ' ').title()}\n\"\"\"\n            \n            keyboard = [\n                [InlineKeyboardButton(\"‚úÖ Approve\", callback_data=f\"approve_{order_string}\")],\n                [InlineKeyboardButton(\"‚ùå Reject\", callback_data=f\"reject_{order_string}\")]\n            ]\n            reply_markup = InlineKeyboardMarkup(keyboard)\n            \n            # Send message\n            await context.bot.send_message(\n                chat_id=ADMIN_CHANNEL_ID,\n                text=admin_message,\n                parse_mode='Markdown',\n                reply_markup=reply_markup\n            )\n            \n            # Send payment screenshot\n            await context.bot.send_photo(\n                chat_id=ADMIN_CHANNEL_ID,\n                photo=photo.file_id,\n                caption=\"Payment Screenshot\"\n            )\n            \n            # Send PDF\n            await context.bot.send_document(\n                chat_id=ADMIN_CHANNEL_ID,\n                document=io.BytesIO(pdf_bytes),\n                filename=f\"receipt_{order_string}.pdf\"\n            )\n        \n        # Save user profile\n        profile_data = {\n            \"telegram_user_id\": user.id,\n            \"username\": user.username,\n            \"phone\": context.user_data['phone']\n        }\n        \n        try:\n            existing = supabase.table(\"profiles\").select(\"*\").eq(\"telegram_user_id\", user.id).maybe_single().execute()\n            if not existing.data:\n                supabase.table(\"profiles\").insert(profile_data).execute()\n        except:\n            pass\n        \n        await update.message.reply_text(\n            f\"‚úÖ Order placed successfully!\\n\\n\"\n            f\"üìù Order ID: {order_string}\\n\"\n            f\"üí∞ Total: ${total_cost:.2f}\\n\\n\"\n            \"Your order is pending approval. You will be notified once it's approved!\"\n        )\n        \n        # Clear cart\n        context.user_data.clear()\n        \n        # Clean up temp file\n        try:\n            os.remove(file_path)\n        except:\n            pass\n        \n        return ConversationHandler.END\n    except Exception as e:\n        logger.error(f\"Error processing order: {e}\")\n        await update.message.reply_text(\"Error processing your order. Please try again later.\")\n        return ConversationHandler.END\n\n# Handle admin approval/rejection\nasync def handle_admin_action(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    query = update.callback_query\n    await query.answer()\n    \n    action, order_string = query.data.split(\"_\", 1)\n    \n    try:\n        # Get order details\n        order = supabase.table(\"orders\").select(\"*\").eq(\"order_string\", order_string).single().execute()\n        order_data = order.data\n        \n        if action == \"approve\":\n            # Update order status\n            supabase.table(\"orders\").update({\"status\": \"approved\"}).eq(\"order_string\", order_string).execute()\n            \n            # Notify user\n            await context.bot.send_message(\n                chat_id=order_data['telegram_user_id'],\n                text=f\"‚úÖ Your order #{order_string} has been approved and sent to delivery!\"\n            )\n            \n            await query.edit_message_text(\n                f\"{query.message.text}\\n\\n‚úÖ *APPROVED*\",\n                parse_mode='Markdown'\n            )\n        else:\n            # Update order status\n            supabase.table(\"orders\").update({\"status\": \"rejected\"}).eq(\"order_string\", order_string).execute()\n            \n            # Notify user\n            await context.bot.send_message(\n                chat_id=order_data['telegram_user_id'],\n                text=f\"‚ùå Your order #{order_string} has been rejected. Please contact admin for more information.\"\n            )\n            \n            await query.edit_message_text(\n                f\"{query.message.text}\\n\\n‚ùå *REJECTED*\",\n                parse_mode='Markdown'\n            )\n    except Exception as e:\n        logger.error(f\"Error handling admin action: {e}\")\n        await query.edit_message_text(\"Error processing action.\")\n\n# View my orders\nasync def my_orders(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    user = update.effective_user\n    \n    try:\n        response = supabase.table(\"orders\").select(\"*\").eq(\"telegram_user_id\", user.id).order(\"created_at\", desc=True).limit(10).execute()\n        orders = response.data\n        \n        if not orders:\n            message = \"You haven't placed any orders yet.\"\n        else:\n            message = \"üìã *Your Recent Orders*\\n\\n\"\n            for order in orders:\n                status_emoji = {\n                    \"pending\": \"‚è≥\",\n                    \"approved\": \"‚úÖ\",\n                    \"rejected\": \"‚ùå\",\n                    \"delivered\": \"üì¶\"\n                }.get(order['status'], \"‚ùì\")\n                \n                message += f\"{status_emoji} *{order['order_string']}*\\n\"\n                message += f\"Status: {order['status'].title()}\\n\"\n                message += f\"Total: ${order['total_cost']}\\n\"\n                message += f\"Date: {order['created_at'][:10]}\\n\\n\"\n        \n        if update.callback_query:\n            await update.callback_query.edit_message_text(message, parse_mode='Markdown')\n        else:\n            await update.message.reply_text(message, parse_mode='Markdown')\n    except Exception as e:\n        logger.error(f\"Error fetching orders: {e}\")\n        message = \"Error fetching your orders.\"\n        if update.callback_query:\n            await update.callback_query.edit_message_text(message)\n        else:\n            await update.message.reply_text(message)\n\n# Help command\nasync def help_command(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    help_text = \"\"\"\n‚ÑπÔ∏è *How to Use This Bot*\n\n1Ô∏è‚É£ Browse products using /start or the menu\n2Ô∏è‚É£ Select a product to view details\n3Ô∏è‚É£ Click \"Order Now\" to place an order\n4Ô∏è‚É£ You can add multiple products to your cart\n5Ô∏è‚É£ Fill in your details step by step\n6Ô∏è‚É£ Upload payment screenshot\n7Ô∏è‚É£ Wait for admin approval\n\nüìû *Commands*\n/start - Start the bot\n/orders - View your orders\n/help - Show this help message\n\nNeed support? Contact our team!\n\"\"\"\n    \n    if update.callback_query:\n        await update.callback_query.edit_message_text(help_text, parse_mode='Markdown')\n    else:\n        await update.message.reply_text(help_text, parse_mode='Markdown')\n\n# Cancel command\nasync def cancel(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    context.user_data.clear()\n    await update.message.reply_text(\"Order cancelled. Use /start to begin again.\")\n    return ConversationHandler.END\n\n# Get Chat ID command (useful for finding channel ID)\nasync def get_chat_id(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    chat_id = update.effective_chat.id\n    chat_type = update.effective_chat.type\n    chat_title = update.effective_chat.title if hasattr(update.effective_chat, 'title') else \"Private Chat\"\n    \n    message = f\"\"\"\nüìã *Chat Information*\n\nChat ID: `{chat_id}`\nChat Type: {chat_type}\nChat Title: {chat_title}\n\nüí° *Tip:* If this is your admin channel, copy the Chat ID and set it as ADMIN_CHANNEL_ID environment variable in Replit Secrets.\n\"\"\"\n    \n    await update.message.reply_text(message, parse_mode='Markdown')\n\n# Order button handler (for conversation entry)\nasync def order_button_handler(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    query = update.callback_query\n    await query.answer()\n    \n    product_id = query.data.split(\"_\")[1]\n    context.user_data['current_product_id'] = product_id\n    \n    try:\n        response = supabase.table(\"products\").select(\"*\").eq(\"product_id\", product_id).single().execute()\n        product = response.data\n        \n        # Initialize cart if not exists\n        if 'cart' not in context.user_data:\n            context.user_data['cart'] = []\n        \n        context.user_data['current_product'] = product\n        \n        message = f\"How many {product['name']} would you like to order?\\n\\nPlease enter a quantity (1-{product['stock']}):\"\n        await query.edit_message_text(message)\n        \n        return QUANTITY\n    except Exception as e:\n        logger.error(f\"Error starting order: {e}\")\n        await query.edit_message_text(\"Error processing order. Please try again.\")\n        return ConversationHandler.END\n\n# Navigation callback query handler\nasync def button_callback(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    query = update.callback_query\n    await query.answer()\n    \n    if query.data.startswith(\"browse_products_\"):\n        page = int(query.data.split(\"_\")[-1])\n        await browse_products(update, context, page)\n    elif query.data.startswith(\"product_\"):\n        product_id = query.data.split(\"_\")[1]\n        await show_product_detail(update, context, product_id)\n    elif query.data == \"my_orders\":\n        await my_orders(update, context)\n    elif query.data == \"help\":\n        await help_command(update, context)\n    elif query.data == \"back_to_menu\":\n        await start(update, context)\n    elif query.data.startswith(\"approve_\") or query.data.startswith(\"reject_\"):\n        await handle_admin_action(update, context)\n\ndef main():\n    if not BOT_TOKEN:\n        logger.error(\"TELEGRAM_BOT_TOKEN not found in environment variables!\")\n        return\n    \n    if not SUPABASE_URL or not SUPABASE_KEY:\n        logger.error(\"SUPABASE_URL and SUPABASE_ANON_KEY must be set in environment variables!\")\n        return\n    \n    application = Application.builder().token(BOT_TOKEN).build()\n    \n    # Conversation handler for orders\n    conv_handler = ConversationHandler(\n        entry_points=[\n            CallbackQueryHandler(order_button_handler, pattern='^order_'),\n            CallbackQueryHandler(handle_add_more, pattern='^add_more_')\n        ],\n        states={\n            QUANTITY: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_quantity)],\n            ADD_MORE: [CallbackQueryHandler(handle_add_more, pattern='^add_more_')],\n            NAME_CONFIRM: [\n                MessageHandler(filters.TEXT & ~filters.COMMAND, get_name),\n                CallbackQueryHandler(confirm_name, pattern='^name_')\n            ],\n            NAME_EDIT: [MessageHandler(filters.TEXT & ~filters.COMMAND, edit_name)],\n            PHONE_CONFIRM: [\n                MessageHandler(filters.TEXT & ~filters.COMMAND, get_phone),\n                CallbackQueryHandler(confirm_phone, pattern='^phone_')\n            ],\n            PHONE_EDIT: [MessageHandler(filters.TEXT & ~filters.COMMAND, edit_phone)],\n            HOUSE_NO: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_house_no)],\n            STREET: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_street)],\n            WARD: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_ward)],\n            TOWNSHIP: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_township)],\n            CITY: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_city)],\n            ADDRESS_CONFIRM: [CallbackQueryHandler(confirm_address, pattern='^address_')],\n            DELIVERY_TYPE: [CallbackQueryHandler(handle_delivery_type, pattern='^delivery_')],\n            FINAL_CONFIRM: [CallbackQueryHandler(handle_final_confirm, pattern='^final_confirm_')],\n            PAYMENT_PHOTO: [MessageHandler(filters.PHOTO, get_payment_photo)],\n        },\n        fallbacks=[CommandHandler('cancel', cancel)],\n    )\n    \n    # Add handlers\n    application.add_handler(CommandHandler(\"start\", start))\n    application.add_handler(CommandHandler(\"orders\", my_orders))\n    application.add_handler(CommandHandler(\"help\", help_command))\n    application.add_handler(CommandHandler(\"getchatid\", get_chat_id))\n    application.add_handler(conv_handler)\n    application.add_handler(CallbackQueryHandler(button_callback))\n    \n    logger.info(\"Bot started successfully!\")\n    application.run_polling(allowed_updates=Update.ALL_TYPES)\n\nif __name__ == \"__main__\":\n    main()\n","size_bytes":35234},"O3/src/components/ui/label.tsx":{"content":"import * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst labelVariants = cva(\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\");\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> & VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root ref={ref} className={cn(labelVariants(), className)} {...props} />\n));\nLabel.displayName = LabelPrimitive.Root.displayName;\n\nexport { Label };\n","size_bytes":696},"O3/src/vite-env.d.ts":{"content":"/// <reference types=\"vite/client\" />\n","size_bytes":38},"O3/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport interface TextareaProps extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className,\n      )}\n      ref={ref}\n      {...props}\n    />\n  );\n});\nTextarea.displayName = \"Textarea\";\n\nexport { Textarea };\n","size_bytes":751},"O3/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\";\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline: \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3\",\n        sm: \"h-9 px-2.5\",\n        lg: \"h-11 px-5\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> & VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root ref={ref} className={cn(toggleVariants({ variant, size, className }))} {...props} />\n));\n\nToggle.displayName = TogglePrimitive.Root.displayName;\n\nexport { Toggle, toggleVariants };\n","size_bytes":1416},"O3/src/components/ui/slider.tsx":{"content":"import * as React from \"react\";\nimport * as SliderPrimitive from \"@radix-ui/react-slider\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\"relative flex w-full touch-none select-none items-center\", className)}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n));\nSlider.displayName = SliderPrimitive.Root.displayName;\n\nexport { Slider };\n","size_bytes":1065},"O3/src/components/ui/badge.tsx":{"content":"import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default: \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive: \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement>, VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return <div className={cn(badgeVariants({ variant }), className)} {...props} />;\n}\n\nexport { Badge, badgeVariants };\n","size_bytes":1089},"O3/src/integrations/supabase/client.ts":{"content":"// This file is automatically generated. Do not edit it directly.\nimport { createClient } from '@supabase/supabase-js';\nimport type { Database } from './types';\n\nconst SUPABASE_URL = \"https://dwaxejcqvtkeavngwrzk.supabase.co\";\nconst SUPABASE_PUBLISHABLE_KEY = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR3YXhlamNxdnRrZWF2bmd3cnprIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM0NDY2NTIsImV4cCI6MjA3OTAyMjY1Mn0.o5kO7P4lpnQU8brNliTORSYBZPOwdt8anp9RvuCM6Uo\";\n\n// Import the supabase client like this:\n// import { supabase } from \"@/integrations/supabase/client\";\n\nexport const supabase = createClient<Database>(SUPABASE_URL, SUPABASE_PUBLISHABLE_KEY, {\n  auth: {\n    storage: localStorage,\n    persistSession: true,\n    autoRefreshToken: true,\n  }\n});","size_bytes":764},"O3/src/components/ui/table.tsx":{"content":"import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Table = React.forwardRef<HTMLTableElement, React.HTMLAttributes<HTMLTableElement>>(\n  ({ className, ...props }, ref) => (\n    <div className=\"relative w-full overflow-auto\">\n      <table ref={ref} className={cn(\"w-full caption-bottom text-sm\", className)} {...props} />\n    </div>\n  ),\n);\nTable.displayName = \"Table\";\n\nconst TableHeader = React.forwardRef<HTMLTableSectionElement, React.HTMLAttributes<HTMLTableSectionElement>>(\n  ({ className, ...props }, ref) => <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />,\n);\nTableHeader.displayName = \"TableHeader\";\n\nconst TableBody = React.forwardRef<HTMLTableSectionElement, React.HTMLAttributes<HTMLTableSectionElement>>(\n  ({ className, ...props }, ref) => (\n    <tbody ref={ref} className={cn(\"[&_tr:last-child]:border-0\", className)} {...props} />\n  ),\n);\nTableBody.displayName = \"TableBody\";\n\nconst TableFooter = React.forwardRef<HTMLTableSectionElement, React.HTMLAttributes<HTMLTableSectionElement>>(\n  ({ className, ...props }, ref) => (\n    <tfoot ref={ref} className={cn(\"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\", className)} {...props} />\n  ),\n);\nTableFooter.displayName = \"TableFooter\";\n\nconst TableRow = React.forwardRef<HTMLTableRowElement, React.HTMLAttributes<HTMLTableRowElement>>(\n  ({ className, ...props }, ref) => (\n    <tr\n      ref={ref}\n      className={cn(\"border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50\", className)}\n      {...props}\n    />\n  ),\n);\nTableRow.displayName = \"TableRow\";\n\nconst TableHead = React.forwardRef<HTMLTableCellElement, React.ThHTMLAttributes<HTMLTableCellElement>>(\n  ({ className, ...props }, ref) => (\n    <th\n      ref={ref}\n      className={cn(\n        \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n);\nTableHead.displayName = \"TableHead\";\n\nconst TableCell = React.forwardRef<HTMLTableCellElement, React.TdHTMLAttributes<HTMLTableCellElement>>(\n  ({ className, ...props }, ref) => (\n    <td ref={ref} className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)} {...props} />\n  ),\n);\nTableCell.displayName = \"TableCell\";\n\nconst TableCaption = React.forwardRef<HTMLTableCaptionElement, React.HTMLAttributes<HTMLTableCaptionElement>>(\n  ({ className, ...props }, ref) => (\n    <caption ref={ref} className={cn(\"mt-4 text-sm text-muted-foreground\", className)} {...props} />\n  ),\n);\nTableCaption.displayName = \"TableCaption\";\n\nexport { Table, TableHeader, TableBody, TableFooter, TableHead, TableRow, TableCell, TableCaption };\n","size_bytes":2694},"O3/src/components/ui/command.tsx":{"content":"import * as React from \"react\";\nimport { type DialogProps } from \"@radix-ui/react-dialog\";\nimport { Command as CommandPrimitive } from \"cmdk\";\nimport { Search } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\";\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className,\n    )}\n    {...props}\n  />\n));\nCommand.displayName = CommandPrimitive.displayName;\n\ninterface CommandDialogProps extends DialogProps {}\n\nconst CommandDialog = ({ children, ...props }: CommandDialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className,\n      )}\n      {...props}\n    />\n  </div>\n));\n\nCommandInput.displayName = CommandPrimitive.Input.displayName;\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n));\n\nCommandList.displayName = CommandPrimitive.List.displayName;\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => <CommandPrimitive.Empty ref={ref} className=\"py-6 text-center text-sm\" {...props} />);\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName;\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className,\n    )}\n    {...props}\n  />\n));\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName;\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator ref={ref} className={cn(\"-mx-1 h-px bg-border\", className)} {...props} />\n));\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName;\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50\",\n      className,\n    )}\n    {...props}\n  />\n));\n\nCommandItem.displayName = CommandPrimitive.Item.displayName;\n\nconst CommandShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {\n  return <span className={cn(\"ml-auto text-xs tracking-widest text-muted-foreground\", className)} {...props} />;\n};\nCommandShortcut.displayName = \"CommandShortcut\";\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n};\n","size_bytes":4821},"README.md":{"content":"# Repo\nUploaded via Telegram Bot","size_bytes":32},"O3/src/components/admin/BroadcastTab.tsx":{"content":"import { useState } from \"react\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { toast } from \"sonner\";\nimport { Send } from \"lucide-react\";\n\nconst BroadcastTab = () => {\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleBroadcast = async () => {\n    if (!message.trim()) {\n      toast.error(\"Please enter a message\");\n      return;\n    }\n\n    setLoading(true);\n    \n    const { data: { user } } = await supabase.auth.getUser();\n    if (!user) {\n      toast.error(\"Not authenticated\");\n      setLoading(false);\n      return;\n    }\n\n    // Get count of active users\n    const { data: profiles, error: profilesError } = await supabase\n      .from(\"profiles\")\n      .select(\"id\")\n      .eq(\"is_banned\", false);\n\n    if (profilesError) {\n      toast.error(\"Failed to get user count\");\n      setLoading(false);\n      return;\n    }\n\n    // Save broadcast message\n    const { error } = await supabase\n      .from(\"broadcast_messages\")\n      .insert({\n        message: message.trim(),\n        sent_by: user.id,\n        recipient_count: profiles?.length || 0\n      });\n\n    if (error) {\n      toast.error(\"Failed to save broadcast message\");\n    } else {\n      toast.success(`Broadcast message saved! Will be sent to ${profiles?.length || 0} users via Telegram bot.`);\n      setMessage(\"\");\n    }\n\n    setLoading(false);\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <h2 className=\"text-2xl font-bold text-foreground mb-6\">Broadcast Message</h2>\n\n      <Card className=\"border-border shadow-soft\">\n        <CardHeader>\n          <CardTitle>Send message to all users</CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <Textarea\n            placeholder=\"Type your broadcast message here...\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            rows={6}\n            className=\"resize-none\"\n          />\n          <Button\n            onClick={handleBroadcast}\n            disabled={loading || !message.trim()}\n            className=\"w-full bg-gradient-primary shadow-soft\"\n          >\n            <Send className=\"w-4 h-4 mr-2\" />\n            {loading ? \"Sending...\" : \"Send Broadcast\"}\n          </Button>\n          <p className=\"text-sm text-muted-foreground\">\n            This message will be saved to the database. Your Telegram bot should check for new broadcast messages and send them to all active users.\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default BroadcastTab;","size_bytes":2753},"O3/src/components/ui/drawer.tsx":{"content":"import * as React from \"react\";\nimport { Drawer as DrawerPrimitive } from \"vaul\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Drawer = ({ shouldScaleBackground = true, ...props }: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root shouldScaleBackground={shouldScaleBackground} {...props} />\n);\nDrawer.displayName = \"Drawer\";\n\nconst DrawerTrigger = DrawerPrimitive.Trigger;\n\nconst DrawerPortal = DrawerPrimitive.Portal;\n\nconst DrawerClose = DrawerPrimitive.Close;\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay ref={ref} className={cn(\"fixed inset-0 z-50 bg-black/80\", className)} {...props} />\n));\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName;\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className,\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n));\nDrawerContent.displayName = \"DrawerContent\";\n\nconst DrawerHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)} {...props} />\n);\nDrawerHeader.displayName = \"DrawerHeader\";\n\nconst DrawerFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)} {...props} />\n);\nDrawerFooter.displayName = \"DrawerFooter\";\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName;\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n));\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName;\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n};\n","size_bytes":2941},"O3/postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n};\n","size_bytes":81},"O3/SETUP_COMPLETE.md":{"content":"# üéâ Project Import Complete!\n\nYour Telegram Order Bot with Admin Panel is now fully operational on Replit!\n\n## ‚úÖ What's Been Set Up\n\n### 1. Web Admin Panel (Frontend)\n- **URL**: Available in the Webview panel\n- **Framework**: React + Vite + TypeScript\n- **UI**: Shadcn/ui components with Tailwind CSS\n- **Features**:\n  - üì¶ Product Management (Add, Edit, Delete products)\n  - üõçÔ∏è Order Management (View, Approve, Reject orders)\n  - üë• User Management (View users, Ban/Unban)\n  - üì¢ Broadcast Messages (Send messages to all users)\n  - üîê Supabase Authentication\n\n### 2. Telegram Bot (Backend)\n- **Status**: ‚úÖ Running and connected\n- **Features**:\n  - Product browsing with inline keyboards\n  - Complete order flow (quantity ‚Üí address ‚Üí payment)\n  - Payment screenshot upload\n  - Delivery type selection\n  - Order history viewing\n  - Deep linking support (share product links)\n  - User ban checking\n  - Real-time order status notifications\n\n### 3. Database (Supabase)\n- **Database**: PostgreSQL with Row Level Security\n- **Tables**:\n  - `products` - Product inventory\n  - `orders` - Order management\n  - `profiles` - User profiles\n  - `user_roles` - Admin role management\n  - `broadcast_messages` - Message history\n- **Storage Buckets**:\n  - `payment-screenshots` - Private payment images\n  - `product-images` - Public product images\n\n## üöÄ Getting Started\n\n### Access Your Admin Panel\n1. Click the Webview panel in Replit\n2. Click \"Admin Login\" button\n3. Sign up with your email to create an admin account\n4. After signing up, you'll need to manually grant yourself admin role in the database (see below)\n\n### Grant Admin Role (First Time Setup)\nSince this is your first time, you need to make yourself an admin:\n\n1. Go to your Supabase dashboard: https://dwaxejcqvtkeavngwrzk.supabase.co\n2. Navigate to SQL Editor\n3. Run this query (replace with your actual user ID after signing up):\n```sql\n-- First, get your user ID by checking the auth.users table\nSELECT id, email FROM auth.users;\n\n-- Then insert admin role (replace YOUR_USER_ID with the ID from above)\nINSERT INTO public.user_roles (user_id, role)\nVALUES ('YOUR_USER_ID', 'admin');\n```\n\n### Test Your Telegram Bot\n1. Open Telegram and search for your bot (use the username you created with BotFather)\n2. Send `/start` command\n3. Browse products and try creating an order\n4. The order will appear in your admin panel for approval!\n\n## üì± Bot Commands\n\n- `/start` - Start the bot and show main menu\n- `/products` - Browse all available products  \n- `/orders` - View your order history\n- `/help` - Show help information\n- `/cancel` - Cancel current order process\n\n## üîó Deep Linking\n\nShare products directly with customers using deep links:\n```\nhttps://t.me/YOUR_BOT_USERNAME?start=PRODUCT_ID\n```\n\nExample: If you create a product with ID \"D1\", share:\n```\nhttps://t.me/YOUR_BOT_USERNAME?start=D1\n```\n\n## üìù Next Steps\n\n### 1. Add Products\n- Go to Admin Panel ‚Üí Products tab\n- Click \"Add Product\"\n- Fill in details and upload product image\n- Products will immediately appear in the bot\n\n### 2. Configure Payment Methods\n- Update the payment instructions shown to users\n- Set up your payment account details\n- Customers will upload payment screenshots which you can review in the admin panel\n\n### 3. Manage Orders\n- When users place orders, they appear in Orders tab\n- Review payment screenshots\n- Approve or reject orders\n- Users get notified automatically via the bot\n\n### 4. Broadcast Messages\n- Go to Broadcast tab\n- Send announcements to all users\n- Track message delivery\n\n## üîß Workflows Running\n\nBoth workflows are configured and running:\n\n1. **Start application** - Web admin panel (Port 5000)\n2. **Telegram Bot** - Python bot polling for updates\n\nYou can monitor them in the Workflows panel.\n\n## üîí Security\n\nAll secrets are properly configured in Replit Secrets:\n- ‚úÖ TELEGRAM_BOT_TOKEN\n- ‚úÖ SUPABASE_URL\n- ‚úÖ SUPABASE_ANON_KEY\n\nNever commit these to your repository!\n\n## üìö Documentation\n\n- `bot/README.md` - Telegram bot documentation\n- `TELEGRAM_BOT_GUIDE.md` - Integration guide with code examples\n- `.env.example` - Environment variables template\n\n## üêõ Troubleshooting\n\n### Bot not responding?\n- Check \"Telegram Bot\" workflow is running\n- Verify TELEGRAM_BOT_TOKEN is correct in Secrets\n- Check bot logs in the workflow console\n\n### Can't see admin features?\n- Make sure you granted yourself admin role (see setup above)\n- Sign out and sign back in to refresh permissions\n\n### Orders not appearing?\n- Verify Supabase credentials are correct\n- Check database connection in bot logs\n- Ensure RLS policies are properly set up\n\n## üéØ Order Flow\n\nHere's how the complete flow works:\n\n1. **Customer** opens bot ‚Üí browses products ‚Üí places order\n2. **Customer** fills in delivery details ‚Üí uploads payment screenshot\n3. **Order** is created with \"pending\" status in database\n4. **You** (admin) review order and payment in admin panel\n5. **You** approve or reject the order\n6. **Customer** receives notification via bot\n7. **Order** status updates to \"approved\" or \"rejected\"\n8. For approved orders, proceed with delivery\n\n## üåü Features You Can Build Next\n\n- Order tracking with delivery status updates\n- Multiple payment methods\n- Product categories and search\n- Customer reviews and ratings\n- Discount codes and promotions\n- Sales reports and analytics\n- Email notifications\n- Inventory alerts when stock is low\n\n## üí° Tips\n\n- Test the entire flow yourself before sharing the bot\n- Start with a few products to get familiar with the system\n- Use the broadcast feature to announce new products\n- Monitor the orders tab regularly for new orders\n- Keep your Supabase database backed up\n\n---\n\n**Everything is ready to go! Start adding products and sharing your bot with customers! üöÄ**\n","size_bytes":5804},"link_admin_telegram.py":{"content":"#!/usr/bin/env python3\n\"\"\"\nLink admin Supabase account to Telegram ID\n\"\"\"\nimport os\nfrom supabase import create_client\nfrom dotenv import load_dotenv\n\nload_dotenv()\n\ndef link_telegram():\n    supabase_url = os.getenv(\"SUPABASE_URL\")\n    service_role_key = os.getenv(\"SUPABASE_SERVICE_ROLE_KEY\")\n    admin_email = os.getenv(\"ADMIN_EMAIL\")\n    \n    if not all([supabase_url, service_role_key, admin_email]):\n        print(\"‚ùå Error: Required environment variables not set\")\n        return False\n    \n    print(\"üîó Linking Telegram account to admin user\")\n    print(f\"üìß Admin email: {admin_email}\")\n    \n    # Ask for Telegram user ID\n    print(\"\\nüì± To find your Telegram user ID:\")\n    print(\"1. Open Telegram and search for @userinfobot\")\n    print(\"2. Send /start to the bot\")\n    print(\"3. It will reply with your user ID\")\n    print()\n    \n    telegram_id = input(\"Enter your Telegram user ID: \").strip()\n    \n    if not telegram_id.isdigit():\n        print(\"‚ùå Invalid Telegram ID. Must be a number.\")\n        return False\n    \n    telegram_id = int(telegram_id)\n    \n    try:\n        supabase = create_client(supabase_url, service_role_key)\n        \n        # Get admin user\n        print(\"\\n1Ô∏è‚É£ Finding admin user...\")\n        user_response = supabase.auth.admin.list_users()\n        \n        user_id = None\n        for user in user_response:\n            if user.email == admin_email:\n                user_id = user.id\n                print(f\"‚úÖ Found admin user! User ID: {user_id}\")\n                break\n        \n        if not user_id:\n            print(f\"‚ùå Admin user with email {admin_email} not found\")\n            return False\n        \n        # Check if profile already exists\n        print(\"\\n2Ô∏è‚É£ Checking existing profile...\")\n        existing_profile = supabase.table(\"profiles\").select(\"*\").eq(\"id\", user_id).maybe_single().execute()\n        \n        if existing_profile.data:\n            # Update existing profile\n            print(\"üìù Updating existing profile...\")\n            response = supabase.table(\"profiles\").update({\n                \"telegram_user_id\": telegram_id\n            }).eq(\"id\", user_id).execute()\n        else:\n            # Create new profile\n            print(\"üìù Creating new profile...\")\n            response = supabase.table(\"profiles\").insert({\n                \"id\": user_id,\n                \"telegram_user_id\": telegram_id,\n                \"is_banned\": False\n            }).execute()\n        \n        if response.data:\n            print(\"‚úÖ Telegram account linked successfully!\")\n            print(f\"\\nüéâ Your Telegram ID {telegram_id} is now linked to admin account\")\n            print(f\"You can now use /admin command in the Telegram bot!\")\n            return True\n        else:\n            print(f\"‚ùå Failed to link: {response}\")\n            return False\n            \n    except Exception as e:\n        print(f\"‚ùå Error: {str(e)}\")\n        return False\n\nif __name__ == \"__main__\":\n    print(\"=\"*60)\n    print(\"  Link Telegram to Admin Account\")\n    print(\"=\"*60)\n    success = link_telegram()\n    print(\"=\"*60)\n    if not success:\n        exit(1)\n","size_bytes":3126},"src/components/admin/BroadcastTab.tsx":{"content":"import { useState } from \"react\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { toast } from \"sonner\";\nimport { Send } from \"lucide-react\";\n\nconst BroadcastTab = () => {\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleBroadcast = async () => {\n    if (!message.trim()) {\n      toast.error(\"Please enter a message\");\n      return;\n    }\n\n    setLoading(true);\n    \n    const { data: { user } } = await supabase.auth.getUser();\n    if (!user) {\n      toast.error(\"Not authenticated\");\n      setLoading(false);\n      return;\n    }\n\n    // Get count of active users\n    const { data: profiles, error: profilesError } = await supabase\n      .from(\"profiles\")\n      .select(\"id\")\n      .eq(\"is_banned\", false);\n\n    if (profilesError) {\n      toast.error(\"Failed to get user count\");\n      setLoading(false);\n      return;\n    }\n\n    // Save broadcast message\n    const { error } = await supabase\n      .from(\"broadcast_messages\")\n      .insert({\n        message: message.trim(),\n        sent_by: user.id,\n        recipient_count: profiles?.length || 0\n      });\n\n    if (error) {\n      toast.error(\"Failed to save broadcast message\");\n    } else {\n      toast.success(`Broadcast message saved! Will be sent to ${profiles?.length || 0} users via Telegram bot.`);\n      setMessage(\"\");\n    }\n\n    setLoading(false);\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <h2 className=\"text-2xl font-bold text-foreground mb-6\">Broadcast Message</h2>\n\n      <Card className=\"border-border shadow-soft\">\n        <CardHeader>\n          <CardTitle>Send message to all users</CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <Textarea\n            placeholder=\"Type your broadcast message here...\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            rows={6}\n            className=\"resize-none\"\n          />\n          <Button\n            onClick={handleBroadcast}\n            disabled={loading || !message.trim()}\n            className=\"w-full bg-gradient-primary shadow-soft\"\n          >\n            <Send className=\"w-4 h-4 mr-2\" />\n            {loading ? \"Sending...\" : \"Send Broadcast\"}\n          </Button>\n          <p className=\"text-sm text-muted-foreground\">\n            This message will be saved to the database. Your Telegram bot should check for new broadcast messages and send them to all active users.\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default BroadcastTab;","size_bytes":2753},"src/components/admin/OrdersTab.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { toast } from \"sonner\";\nimport { CheckCircle, XCircle } from \"lucide-react\";\n\ntype OrderStatus = \"pending\" | \"approved\" | \"rejected\" | \"delivered\";\ntype DeliveryType = \"express_cars\" | \"delivery_company\";\n\ninterface OrderAddress {\n  house_no: string;\n  street: string;\n  ward: string;\n  township: string;\n  city: string;\n}\n\ninterface OrderItem {\n  product_id: string;\n  product_name: string;\n  quantity: number;\n  price: number;\n}\n\ninterface Order {\n  id: string;\n  order_string: string;\n  telegram_user_id: number;\n  user_name: string;\n  phone: string;\n  address: OrderAddress;\n  items: OrderItem[];\n  total_cost: number;\n  delivery_type: DeliveryType;\n  status: OrderStatus;\n  created_at: string;\n}\n\nconst OrdersTab = () => {\n  const [orders, setOrders] = useState<Order[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchOrders();\n  }, []);\n\n  const fetchOrders = async () => {\n    setLoading(true);\n    const { data, error } = await supabase\n      .from(\"orders\")\n      .select(\"*\")\n      .order(\"created_at\", { ascending: false });\n\n    if (error) {\n      toast.error(\"Failed to fetch orders\");\n    } else {\n      setOrders((data as any) || []);\n    }\n    setLoading(false);\n  };\n\n  const updateOrderStatus = async (orderId: string, status: OrderStatus) => {\n    const { data: { user } } = await supabase.auth.getUser();\n    \n    const { error } = await supabase\n      .from(\"orders\")\n      .update({ \n        status,\n        approved_by: status === \"approved\" ? user?.id : null,\n        approved_at: status === \"approved\" ? new Date().toISOString() : null\n      })\n      .eq(\"id\", orderId);\n\n    if (error) {\n      toast.error(\"Failed to update order status\");\n    } else {\n      toast.success(`Order ${status === \"approved\" ? \"approved\" : \"rejected\"}`);\n      fetchOrders();\n    }\n  };\n\n  const getStatusBadge = (status: OrderStatus) => {\n    const variants: Record<OrderStatus, { variant: \"default\" | \"secondary\" | \"destructive\" | \"outline\", label: string }> = {\n      pending: { variant: \"secondary\", label: \"Pending\" },\n      approved: { variant: \"default\", label: \"Approved\" },\n      rejected: { variant: \"destructive\", label: \"Rejected\" },\n      delivered: { variant: \"outline\", label: \"Delivered\" },\n    };\n    \n    const config = variants[status] || variants.pending;\n    return <Badge variant={config.variant}>{config.label}</Badge>;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"text-center py-12\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-2xl font-bold text-foreground\">Orders Management</h2>\n      </div>\n\n      {orders.length === 0 ? (\n        <Card className=\"border-border shadow-soft\">\n          <CardContent className=\"text-center py-12\">\n            <p className=\"text-muted-foreground\">No orders yet.</p>\n          </CardContent>\n        </Card>\n      ) : (\n        <div className=\"grid gap-4\">\n          {orders.map((order) => (\n            <Card key={order.id} className=\"border-border shadow-soft\">\n              <CardHeader>\n                <div className=\"flex items-start justify-between\">\n                  <div>\n                    <CardTitle className=\"text-lg\">Order {order.order_string}</CardTitle>\n                    <p className=\"text-sm text-muted-foreground mt-1\">\n                      {new Date(order.created_at).toLocaleString()}\n                    </p>\n                  </div>\n                  {getStatusBadge(order.status)}\n                </div>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"grid md:grid-cols-2 gap-4\">\n                  <div>\n                    <h4 className=\"font-semibold text-sm text-muted-foreground mb-2\">Customer Info</h4>\n                    <p className=\"text-foreground\">{order.user_name}</p>\n                    <p className=\"text-sm text-muted-foreground\">{order.phone}</p>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Telegram ID: {order.telegram_user_id}\n                    </p>\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold text-sm text-muted-foreground mb-2\">Delivery</h4>\n                    <p className=\"text-sm text-foreground capitalize\">\n                      {order.delivery_type.replace(\"_\", \" \")}\n                    </p>\n                    <p className=\"text-sm text-muted-foreground\">\n                      {order.address.house_no}, {order.address.street}\n                    </p>\n                    <p className=\"text-sm text-muted-foreground\">\n                      {order.address.ward}, {order.address.township}, {order.address.city}\n                    </p>\n                  </div>\n                </div>\n\n                  <div>\n                    <h4 className=\"font-semibold text-sm text-muted-foreground mb-2\">Items</h4>\n                    <div className=\"space-y-2\">\n                      {order.items.map((item, idx) => (\n                        <div key={idx} className=\"flex justify-between text-sm border-b border-border pb-2\">\n                          <span className=\"text-foreground\">\n                            {item.product_name} x{item.quantity}\n                          </span>\n                          <span className=\"font-semibold text-foreground\">\n                            ${(item.price * item.quantity).toFixed(2)}\n                          </span>\n                        </div>\n                      ))}\n                    <div className=\"flex justify-between text-base font-bold pt-2\">\n                      <span className=\"text-foreground\">Total</span>\n                      <span className=\"text-primary\">${order.total_cost.toFixed(2)}</span>\n                    </div>\n                  </div>\n                </div>\n\n                {order.status === \"pending\" && (\n                  <div className=\"flex gap-2 pt-2\">\n                    <Button\n                      onClick={() => updateOrderStatus(order.id, \"approved\")}\n                      className=\"flex-1 bg-success hover:bg-success/90\"\n                    >\n                      <CheckCircle className=\"w-4 h-4 mr-2\" />\n                      Approve\n                    </Button>\n                    <Button\n                      onClick={() => updateOrderStatus(order.id, \"rejected\")}\n                      variant=\"destructive\"\n                      className=\"flex-1\"\n                    >\n                      <XCircle className=\"w-4 h-4 mr-2\" />\n                      Reject\n                    </Button>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default OrdersTab;","size_bytes":7205},"src/components/ui/carousel.tsx":{"content":"import * as React from \"react\";\nimport useEmblaCarousel, { type UseEmblaCarouselType } from \"embla-carousel-react\";\nimport { ArrowLeft, ArrowRight } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\n\ntype CarouselApi = UseEmblaCarouselType[1];\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>;\ntype CarouselOptions = UseCarouselParameters[0];\ntype CarouselPlugin = UseCarouselParameters[1];\n\ntype CarouselProps = {\n  opts?: CarouselOptions;\n  plugins?: CarouselPlugin;\n  orientation?: \"horizontal\" | \"vertical\";\n  setApi?: (api: CarouselApi) => void;\n};\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0];\n  api: ReturnType<typeof useEmblaCarousel>[1];\n  scrollPrev: () => void;\n  scrollNext: () => void;\n  canScrollPrev: boolean;\n  canScrollNext: boolean;\n} & CarouselProps;\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null);\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext);\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\");\n  }\n\n  return context;\n}\n\nconst Carousel = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement> & CarouselProps>(\n  ({ orientation = \"horizontal\", opts, setApi, plugins, className, children, ...props }, ref) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins,\n    );\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false);\n    const [canScrollNext, setCanScrollNext] = React.useState(false);\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return;\n      }\n\n      setCanScrollPrev(api.canScrollPrev());\n      setCanScrollNext(api.canScrollNext());\n    }, []);\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev();\n    }, [api]);\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext();\n    }, [api]);\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault();\n          scrollPrev();\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault();\n          scrollNext();\n        }\n      },\n      [scrollPrev, scrollNext],\n    );\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return;\n      }\n\n      setApi(api);\n    }, [api, setApi]);\n\n    React.useEffect(() => {\n      if (!api) {\n        return;\n      }\n\n      onSelect(api);\n      api.on(\"reInit\", onSelect);\n      api.on(\"select\", onSelect);\n\n      return () => {\n        api?.off(\"select\", onSelect);\n      };\n    }, [api, onSelect]);\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation: orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    );\n  },\n);\nCarousel.displayName = \"Carousel\";\n\nconst CarouselContent = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => {\n    const { carouselRef, orientation } = useCarousel();\n\n    return (\n      <div ref={carouselRef} className=\"overflow-hidden\">\n        <div\n          ref={ref}\n          className={cn(\"flex\", orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\", className)}\n          {...props}\n        />\n      </div>\n    );\n  },\n);\nCarouselContent.displayName = \"CarouselContent\";\n\nconst CarouselItem = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => {\n    const { orientation } = useCarousel();\n\n    return (\n      <div\n        ref={ref}\n        role=\"group\"\n        aria-roledescription=\"slide\"\n        className={cn(\"min-w-0 shrink-0 grow-0 basis-full\", orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\", className)}\n        {...props}\n      />\n    );\n  },\n);\nCarouselItem.displayName = \"CarouselItem\";\n\nconst CarouselPrevious = React.forwardRef<HTMLButtonElement, React.ComponentProps<typeof Button>>(\n  ({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n    const { orientation, scrollPrev, canScrollPrev } = useCarousel();\n\n    return (\n      <Button\n        ref={ref}\n        variant={variant}\n        size={size}\n        className={cn(\n          \"absolute h-8 w-8 rounded-full\",\n          orientation === \"horizontal\"\n            ? \"-left-12 top-1/2 -translate-y-1/2\"\n            : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n          className,\n        )}\n        disabled={!canScrollPrev}\n        onClick={scrollPrev}\n        {...props}\n      >\n        <ArrowLeft className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Previous slide</span>\n      </Button>\n    );\n  },\n);\nCarouselPrevious.displayName = \"CarouselPrevious\";\n\nconst CarouselNext = React.forwardRef<HTMLButtonElement, React.ComponentProps<typeof Button>>(\n  ({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n    const { orientation, scrollNext, canScrollNext } = useCarousel();\n\n    return (\n      <Button\n        ref={ref}\n        variant={variant}\n        size={size}\n        className={cn(\n          \"absolute h-8 w-8 rounded-full\",\n          orientation === \"horizontal\"\n            ? \"-right-12 top-1/2 -translate-y-1/2\"\n            : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n          className,\n        )}\n        disabled={!canScrollNext}\n        onClick={scrollNext}\n        {...props}\n      >\n        <ArrowRight className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Next slide</span>\n      </Button>\n    );\n  },\n);\nCarouselNext.displayName = \"CarouselNext\";\n\nexport { type CarouselApi, Carousel, CarouselContent, CarouselItem, CarouselPrevious, CarouselNext };\n","size_bytes":6249},"src/components/ui/separator.tsx":{"content":"import * as React from \"react\";\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(({ className, orientation = \"horizontal\", decorative = true, ...props }, ref) => (\n  <SeparatorPrimitive.Root\n    ref={ref}\n    decorative={decorative}\n    orientation={orientation}\n    className={cn(\"shrink-0 bg-border\", orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\", className)}\n    {...props}\n  />\n));\nSeparator.displayName = SeparatorPrimitive.Root.displayName;\n\nexport { Separator };\n","size_bytes":698},"src/components/ui/slider.tsx":{"content":"import * as React from \"react\";\nimport * as SliderPrimitive from \"@radix-ui/react-slider\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\"relative flex w-full touch-none select-none items-center\", className)}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n));\nSlider.displayName = SliderPrimitive.Root.displayName;\n\nexport { Slider };\n","size_bytes":1065},"src/vite-env.d.ts":{"content":"/// <reference types=\"vite/client\" />\n","size_bytes":38},"src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\";\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\";\nimport { Circle } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return <RadioGroupPrimitive.Root className={cn(\"grid gap-2\", className)} {...props} ref={ref} />;\n});\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName;\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className,\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  );\n});\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName;\n\nexport { RadioGroup, RadioGroupItem };\n","size_bytes":1447},"src/components/admin/UsersTab.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { toast } from \"sonner\";\nimport { Ban, ShieldCheck } from \"lucide-react\";\n\ninterface Profile {\n  id: string;\n  telegram_user_id: number | null;\n  username: string | null;\n  phone: string | null;\n  is_banned: boolean;\n  created_at: string;\n}\n\nconst UsersTab = () => {\n  const [users, setUsers] = useState<Profile[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const fetchUsers = async () => {\n    setLoading(true);\n    const { data, error } = await supabase\n      .from(\"profiles\")\n      .select(\"*\")\n      .order(\"created_at\", { ascending: false });\n\n    if (error) {\n      toast.error(\"Failed to fetch users\");\n    } else {\n      setUsers(data || []);\n    }\n    setLoading(false);\n  };\n\n  const toggleBan = async (userId: string, currentBanStatus: boolean) => {\n    const { error } = await supabase\n      .from(\"profiles\")\n      .update({ is_banned: !currentBanStatus })\n      .eq(\"id\", userId);\n\n    if (error) {\n      toast.error(\"Failed to update user status\");\n    } else {\n      toast.success(currentBanStatus ? \"User unbanned\" : \"User banned\");\n      fetchUsers();\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"text-center py-12\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-2xl font-bold text-foreground\">User Management</h2>\n      </div>\n\n      {users.length === 0 ? (\n        <Card className=\"border-border shadow-soft\">\n          <CardContent className=\"text-center py-12\">\n            <p className=\"text-muted-foreground\">No users yet.</p>\n          </CardContent>\n        </Card>\n      ) : (\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n          {users.map((user) => (\n            <Card key={user.id} className=\"border-border shadow-soft\">\n              <CardContent className=\"p-6 space-y-4\">\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-semibold text-foreground\">\n                      {user.username || \"Unknown User\"}\n                    </h3>\n                    {user.telegram_user_id && (\n                      <p className=\"text-sm text-muted-foreground\">\n                        Telegram ID: {user.telegram_user_id}\n                      </p>\n                    )}\n                    {user.phone && (\n                      <p className=\"text-sm text-muted-foreground\">{user.phone}</p>\n                    )}\n                  </div>\n                  {user.is_banned ? (\n                    <Badge variant=\"destructive\">Banned</Badge>\n                  ) : (\n                    <Badge variant=\"outline\">Active</Badge>\n                  )}\n                </div>\n\n                <p className=\"text-xs text-muted-foreground\">\n                  Joined: {new Date(user.created_at).toLocaleDateString()}\n                </p>\n\n                <Button\n                  onClick={() => toggleBan(user.id, user.is_banned)}\n                  variant={user.is_banned ? \"outline\" : \"destructive\"}\n                  size=\"sm\"\n                  className=\"w-full\"\n                >\n                  {user.is_banned ? (\n                    <>\n                      <ShieldCheck className=\"w-4 h-4 mr-2\" />\n                      Unban User\n                    </>\n                  ) : (\n                    <>\n                      <Ban className=\"w-4 h-4 mr-2\" />\n                      Ban User\n                    </>\n                  )}\n                </Button>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default UsersTab;","size_bytes":4099},"src/components/ui/resizable.tsx":{"content":"import { GripVertical } from \"lucide-react\";\nimport * as ResizablePrimitive from \"react-resizable-panels\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst ResizablePanelGroup = ({ className, ...props }: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\", className)}\n    {...props}\n  />\n);\n\nconst ResizablePanel = ResizablePrimitive.Panel;\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean;\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className,\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n);\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle };\n","size_bytes":1696},"src/components/ui/drawer.tsx":{"content":"import * as React from \"react\";\nimport { Drawer as DrawerPrimitive } from \"vaul\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Drawer = ({ shouldScaleBackground = true, ...props }: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root shouldScaleBackground={shouldScaleBackground} {...props} />\n);\nDrawer.displayName = \"Drawer\";\n\nconst DrawerTrigger = DrawerPrimitive.Trigger;\n\nconst DrawerPortal = DrawerPrimitive.Portal;\n\nconst DrawerClose = DrawerPrimitive.Close;\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay ref={ref} className={cn(\"fixed inset-0 z-50 bg-black/80\", className)} {...props} />\n));\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName;\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className,\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n));\nDrawerContent.displayName = \"DrawerContent\";\n\nconst DrawerHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)} {...props} />\n);\nDrawerHeader.displayName = \"DrawerHeader\";\n\nconst DrawerFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)} {...props} />\n);\nDrawerFooter.displayName = \"DrawerFooter\";\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName;\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n));\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName;\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n};\n","size_bytes":2941},"src/components/ui/input.tsx":{"content":"import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className,\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nInput.displayName = \"Input\";\n\nexport { Input };\n","size_bytes":799},"src/components/ui/button.tsx":{"content":"import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />;\n  },\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n","size_bytes":1840},"src/components/ui/use-toast.ts":{"content":"import { useToast, toast } from \"@/hooks/use-toast\";\n\nexport { useToast, toast };\n","size_bytes":82},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react-swc\";\nimport path from \"path\";\nimport { componentTagger } from \"lovable-tagger\";\n\n// https://vitejs.dev/config/\nexport default defineConfig(({ mode }) => ({\n  server: {\n    host: \"0.0.0.0\",\n    port: 5000,\n    allowedHosts: true,\n  },\n  plugins: [react(), mode === \"development\" && componentTagger()].filter(Boolean),\n  resolve: {\n    alias: {\n      \"@\": path.resolve(__dirname, \"./src\"),\n    },\n  },\n}));\n","size_bytes":483},"src/components/ui/command.tsx":{"content":"import * as React from \"react\";\nimport { type DialogProps } from \"@radix-ui/react-dialog\";\nimport { Command as CommandPrimitive } from \"cmdk\";\nimport { Search } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\";\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className,\n    )}\n    {...props}\n  />\n));\nCommand.displayName = CommandPrimitive.displayName;\n\ninterface CommandDialogProps extends DialogProps {}\n\nconst CommandDialog = ({ children, ...props }: CommandDialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className,\n      )}\n      {...props}\n    />\n  </div>\n));\n\nCommandInput.displayName = CommandPrimitive.Input.displayName;\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n));\n\nCommandList.displayName = CommandPrimitive.List.displayName;\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => <CommandPrimitive.Empty ref={ref} className=\"py-6 text-center text-sm\" {...props} />);\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName;\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className,\n    )}\n    {...props}\n  />\n));\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName;\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator ref={ref} className={cn(\"-mx-1 h-px bg-border\", className)} {...props} />\n));\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName;\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50\",\n      className,\n    )}\n    {...props}\n  />\n));\n\nCommandItem.displayName = CommandPrimitive.Item.displayName;\n\nconst CommandShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {\n  return <span className={cn(\"ml-auto text-xs tracking-widest text-muted-foreground\", className)} {...props} />;\n};\nCommandShortcut.displayName = \"CommandShortcut\";\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n};\n","size_bytes":4821},"src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\";\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\";\nimport { Check } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n      className,\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator className={cn(\"flex items-center justify-center text-current\")}>\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n));\nCheckbox.displayName = CheckboxPrimitive.Root.displayName;\n\nexport { Checkbox };\n","size_bytes":1053},"src/components/ui/popover.tsx":{"content":"import * as React from \"react\";\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Popover = PopoverPrimitive.Root;\n\nconst PopoverTrigger = PopoverPrimitive.Trigger;\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className,\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n));\nPopoverContent.displayName = PopoverPrimitive.Content.displayName;\n\nexport { Popover, PopoverTrigger, PopoverContent };\n","size_bytes":1239},"grant_admin_role.py":{"content":"#!/usr/bin/env python3\n\"\"\"\nGrant admin role to existing user\n\"\"\"\nimport os\nfrom supabase import create_client\nfrom dotenv import load_dotenv\n\nload_dotenv()\n\ndef grant_admin_role():\n    supabase_url = os.getenv(\"SUPABASE_URL\")\n    service_role_key = os.getenv(\"SUPABASE_SERVICE_ROLE_KEY\")\n    admin_email = os.getenv(\"ADMIN_EMAIL\")\n    \n    if not all([supabase_url, service_role_key, admin_email]):\n        print(\"‚ùå Error: Required environment variables not set\")\n        return False\n    \n    print(f\"üîß Granting admin role to: {admin_email}\")\n    \n    try:\n        supabase = create_client(supabase_url, service_role_key)\n        \n        # Get user by email\n        print(\"\\n1Ô∏è‚É£ Finding user...\")\n        user_response = supabase.auth.admin.list_users()\n        \n        user_id = None\n        for user in user_response:\n            if user.email == admin_email:\n                user_id = user.id\n                print(f\"‚úÖ Found user! User ID: {user_id}\")\n                break\n        \n        if not user_id:\n            print(f\"‚ùå User with email {admin_email} not found\")\n            print(\"Please sign up first at /auth page\")\n            return False\n        \n        # Check if already has admin role\n        print(\"\\n2Ô∏è‚É£ Checking current role...\")\n        existing_role = supabase.table(\"user_roles\").select(\"*\").eq(\"user_id\", user_id).eq(\"role\", \"admin\").execute()\n        \n        if existing_role.data:\n            print(\"‚úÖ User already has admin role!\")\n            print(f\"\\nüéâ You can login at /auth with:\")\n            print(f\"   Email: {admin_email}\")\n            return True\n        \n        # Add admin role\n        print(\"\\n3Ô∏è‚É£ Granting admin role...\")\n        role_response = supabase.table(\"user_roles\").insert({\n            \"user_id\": user_id,\n            \"role\": \"admin\"\n        }).execute()\n        \n        if role_response.data:\n            print(\"‚úÖ Admin role granted successfully!\")\n            print(f\"\\nüéâ You can now login at /auth with:\")\n            print(f\"   Email: {admin_email}\")\n            return True\n        else:\n            print(f\"‚ùå Failed to grant role: {role_response}\")\n            return False\n            \n    except Exception as e:\n        print(f\"‚ùå Error: {str(e)}\")\n        return False\n\nif __name__ == \"__main__\":\n    print(\"=\"*60)\n    print(\"  Grant Admin Role\")\n    print(\"=\"*60)\n    success = grant_admin_role()\n    print(\"=\"*60)\n    if not success:\n        exit(1)\n","size_bytes":2456},"bot/telegram_bot.py":{"content":"import os\nimport logging\nfrom telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup\nfrom telegram.ext import Application, CommandHandler, MessageHandler, CallbackQueryHandler, ConversationHandler, filters, ContextTypes\nfrom supabase import create_client, Client\nfrom dotenv import load_dotenv\nimport json\nfrom datetime import datetime\nfrom reportlab.lib.pagesizes import letter\nfrom reportlab.pdfgen import canvas\nfrom reportlab.lib.units import inch\nimport io\n\nload_dotenv()\n\nlogging.basicConfig(\n    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',\n    level=logging.INFO\n)\nlogger = logging.getLogger(__name__)\n\n# Environment variables\nSUPABASE_URL = os.getenv(\"SUPABASE_URL\") or \"https://dwaxejcqvtkeavngwrzk.supabase.co\"\nSUPABASE_KEY = os.getenv(\"SUPABASE_ANON_KEY\") or \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR3YXhlamNxdnRrZWF2bmd3cnprIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM0NDY2NTIsImV4cCI6MjA3OTAyMjY1Mn0.o5kO7P4lpnQU8brNliTORSYBZPOwdt8anp9RvuCM6Uo\"\nBOT_TOKEN = os.getenv(\"TELEGRAM_BOT_TOKEN\")\nADMIN_CHANNEL_ID = os.getenv(\"ADMIN_CHANNEL_ID\", \"\")  # Set this to your admin channel ID\n\nsupabase: Client = create_client(SUPABASE_URL, SUPABASE_KEY)\n\n# Payment details\nPAYMENT_DETAILS = \"\"\"\nüí≥ **Payment Details**\n\n**Kpay:** 09883249943\n**Wave Pay:** 09883249943\n\nPlease send payment and upload the screenshot after payment.\n\"\"\"\n\n# Conversation states\n(QUANTITY, ADD_MORE, NAME_CONFIRM, NAME_EDIT, PHONE_CONFIRM, PHONE_EDIT,  \n HOUSE_NO, STREET, WARD, TOWNSHIP, CITY, ADDRESS_CONFIRM,\n DELIVERY_TYPE, FINAL_CONFIRM, PAYMENT_PHOTO) = range(15)\n\n# Pagination settings\nPRODUCTS_PER_PAGE = 5\n\n# Helper function to check if user is banned\nasync def is_user_banned(telegram_user_id: int) -> bool:\n    try:\n        response = supabase.table(\"profiles\").select(\"is_banned\").eq(\"telegram_user_id\", telegram_user_id).execute()\n        if response.data and len(response.data) > 0 and response.data[0].get(\"is_banned\"):\n            return True\n        return False\n    except Exception as e:\n        logger.error(f\"Error checking ban status: {e}\")\n        return False\n\n# Generate PDF receipt\ndef generate_pdf_receipt(order_data: dict) -> bytes:\n    buffer = io.BytesIO()\n    c = canvas.Canvas(buffer, pagesize=letter)\n    width, height = letter\n    \n    # Title\n    c.setFont(\"Helvetica-Bold\", 20)\n    c.drawString(1*inch, height - 1*inch, \"ORDER RECEIPT\")\n    \n    # Order details\n    c.setFont(\"Helvetica\", 12)\n    y = height - 1.5*inch\n    \n    c.drawString(1*inch, y, f\"Order ID: {order_data.get('order_string', 'N/A')}\")\n    y -= 0.3*inch\n    c.drawString(1*inch, y, f\"Date: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}\")\n    y -= 0.5*inch\n    \n    # Customer info\n    c.setFont(\"Helvetica-Bold\", 14)\n    c.drawString(1*inch, y, \"Customer Information\")\n    y -= 0.3*inch\n    c.setFont(\"Helvetica\", 12)\n    c.drawString(1*inch, y, f\"Name: {order_data.get('user_name', 'N/A')}\")\n    y -= 0.25*inch\n    c.drawString(1*inch, y, f\"Phone: {order_data.get('phone', 'N/A')}\")\n    y -= 0.25*inch\n    \n    address = order_data.get('address', {})\n    if isinstance(address, str):\n        address = json.loads(address)\n    addr_str = f\"{address.get('house_no', '')}, {address.get('street', '')}, {address.get('ward', '')}, {address.get('township', '')}, {address.get('city', '')}\"\n    c.drawString(1*inch, y, f\"Address: {addr_str}\")\n    y -= 0.5*inch\n    \n    # Items\n    c.setFont(\"Helvetica-Bold\", 14)\n    c.drawString(1*inch, y, \"Order Items\")\n    y -= 0.3*inch\n    c.setFont(\"Helvetica\", 12)\n    \n    items = order_data.get('items', [])\n    if isinstance(items, str):\n        items = json.loads(items)\n    \n    for item in items:\n        c.drawString(1*inch, y, f\"‚Ä¢ {item['product_name']} x {item['quantity']} - {float(item['price']) * item['quantity']:.2f}\")\n        y -= 0.25*inch\n    \n    y -= 0.3*inch\n    c.setFont(\"Helvetica-Bold\", 12)\n    c.drawString(1*inch, y, f\"Delivery Type: {order_data.get('delivery_type', 'N/A').replace('_', ' ').title()}\")\n    y -= 0.3*inch\n    c.setFont(\"Helvetica-Bold\", 14)\n    c.drawString(1*inch, y, f\"TOTAL: {order_data.get('total_cost', 0):.2f}\")\n    \n    c.save()\n    buffer.seek(0)\n    return buffer.getvalue()\n\n# Start command\nasync def start(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    user = update.effective_user\n    telegram_user_id = user.id\n    \n    if await is_user_banned(telegram_user_id):\n        await update.message.reply_text(\"‚ùå You have been banned from using this bot. Please contact support.\")\n        return\n    \n    # Check for deep link with product ID\n    args = context.args\n    if args and len(args) > 0:\n        product_id = args[0]\n        try:\n            response = supabase.table(\"products\").select(\"*\").eq(\"product_id\", product_id).eq(\"is_active\", True).single().execute()\n            product = response.data\n            \n            keyboard = [\n                [InlineKeyboardButton(\"üõí Order This Product\", callback_data=f\"order_{product_id}\")],\n                [InlineKeyboardButton(\"üì¶ Browse All Products\", callback_data=\"browse_products_0\")]\n            ]\n            reply_markup = InlineKeyboardMarkup(keyboard)\n            \n            message = f\"\"\"\nüì¶ *{product['name']}*\nüÜî Product ID: {product['product_id']}\n\n{product['description'] or 'No description available'}\n\nüí∞ Price: {product['price']}\nüìä Stock: {product['stock']} units\n\nClick below to order this product!\n\"\"\"\n            await update.message.reply_text(message, parse_mode='Markdown', reply_markup=reply_markup)\n            return\n        except Exception as e:\n            logger.error(f\"Error fetching product: {e}\")\n    \n    # Main menu\n    keyboard = [\n        [InlineKeyboardButton(\"üì¶ Check Products\", callback_data=\"browse_products_0\")],\n        [InlineKeyboardButton(\"üõçÔ∏è My Orders\", callback_data=\"my_orders\")],\n        [InlineKeyboardButton(\"‚ÑπÔ∏è Help\", callback_data=\"help\")]\n    ]\n    reply_markup = InlineKeyboardMarkup(keyboard)\n    \n    welcome_message = f\"\"\"\nüëã Welcome {user.first_name}!\n\nüéÅ *Telegram Order Bot*\n\nI can help you browse products and place orders easily.\n\nChoose an option below to get started:\n\"\"\"\n    \n    await update.message.reply_text(welcome_message, parse_mode='Markdown', reply_markup=reply_markup)\n\n# Browse products with pagination\nasync def browse_products(update: Update, context: ContextTypes.DEFAULT_TYPE, page: int = 0):\n    try:\n        response = supabase.table(\"products\").select(\"*\").eq(\"is_active\", True).execute()\n        products = response.data\n        \n        if not products:\n            message = \"No products available at the moment.\"\n            if update.callback_query:\n                await update.callback_query.edit_message_text(message)\n            else:\n                await update.message.reply_text(message)\n            return\n        \n        # Pagination\n        total_products = len(products)\n        total_pages = (total_products + PRODUCTS_PER_PAGE - 1) // PRODUCTS_PER_PAGE\n        start_idx = page * PRODUCTS_PER_PAGE\n        end_idx = min(start_idx + PRODUCTS_PER_PAGE, total_products)\n        page_products = products[start_idx:end_idx]\n        \n        keyboard = []\n        for product in page_products:\n            keyboard.append([InlineKeyboardButton(\n                f\"{product['name']} - {product['price']}\",\n                callback_data=f\"product_{product['product_id']}\"\n            )])\n        \n        # Pagination buttons\n        nav_buttons = []\n        if page > 0:\n            nav_buttons.append(InlineKeyboardButton(\"‚¨ÖÔ∏è Previous\", callback_data=f\"browse_products_{page-1}\"))\n        if page < total_pages - 1:\n            nav_buttons.append(InlineKeyboardButton(\"Next ‚û°Ô∏è\", callback_data=f\"browse_products_{page+1}\"))\n        \n        if nav_buttons:\n            keyboard.append(nav_buttons)\n        \n        keyboard.append([InlineKeyboardButton(\"¬´ Back to Menu\", callback_data=\"back_to_menu\")])\n        \n        reply_markup = InlineKeyboardMarkup(keyboard)\n        message = f\"üì¶ *Available Products* (Page {page+1}/{total_pages})\\n\\nSelect a product to view details:\"\n        \n        if update.callback_query:\n            await update.callback_query.edit_message_text(message, parse_mode='Markdown', reply_markup=reply_markup)\n        else:\n            await update.message.reply_text(message, parse_mode='Markdown', reply_markup=reply_markup)\n    except Exception as e:\n        logger.error(f\"Error fetching products: {e}\")\n        message = \"Error fetching products. Please try again later.\"\n        if update.callback_query:\n            await update.callback_query.edit_message_text(message)\n        else:\n            await update.message.reply_text(message)\n\n# Show product details\nasync def show_product_detail(update: Update, context: ContextTypes.DEFAULT_TYPE, product_id: str):\n    try:\n        response = supabase.table(\"products\").select(\"*\").eq(\"product_id\", product_id).single().execute()\n        product = response.data\n        \n        keyboard = [\n            [InlineKeyboardButton(\"üõí Order Now\", callback_data=f\"order_{product_id}\")],\n            [InlineKeyboardButton(\"¬´ Back to Products\", callback_data=\"browse_products_0\")]\n        ]\n        reply_markup = InlineKeyboardMarkup(keyboard)\n        \n        message = f\"\"\"\nüì¶ *{product['name']}*\nüÜî Product ID: {product['product_id']}\n\n{product['description'] or 'No description available'}\n\nüí∞ Price: {product['price']}\nüìä Stock: {product['stock']} units\n\"\"\"\n        \n        await update.callback_query.edit_message_text(message, parse_mode='Markdown', reply_markup=reply_markup)\n    except Exception as e:\n        logger.error(f\"Error fetching product detail: {e}\")\n        await update.callback_query.edit_message_text(\"Error fetching product details.\")\n\n# Handle quantity input\nasync def get_quantity(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    try:\n        quantity = int(update.message.text)\n        product = context.user_data.get('current_product')\n        \n        if quantity <= 0 or quantity > product['stock']:\n            await update.message.reply_text(f\"Invalid quantity. Please enter a number between 1 and {product['stock']}.\")\n            return QUANTITY\n        \n        # Add to cart\n        cart_item = {\n            'product_id': product['product_id'],\n            'product_name': product['name'],\n            'quantity': quantity,\n            'price': float(product['price'])\n        }\n        context.user_data['cart'].append(cart_item)\n        \n        # Ask if user wants to add more products\n        keyboard = [\n            [InlineKeyboardButton(\"‚úÖ Yes, Add More\", callback_data=\"add_more_yes\")],\n            [InlineKeyboardButton(\"‚ùå No, Continue to Checkout\", callback_data=\"add_more_no\")]\n        ]\n        reply_markup = InlineKeyboardMarkup(keyboard)\n        \n        total = sum(item['quantity'] * item['price'] for item in context.user_data['cart'])\n        \n        await update.message.reply_text(\n            f\"‚úÖ Added {quantity} x {product['name']} to cart\\n\"\n            f\"üí∞ Subtotal: {total:.2f}\\n\\n\"\n            \"Do you want to add more products?\",\n            reply_markup=reply_markup\n        )\n        return ADD_MORE\n    except ValueError:\n        await update.message.reply_text(\"Please enter a valid number.\")\n        return QUANTITY\n\n# Handle add more products\nasync def handle_add_more(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    query = update.callback_query\n    await query.answer()\n    \n    if query.data == \"add_more_yes\":\n        await browse_products(update, context, 0)\n        return ConversationHandler.END\n    else:\n        # Continue to name input\n        await query.edit_message_text(\"Please enter your full name:\")\n        return NAME_CONFIRM\n\n# Get name\nasync def get_name(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    context.user_data['user_name'] = update.message.text\n    \n    keyboard = [\n        [InlineKeyboardButton(\"‚úÖ Correct\", callback_data=\"name_correct\")],\n        [InlineKeyboardButton(\"‚úèÔ∏è Wrong (Edit)\", callback_data=\"name_wrong\")]\n    ]\n    reply_markup = InlineKeyboardMarkup(keyboard)\n    \n    await update.message.reply_text(\n        f\"Your name: *{update.message.text}*\\n\\nIs this correct?\",\n        parse_mode='Markdown',\n        reply_markup=reply_markup\n    )\n    return NAME_CONFIRM\n\n# Confirm name\nasync def confirm_name(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    query = update.callback_query\n    await query.answer()\n    \n    if query.data == \"name_correct\":\n        await query.edit_message_text(\"Please enter your phone number:\")\n        return PHONE_CONFIRM\n    else:\n        await query.edit_message_text(\"Please enter your correct name:\")\n        return NAME_EDIT\n\n# Edit name\nasync def edit_name(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    context.user_data['user_name'] = update.message.text\n    \n    keyboard = [\n        [InlineKeyboardButton(\"‚úÖ Correct\", callback_data=\"name_correct\")],\n        [InlineKeyboardButton(\"‚úèÔ∏è Wrong (Edit)\", callback_data=\"name_wrong\")]\n    ]\n    reply_markup = InlineKeyboardMarkup(keyboard)\n    \n    await update.message.reply_text(\n        f\"Your name: *{update.message.text}*\\n\\nIs this correct?\",\n        parse_mode='Markdown',\n        reply_markup=reply_markup\n    )\n    return NAME_CONFIRM\n\n# Get phone\nasync def get_phone(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    context.user_data['phone'] = update.message.text\n    \n    keyboard = [\n        [InlineKeyboardButton(\"‚úÖ Correct\", callback_data=\"phone_correct\")],\n        [InlineKeyboardButton(\"‚úèÔ∏è Wrong (Edit)\", callback_data=\"phone_wrong\")]\n    ]\n    reply_markup = InlineKeyboardMarkup(keyboard)\n    \n    await update.message.reply_text(\n        f\"Your phone: *{update.message.text}*\\n\\nIs this correct?\",\n        parse_mode='Markdown',\n        reply_markup=reply_markup\n    )\n    return PHONE_CONFIRM\n\n# Confirm phone\nasync def confirm_phone(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    query = update.callback_query\n    await query.answer()\n    \n    if query.data == \"phone_correct\":\n        await query.edit_message_text(\"Please enter your house/building number:\")\n        return HOUSE_NO\n    else:\n        await query.edit_message_text(\"Please enter your correct phone number:\")\n        return PHONE_EDIT\n\n# Edit phone\nasync def edit_phone(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    context.user_data['phone'] = update.message.text\n    \n    keyboard = [\n        [InlineKeyboardButton(\"‚úÖ Correct\", callback_data=\"phone_correct\")],\n        [InlineKeyboardButton(\"‚úèÔ∏è Wrong (Edit)\", callback_data=\"phone_wrong\")]\n    ]\n    reply_markup = InlineKeyboardMarkup(keyboard)\n    \n    await update.message.reply_text(\n        f\"Your phone: *{update.message.text}*\\n\\nIs this correct?\",\n        parse_mode='Markdown',\n        reply_markup=reply_markup\n    )\n    return PHONE_CONFIRM\n\n# Get house number\nasync def get_house_no(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    context.user_data['house_no'] = update.message.text\n    await update.message.reply_text(\"Please enter your street name:\")\n    return STREET\n\n# Get street\nasync def get_street(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    context.user_data['street'] = update.message.text\n    await update.message.reply_text(\"Please enter your ward (quarter):\")\n    return WARD\n\n# Get ward\nasync def get_ward(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    context.user_data['ward'] = update.message.text\n    await update.message.reply_text(\"Please enter your township:\")\n    return TOWNSHIP\n\n# Get township\nasync def get_township(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    context.user_data['township'] = update.message.text\n    await update.message.reply_text(\"Please enter your city:\")\n    return CITY\n\n# Get city and confirm address\nasync def get_city(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    context.user_data['city'] = update.message.text\n    \n    address_str = f\"{context.user_data['house_no']}, {context.user_data['street']}, {context.user_data['ward']}, {context.user_data['township']}, {context.user_data['city']}\"\n    \n    keyboard = [\n        [InlineKeyboardButton(\"‚úÖ Correct\", callback_data=\"address_correct\")],\n        [InlineKeyboardButton(\"‚úèÔ∏è Wrong (Re-enter)\", callback_data=\"address_wrong\")]\n    ]\n    reply_markup = InlineKeyboardMarkup(keyboard)\n    \n    await update.message.reply_text(\n        f\"Your address:\\n*{address_str}*\\n\\nIs this correct?\",\n        parse_mode='Markdown',\n        reply_markup=reply_markup\n    )\n    return ADDRESS_CONFIRM\n\n# Confirm address\nasync def confirm_address(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    query = update.callback_query\n    await query.answer()\n    \n    if query.data == \"address_correct\":\n        keyboard = [\n            [InlineKeyboardButton(\"üöó Express Cars\", callback_data=\"delivery_express_cars\")],\n            [InlineKeyboardButton(\"üöö Delivery Company\", callback_data=\"delivery_delivery_company\")]\n        ]\n        reply_markup = InlineKeyboardMarkup(keyboard)\n        \n        await query.edit_message_text(\n            \"Please select your delivery type:\",\n            reply_markup=reply_markup\n        )\n        return DELIVERY_TYPE\n    else:\n        await query.edit_message_text(\"Please enter your house/building number again:\")\n        return HOUSE_NO\n\n# Handle delivery type and show final confirmation\nasync def handle_delivery_type(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    query = update.callback_query\n    await query.answer()\n    \n    delivery_type = query.data.removeprefix(\"delivery_\")\n    context.user_data['delivery_type'] = delivery_type\n    \n    # Show final confirmation\n    cart = context.user_data.get('cart', [])\n    total_cost = sum(item['quantity'] * item['price'] for item in cart)\n    \n    items_str = \"\\n\".join([f\"‚Ä¢ {item['product_name']} x {item['quantity']} - {item['price'] * item['quantity']:.2f}\" for item in cart])\n    address_str = f\"{context.user_data['house_no']}, {context.user_data['street']}, {context.user_data['ward']}, {context.user_data['township']}, {context.user_data['city']}\"\n    \n    confirmation_message = f\"\"\"\nüìã *ORDER SUMMARY*\n\n*Items:*\n{items_str}\n\n*Total Cost:* {total_cost:.2f}\n\n*Customer Info:*\nName: {context.user_data['user_name']}\nPhone: {context.user_data['phone']}\nAddress: {address_str}\n\n*Delivery Type:* {delivery_type.replace('_', ' ').title()}\n\nConfirm all details are correct?\n\"\"\"\n    \n    keyboard = [\n        [InlineKeyboardButton(\"‚úÖ Yes, Confirm\", callback_data=\"final_confirm_yes\")],\n        [InlineKeyboardButton(\"‚úèÔ∏è No, Edit Details\", callback_data=\"final_confirm_no\")]\n    ]\n    reply_markup = InlineKeyboardMarkup(keyboard)\n    \n    await query.edit_message_text(confirmation_message, parse_mode='Markdown', reply_markup=reply_markup)\n    return FINAL_CONFIRM\n\n# Handle final confirmation\nasync def handle_final_confirm(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    query = update.callback_query\n    await query.answer()\n    \n    if query.data == \"final_confirm_yes\":\n        # Show payment details\n        cart = context.user_data.get('cart', [])\n        total_cost = sum(item['quantity'] * item['price'] for item in cart)\n        \n        await query.edit_message_text(\n            f\"{PAYMENT_DETAILS}\\n\\nüí∞ *Total Amount: {total_cost:.2f}*\\n\\n\"\n            \"Please upload your payment screenshot after making the payment.\",\n            parse_mode='Markdown'\n        )\n        return PAYMENT_PHOTO\n    else:\n        # Let user edit details\n        keyboard = [\n            [InlineKeyboardButton(\"üë§ Edit Name\", callback_data=\"edit_name\")],\n            [InlineKeyboardButton(\"üìû Edit Phone\", callback_data=\"edit_phone\")],\n            [InlineKeyboardButton(\"üìç Edit Address\", callback_data=\"edit_address\")],\n            [InlineKeyboardButton(\"üõí Edit Products\", callback_data=\"edit_products\")],\n            [InlineKeyboardButton(\"üöö Edit Delivery Type\", callback_data=\"edit_delivery\")],\n            [InlineKeyboardButton(\"¬´ Back to Confirmation\", callback_data=\"back_to_confirm\")]\n        ]\n        reply_markup = InlineKeyboardMarkup(keyboard)\n        \n        await query.edit_message_text(\"What would you like to edit?\", reply_markup=reply_markup)\n        return FINAL_CONFIRM\n\n# Handle payment photo\nasync def get_payment_photo(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    user = update.effective_user\n    \n    if not update.message.photo:\n        await update.message.reply_text(\"Please send a photo of your payment screenshot.\")\n        return PAYMENT_PHOTO\n    \n    try:\n        photo = update.message.photo[-1]\n        \n        # Generate order string\n        order_string_response = supabase.rpc(\"generate_order_string\").execute()\n        order_string = order_string_response.data\n        \n        # Create order\n        cart = context.user_data.get('cart', [])\n        total_cost = sum(item['quantity'] * item['price'] for item in cart)\n        \n        # Prepare address as dict (Supabase handles JSONB serialization)\n        address_json = {\n            \"house_no\": context.user_data['house_no'],\n            \"street\": context.user_data['street'],\n            \"ward\": context.user_data['ward'],\n            \"township\": context.user_data['township'],\n            \"city\": context.user_data['city']\n        }\n        \n        order_data = {\n            \"order_string\": order_string,\n            \"telegram_user_id\": user.id,\n            \"user_name\": context.user_data['user_name'],\n            \"phone\": context.user_data['phone'],\n            \"address\": address_json,\n            \"items\": cart,\n            \"total_cost\": float(total_cost),\n            \"delivery_type\": context.user_data['delivery_type'],\n            \"status\": \"pending\"\n        }\n        \n        # Save order (use count='none' to avoid RLS error on SELECT after INSERT)\n        logger.info(f\"Attempting to save order: {order_string}\")\n        insert_response = supabase.table(\"orders\").insert(order_data, count='none').execute()\n        logger.info(f\"Order saved successfully: {order_string}\")\n        \n        # Generate PDF\n        pdf_bytes = generate_pdf_receipt(order_data)\n        \n        # Send PDF to user\n        await update.message.reply_document(\n            document=io.BytesIO(pdf_bytes),\n            filename=f\"receipt_{order_string}.pdf\",\n            caption=f\"‚úÖ Order placed successfully!\\n\\nüìù Order ID: {order_string}\"\n        )\n        \n        # Send order to admin channel\n        if ADMIN_CHANNEL_ID:\n            items_str = \"\\n\".join([f\"‚Ä¢ {item['product_name']} x {item['quantity']} - {item['price'] * item['quantity']:.2f}\" for item in cart])\n            address_str = f\"{address_json['house_no']}, {address_json['street']}, {address_json['ward']}, {address_json['township']}, {address_json['city']}\"\n            \n            admin_message = f\"\"\"\nüÜï *NEW ORDER RECEIVED*\n\nüìù Order ID: `{order_string}`\nüë§ Customer: {order_data['user_name']}\nüìû Phone: {order_data['phone']}\nüìç Address: {address_str}\n\nüõí *Items:*\n{items_str}\n\nüí∞ *Total:* {total_cost:.2f}\nüöö *Delivery:* {order_data['delivery_type'].replace('_', ' ').title()}\n\"\"\"\n            \n            keyboard = [\n                [InlineKeyboardButton(\"‚úÖ Approve\", callback_data=f\"approve_{order_string}\")],\n                [InlineKeyboardButton(\"‚ùå Reject\", callback_data=f\"reject_{order_string}\")]\n            ]\n            reply_markup = InlineKeyboardMarkup(keyboard)\n            \n            # Send message\n            await context.bot.send_message(\n                chat_id=ADMIN_CHANNEL_ID,\n                text=admin_message,\n                parse_mode='Markdown',\n                reply_markup=reply_markup\n            )\n            \n            # Send payment screenshot\n            await context.bot.send_photo(\n                chat_id=ADMIN_CHANNEL_ID,\n                photo=photo.file_id,\n                caption=\"Payment Screenshot\"\n            )\n            \n            # Send PDF\n            await context.bot.send_document(\n                chat_id=ADMIN_CHANNEL_ID,\n                document=io.BytesIO(pdf_bytes),\n                filename=f\"receipt_{order_string}.pdf\"\n            )\n        \n        # Save user profile\n        profile_data = {\n            \"telegram_user_id\": user.id,\n            \"username\": user.username,\n            \"phone\": context.user_data['phone']\n        }\n        \n        try:\n            existing = supabase.table(\"profiles\").select(\"*\").eq(\"telegram_user_id\", user.id).maybe_single().execute()\n            if not existing.data:\n                supabase.table(\"profiles\").insert(profile_data).execute()\n        except:\n            pass\n        \n        await update.message.reply_text(\n            f\"‚úÖ Order placed successfully!\\n\\n\"\n            f\"üìù Order ID: {order_string}\\n\"\n            f\"üí∞ Total: {total_cost:.2f}\\n\\n\"\n            \"Your order is pending approval. You will be notified once it's approved!\"\n        )\n        \n        # Clear cart\n        context.user_data.clear()\n        \n        return ConversationHandler.END\n    except Exception as e:\n        logger.error(f\"Error processing order: {e}\", exc_info=True)\n        await update.message.reply_text(f\"Error processing your order. Please try again later.\\n\\nError details: {str(e)}\")  \n        return ConversationHandler.END\n\n# Handle admin approval/rejection\nasync def handle_admin_action(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    query = update.callback_query\n    await query.answer()\n    \n    action, order_string = query.data.split(\"_\", 1)\n    \n    try:\n        # Get order details\n        order = supabase.table(\"orders\").select(\"*\").eq(\"order_string\", order_string).single().execute()\n        order_data = order.data\n        \n        if action == \"approve\":\n            # Update order status\n            supabase.table(\"orders\").update({\"status\": \"approved\"}).eq(\"order_string\", order_string).execute()\n            \n            # Notify user\n            await context.bot.send_message(\n                chat_id=order_data['telegram_user_id'],\n                text=f\"‚úÖ Your order #{order_string} has been approved and sent to delivery!\"\n            )\n            \n            await query.edit_message_text(\n                f\"{query.message.text}\\n\\n‚úÖ *APPROVED*\",\n                parse_mode='Markdown'\n            )\n        else:\n            # Update order status\n            supabase.table(\"orders\").update({\"status\": \"rejected\"}).eq(\"order_string\", order_string).execute()\n            \n            # Notify user\n            await context.bot.send_message(\n                chat_id=order_data['telegram_user_id'],\n                text=f\"‚ùå Your order #{order_string} has been rejected. Please contact admin for more information.\"\n            )\n            \n            await query.edit_message_text(\n                f\"{query.message.text}\\n\\n‚ùå *REJECTED*\",\n                parse_mode='Markdown'\n            )\n    except Exception as e:\n        logger.error(f\"Error handling admin action: {e}\")\n        await query.edit_message_text(\"Error processing action.\")\n\n# View my orders\nasync def my_orders(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    user = update.effective_user\n    \n    try:\n        response = supabase.table(\"orders\").select(\"*\").eq(\"telegram_user_id\", user.id).order(\"created_at\", desc=True).limit(10).execute()\n        orders = response.data\n        \n        if not orders:\n            message = \"You haven't placed any orders yet.\"\n        else:\n            message = \"üìã *Your Recent Orders*\\n\\n\"\n            for order in orders:\n                status_emoji = {\n                    \"pending\": \"‚è≥\",\n                    \"approved\": \"‚úÖ\",\n                    \"rejected\": \"‚ùå\",\n                    \"delivered\": \"üì¶\"\n                }.get(order['status'], \"‚ùì\")\n                \n                message += f\"{status_emoji} *{order['order_string']}*\\n\"\n                message += f\"Status: {order['status'].title()}\\n\"\n                message += f\"Total: {order['total_cost']}\\n\"\n                message += f\"Date: {order['created_at'][:10]}\\n\\n\"\n        \n        if update.callback_query:\n            await update.callback_query.edit_message_text(message, parse_mode='Markdown')\n        else:\n            await update.message.reply_text(message, parse_mode='Markdown')\n    except Exception as e:\n        logger.error(f\"Error fetching orders: {e}\")\n        message = \"Error fetching your orders.\"\n        if update.callback_query:\n            await update.callback_query.edit_message_text(message)\n        else:\n            await update.message.reply_text(message)\n\n# Help command\nasync def help_command(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    help_text = \"\"\"\n‚ÑπÔ∏è *How to Use This Bot*\n\n1Ô∏è‚É£ Browse products using /start or the menu\n2Ô∏è‚É£ Select a product to view details\n3Ô∏è‚É£ Click \"Order Now\" to place an order\n4Ô∏è‚É£ You can add multiple products to your cart\n5Ô∏è‚É£ Fill in your details step by step\n6Ô∏è‚É£ Upload payment screenshot\n7Ô∏è‚É£ Wait for admin approval\n\nüìû *Commands*\n/start - Start the bot\n/orders - View your orders\n/help - Show this help message\n\nNeed support? Contact our team!\n\"\"\"\n    \n    if update.callback_query:\n        await update.callback_query.edit_message_text(help_text, parse_mode='Markdown')\n    else:\n        await update.message.reply_text(help_text, parse_mode='Markdown')\n\n# Cancel command\nasync def cancel(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    context.user_data.clear()\n    await update.message.reply_text(\"Order cancelled. Use /start to begin again.\")\n    return ConversationHandler.END\n\n# Get Chat ID command (useful for finding channel ID)\nasync def get_chat_id(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    chat_id = update.effective_chat.id\n    chat_type = update.effective_chat.type\n    chat_title = update.effective_chat.title if hasattr(update.effective_chat, 'title') else \"Private Chat\"\n    \n    message = f\"\"\"\nüìã *Chat Information*\n\nChat ID: `{chat_id}`\nChat Type: {chat_type}\nChat Title: {chat_title}\n\nüí° *Tip:* If this is your admin channel, copy the Chat ID and set it as ADMIN_CHANNEL_ID environment variable in Replit Secrets.\n\"\"\"\n    \n    await update.message.reply_text(message, parse_mode='Markdown')\n\n# Admin panel command\nasync def admin_command(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    user = update.effective_user\n    \n    # You can add admin verification here if needed\n    admin_url = \"https://1f0e9110-4c8f-4678-a4be-06a5c6e021de-00-2i6rorpjetbsr.worf.replit.dev/admin\"\n    \n    message = f\"\"\"\nüîê *Admin Panel*\n\nAccess the admin panel to manage:\n‚Ä¢ Products & Inventory\n‚Ä¢ Orders & Approvals  \n‚Ä¢ Users & Permissions\n‚Ä¢ Broadcast Messages\n\nüîó *Admin Panel Link:*\n{admin_url}\n\nüìù Note: You'll need to login with your authorized admin account.\n\"\"\"\n    \n    await update.message.reply_text(message, parse_mode='Markdown')\n\n# Order button handler (for conversation entry)\nasync def order_button_handler(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    query = update.callback_query\n    await query.answer()\n    \n    product_id = query.data.split(\"_\")[1]\n    context.user_data['current_product_id'] = product_id\n    \n    try:\n        response = supabase.table(\"products\").select(\"*\").eq(\"product_id\", product_id).single().execute()\n        product = response.data\n        \n        # Initialize cart if not exists\n        if 'cart' not in context.user_data:\n            context.user_data['cart'] = []\n        \n        context.user_data['current_product'] = product\n        \n        message = f\"How many {product['name']} would you like to order?\\n\\nPlease enter a quantity (1-{product['stock']}):\"\n        await query.edit_message_text(message)\n        \n        return QUANTITY\n    except Exception as e:\n        logger.error(f\"Error starting order: {e}\")\n        await query.edit_message_text(\"Error processing order. Please try again.\")\n        return ConversationHandler.END\n\n# Navigation callback query handler\nasync def button_callback(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    query = update.callback_query\n    await query.answer()\n    \n    if query.data.startswith(\"browse_products_\"):\n        page = int(query.data.split(\"_\")[-1])\n        await browse_products(update, context, page)\n    elif query.data.startswith(\"product_\"):\n        product_id = query.data.split(\"_\")[1]\n        await show_product_detail(update, context, product_id)\n    elif query.data == \"my_orders\":\n        await my_orders(update, context)\n    elif query.data == \"help\":\n        await help_command(update, context)\n    elif query.data == \"back_to_menu\":\n        await start(update, context)\n    elif query.data.startswith(\"approve_\") or query.data.startswith(\"reject_\"):\n        await handle_admin_action(update, context)\n\ndef main():\n    if not BOT_TOKEN:\n        logger.error(\"TELEGRAM_BOT_TOKEN not found in environment variables!\")\n        return\n    \n    if not SUPABASE_URL or not SUPABASE_KEY:\n        logger.error(\"SUPABASE_URL and SUPABASE_ANON_KEY must be set in environment variables!\")\n        return\n    \n    application = Application.builder().token(BOT_TOKEN).build()\n    \n    # Conversation handler for orders\n    conv_handler = ConversationHandler(\n        entry_points=[\n            CallbackQueryHandler(order_button_handler, pattern='^order_'),\n            CallbackQueryHandler(handle_add_more, pattern='^add_more_')\n        ],\n        states={\n            QUANTITY: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_quantity)],\n            ADD_MORE: [CallbackQueryHandler(handle_add_more, pattern='^add_more_')],\n            NAME_CONFIRM: [\n                MessageHandler(filters.TEXT & ~filters.COMMAND, get_name),\n                CallbackQueryHandler(confirm_name, pattern='^name_')\n            ],\n            NAME_EDIT: [MessageHandler(filters.TEXT & ~filters.COMMAND, edit_name)],\n            PHONE_CONFIRM: [\n                MessageHandler(filters.TEXT & ~filters.COMMAND, get_phone),\n                CallbackQueryHandler(confirm_phone, pattern='^phone_')\n            ],\n            PHONE_EDIT: [MessageHandler(filters.TEXT & ~filters.COMMAND, edit_phone)],\n            HOUSE_NO: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_house_no)],\n            STREET: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_street)],\n            WARD: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_ward)],\n            TOWNSHIP: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_township)],\n            CITY: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_city)],\n            ADDRESS_CONFIRM: [CallbackQueryHandler(confirm_address, pattern='^address_')],\n            DELIVERY_TYPE: [CallbackQueryHandler(handle_delivery_type, pattern='^delivery_')],\n            FINAL_CONFIRM: [CallbackQueryHandler(handle_final_confirm, pattern='^final_confirm_')],\n            PAYMENT_PHOTO: [MessageHandler(filters.PHOTO, get_payment_photo)],\n        },\n        fallbacks=[CommandHandler('cancel', cancel)],\n    )\n    \n    # Add handlers\n    application.add_handler(CommandHandler(\"start\", start))\n    application.add_handler(CommandHandler(\"orders\", my_orders))\n    application.add_handler(CommandHandler(\"help\", help_command))\n    application.add_handler(CommandHandler(\"admin\", admin_command))\n    application.add_handler(CommandHandler(\"getchatid\", get_chat_id))\n    application.add_handler(conv_handler)\n    application.add_handler(CallbackQueryHandler(button_callback))\n    \n    logger.info(\"Bot started successfully!\")\n    application.run_polling(allowed_updates=Update.ALL_TYPES)\n\nif __name__ == \"__main__\":\n    main()\n","size_bytes":35756},"src/hooks/use-toast.ts":{"content":"import * as React from \"react\";\n\nimport type { ToastActionElement, ToastProps } from \"@/components/ui/toast\";\n\nconst TOAST_LIMIT = 1;\nconst TOAST_REMOVE_DELAY = 1000000;\n\ntype ToasterToast = ToastProps & {\n  id: string;\n  title?: React.ReactNode;\n  description?: React.ReactNode;\n  action?: ToastActionElement;\n};\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const;\n\nlet count = 0;\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER;\n  return count.toString();\n}\n\ntype ActionType = typeof actionTypes;\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"];\n      toast: ToasterToast;\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"];\n      toast: Partial<ToasterToast>;\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"];\n      toastId?: ToasterToast[\"id\"];\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"];\n      toastId?: ToasterToast[\"id\"];\n    };\n\ninterface State {\n  toasts: ToasterToast[];\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>();\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return;\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId);\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    });\n  }, TOAST_REMOVE_DELAY);\n\n  toastTimeouts.set(toastId, timeout);\n};\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      };\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) => (t.id === action.toast.id ? { ...t, ...action.toast } : t)),\n      };\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action;\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId);\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id);\n        });\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t,\n        ),\n      };\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        };\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      };\n  }\n};\n\nconst listeners: Array<(state: State) => void> = [];\n\nlet memoryState: State = { toasts: [] };\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action);\n  listeners.forEach((listener) => {\n    listener(memoryState);\n  });\n}\n\ntype Toast = Omit<ToasterToast, \"id\">;\n\nfunction toast({ ...props }: Toast) {\n  const id = genId();\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    });\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id });\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss();\n      },\n    },\n  });\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  };\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState);\n\n  React.useEffect(() => {\n    listeners.push(setState);\n    return () => {\n      const index = listeners.indexOf(setState);\n      if (index > -1) {\n        listeners.splice(index, 1);\n      }\n    };\n  }, [state]);\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  };\n}\n\nexport { useToast, toast };\n","size_bytes":3935},"src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\";\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\";\nimport { Check, ChevronRight, Circle } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst ContextMenu = ContextMenuPrimitive.Root;\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger;\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group;\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal;\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub;\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup;\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean;\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent data-[state=open]:text-accent-foreground focus:bg-accent focus:text-accent-foreground\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n));\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName;\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className,\n    )}\n    {...props}\n  />\n));\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName;\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className,\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n));\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName;\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  />\n));\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName;\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n));\nContextMenuCheckboxItem.displayName = ContextMenuPrimitive.CheckboxItem.displayName;\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n));\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName;\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold text-foreground\", inset && \"pl-8\", className)}\n    {...props}\n  />\n));\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName;\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator ref={ref} className={cn(\"-mx-1 my-1 h-px bg-border\", className)} {...props} />\n));\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName;\n\nconst ContextMenuShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {\n  return <span className={cn(\"ml-auto text-xs tracking-widest text-muted-foreground\", className)} {...props} />;\n};\nContextMenuShortcut.displayName = \"ContextMenuShortcut\";\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n};\n","size_bytes":7191},"src/components/NavLink.tsx":{"content":"import { NavLink as RouterNavLink, NavLinkProps } from \"react-router-dom\";\nimport { forwardRef } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ninterface NavLinkCompatProps extends Omit<NavLinkProps, \"className\"> {\n  className?: string;\n  activeClassName?: string;\n  pendingClassName?: string;\n}\n\nconst NavLink = forwardRef<HTMLAnchorElement, NavLinkCompatProps>(\n  ({ className, activeClassName, pendingClassName, to, ...props }, ref) => {\n    return (\n      <RouterNavLink\n        ref={ref}\n        to={to}\n        className={({ isActive, isPending }) =>\n          cn(className, isActive && activeClassName, isPending && pendingClassName)\n        }\n        {...props}\n      />\n    );\n  },\n);\n\nNavLink.displayName = \"NavLink\";\n\nexport { NavLink };\n","size_bytes":751},"attached_assets/README_1763537714118.md":{"content":"# Telegram Order Bot with Admin Panel\n\nA complete order management system with a web-based admin panel and Telegram bot integration, now running on Replit!\n\n## üéØ Features\n\n### Web Admin Panel\n- üì¶ **Product Management** - Add, edit, delete products with images\n- üõçÔ∏è **Order Management** - View, approve, reject customer orders\n- üë• **User Management** - View users, ban/unban functionality\n- üì¢ **Broadcast Messages** - Send announcements to all users\n- üîê **Secure Authentication** - Supabase-powered auth\n\n### Telegram Bot\n- üõí Product browsing with interactive buttons\n- üìù Complete order flow with step-by-step data collection\n- üì∏ Payment screenshot upload\n- üöö Delivery type selection\n- üìã Order history viewing\n- üîó Deep linking for product sharing\n- ‚úÖ Real-time order status notifications\n\n## üöÄ Quick Start\n\n### 1. Access the Admin Panel\nOpen the Webview panel in Replit to access the admin interface.\n\n### 2. Create Admin Account\n1. Click \"Admin Login\"\n2. Sign up with your email\n3. Grant yourself admin role in Supabase (see **SETUP_COMPLETE.md** for detailed instructions)\n\n### 3. Use Your Telegram Bot\nSearch for your bot in Telegram and send `/start` to begin!\n\n## üìö Documentation\n\n- **SETUP_COMPLETE.md** - Complete setup guide and next steps\n- **bot/README.md** - Telegram bot documentation\n- **TELEGRAM_BOT_GUIDE.md** - Integration guide with code examples\n\n## üîß Running Workflows\n\nTwo workflows are configured and running:\n\n1. **Start application** - Web admin panel (React + Vite on port 5000)\n2. **Telegram Bot** - Python bot polling for Telegram updates\n\n## üíª Tech Stack\n\n### Frontend\n- React 18 + TypeScript\n- Vite for fast development\n- Shadcn/ui + Tailwind CSS\n- React Router for navigation\n- TanStack Query for data fetching\n\n### Backend\n- Python 3.11\n- python-telegram-bot library\n- Supabase (PostgreSQL + Auth + Storage)\n\n### Database\n- PostgreSQL with Row Level Security\n- Tables: products, orders, profiles, user_roles, broadcast_messages\n- Storage buckets for images and payment screenshots\n\n## üîê Environment Variables\n\nAll secrets are stored in Replit Secrets:\n- `TELEGRAM_BOT_TOKEN` - Your bot token from BotFather\n- `SUPABASE_URL` - Supabase project URL\n- `SUPABASE_ANON_KEY` - Supabase anonymous key\n\n## üì± Bot Commands\n\n- `/start` - Start the bot\n- `/products` - Browse products\n- `/orders` - View order history\n- `/help` - Show help\n- `/cancel` - Cancel current operation\n\n## üîó Deep Links\n\nShare products directly:\n```\nhttps://t.me/YOUR_BOT_USERNAME?start=PRODUCT_ID\n```\n\n## üéØ Order Flow\n\n1. Customer browses products in bot\n2. Customer creates order with delivery details\n3. Customer uploads payment screenshot\n4. Order appears in admin panel\n5. Admin approves or rejects\n6. Customer receives notification\n\n## üõ†Ô∏è Development\n\nThe project is fully set up and ready to use. Just add products in the admin panel and start taking orders!\n\n## üìñ Learn More\n\n- [Telegram Bot API](https://core.telegram.org/bots/api)\n- [Supabase Documentation](https://supabase.com/docs)\n- [Shadcn/ui](https://ui.shadcn.com/)\n\n---\n\n**Built with ‚ù§Ô∏è on Replit**\n","size_bytes":3136},"src/components/ui/toggle-group.tsx":{"content":"import * as React from \"react\";\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\";\nimport { type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\nimport { toggleVariants } from \"@/components/ui/toggle\";\n\nconst ToggleGroupContext = React.createContext<VariantProps<typeof toggleVariants>>({\n  size: \"default\",\n  variant: \"default\",\n});\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> & VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root ref={ref} className={cn(\"flex items-center justify-center gap-1\", className)} {...props}>\n    <ToggleGroupContext.Provider value={{ variant, size }}>{children}</ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n));\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName;\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> & VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext);\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className,\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  );\n});\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName;\n\nexport { ToggleGroup, ToggleGroupItem };\n","size_bytes":1714},"src/components/ui/sheet.tsx":{"content":"import * as SheetPrimitive from \"@radix-ui/react-dialog\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { X } from \"lucide-react\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Sheet = SheetPrimitive.Root;\n\nconst SheetTrigger = SheetPrimitive.Trigger;\n\nconst SheetClose = SheetPrimitive.Close;\n\nconst SheetPortal = SheetPrimitive.Portal;\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className,\n    )}\n    {...props}\n    ref={ref}\n  />\n));\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName;\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  },\n);\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<React.ElementRef<typeof SheetPrimitive.Content>, SheetContentProps>(\n  ({ side = \"right\", className, children, ...props }, ref) => (\n    <SheetPortal>\n      <SheetOverlay />\n      <SheetPrimitive.Content ref={ref} className={cn(sheetVariants({ side }), className)} {...props}>\n        {children}\n        <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none\">\n          <X className=\"h-4 w-4\" />\n          <span className=\"sr-only\">Close</span>\n        </SheetPrimitive.Close>\n      </SheetPrimitive.Content>\n    </SheetPortal>\n  ),\n);\nSheetContent.displayName = SheetPrimitive.Content.displayName;\n\nconst SheetHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col space-y-2 text-center sm:text-left\", className)} {...props} />\n);\nSheetHeader.displayName = \"SheetHeader\";\n\nconst SheetFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)} {...props} />\n);\nSheetFooter.displayName = \"SheetFooter\";\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title ref={ref} className={cn(\"text-lg font-semibold text-foreground\", className)} {...props} />\n));\nSheetTitle.displayName = SheetPrimitive.Title.displayName;\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n));\nSheetDescription.displayName = SheetPrimitive.Description.displayName;\n\nexport {\n  Sheet,\n  SheetClose,\n  SheetContent,\n  SheetDescription,\n  SheetFooter,\n  SheetHeader,\n  SheetOverlay,\n  SheetPortal,\n  SheetTitle,\n  SheetTrigger,\n};\n","size_bytes":4197},"src/components/ui/badge.tsx":{"content":"import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default: \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive: \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement>, VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return <div className={cn(badgeVariants({ variant }), className)} {...props} />;\n}\n\nexport { Badge, badgeVariants };\n","size_bytes":1089},"src/components/ui/toggle.tsx":{"content":"import * as React from \"react\";\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline: \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3\",\n        sm: \"h-9 px-2.5\",\n        lg: \"h-11 px-5\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> & VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root ref={ref} className={cn(toggleVariants({ variant, size, className }))} {...props} />\n));\n\nToggle.displayName = TogglePrimitive.Root.displayName;\n\nexport { Toggle, toggleVariants };\n","size_bytes":1416},"src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\";\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\";\nimport { cva } from \"class-variance-authority\";\nimport { ChevronDown } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\"relative z-10 flex max-w-max flex-1 items-center justify-center\", className)}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n));\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName;\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\"group flex flex-1 list-none items-center justify-center space-x-1\", className)}\n    {...props}\n  />\n));\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName;\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item;\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50\",\n);\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n));\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName;\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto\",\n      className,\n    )}\n    {...props}\n  />\n));\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName;\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link;\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className,\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n));\nNavigationMenuViewport.displayName = NavigationMenuPrimitive.Viewport.displayName;\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className,\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n));\nNavigationMenuIndicator.displayName = NavigationMenuPrimitive.Indicator.displayName;\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n};\n","size_bytes":5030},"SETUP_COMPLETE.md":{"content":"# üéâ Project Import Complete!\n\nYour Telegram Order Bot with Admin Panel is now fully operational on Replit!\n\n## ‚úÖ What's Been Set Up\n\n### 1. Web Admin Panel (Frontend)\n- **URL**: Available in the Webview panel\n- **Framework**: React + Vite + TypeScript\n- **UI**: Shadcn/ui components with Tailwind CSS\n- **Features**:\n  - üì¶ Product Management (Add, Edit, Delete products)\n  - üõçÔ∏è Order Management (View, Approve, Reject orders)\n  - üë• User Management (View users, Ban/Unban)\n  - üì¢ Broadcast Messages (Send messages to all users)\n  - üîê Supabase Authentication\n\n### 2. Telegram Bot (Backend)\n- **Status**: ‚úÖ Running and connected\n- **Features**:\n  - Product browsing with inline keyboards\n  - Complete order flow (quantity ‚Üí address ‚Üí payment)\n  - Payment screenshot upload\n  - Delivery type selection\n  - Order history viewing\n  - Deep linking support (share product links)\n  - User ban checking\n  - Real-time order status notifications\n\n### 3. Database (Supabase)\n- **Database**: PostgreSQL with Row Level Security\n- **Tables**:\n  - `products` - Product inventory\n  - `orders` - Order management\n  - `profiles` - User profiles\n  - `user_roles` - Admin role management\n  - `broadcast_messages` - Message history\n- **Storage Buckets**:\n  - `payment-screenshots` - Private payment images\n  - `product-images` - Public product images\n\n## üöÄ Getting Started\n\n### Access Your Admin Panel\n1. Click the Webview panel in Replit\n2. Click \"Admin Login\" button\n3. Sign up with your email to create an admin account\n4. After signing up, you'll need to manually grant yourself admin role in the database (see below)\n\n### Grant Admin Role (First Time Setup)\nSince this is your first time, you need to make yourself an admin:\n\n1. Go to your Supabase dashboard: https://dwaxejcqvtkeavngwrzk.supabase.co\n2. Navigate to SQL Editor\n3. Run this query (replace with your actual user ID after signing up):\n```sql\n-- First, get your user ID by checking the auth.users table\nSELECT id, email FROM auth.users;\n\n-- Then insert admin role (replace YOUR_USER_ID with the ID from above)\nINSERT INTO public.user_roles (user_id, role)\nVALUES ('YOUR_USER_ID', 'admin');\n```\n\n### Test Your Telegram Bot\n1. Open Telegram and search for your bot (use the username you created with BotFather)\n2. Send `/start` command\n3. Browse products and try creating an order\n4. The order will appear in your admin panel for approval!\n\n## üì± Bot Commands\n\n- `/start` - Start the bot and show main menu\n- `/products` - Browse all available products  \n- `/orders` - View your order history\n- `/help` - Show help information\n- `/cancel` - Cancel current order process\n\n## üîó Deep Linking\n\nShare products directly with customers using deep links:\n```\nhttps://t.me/YOUR_BOT_USERNAME?start=PRODUCT_ID\n```\n\nExample: If you create a product with ID \"D1\", share:\n```\nhttps://t.me/YOUR_BOT_USERNAME?start=D1\n```\n\n## üìù Next Steps\n\n### 1. Add Products\n- Go to Admin Panel ‚Üí Products tab\n- Click \"Add Product\"\n- Fill in details and upload product image\n- Products will immediately appear in the bot\n\n### 2. Configure Payment Methods\n- Update the payment instructions shown to users\n- Set up your payment account details\n- Customers will upload payment screenshots which you can review in the admin panel\n\n### 3. Manage Orders\n- When users place orders, they appear in Orders tab\n- Review payment screenshots\n- Approve or reject orders\n- Users get notified automatically via the bot\n\n### 4. Broadcast Messages\n- Go to Broadcast tab\n- Send announcements to all users\n- Track message delivery\n\n## üîß Workflows Running\n\nBoth workflows are configured and running:\n\n1. **Start application** - Web admin panel (Port 5000)\n2. **Telegram Bot** - Python bot polling for updates\n\nYou can monitor them in the Workflows panel.\n\n## üîí Security\n\nAll secrets are properly configured in Replit Secrets:\n- ‚úÖ TELEGRAM_BOT_TOKEN\n- ‚úÖ SUPABASE_URL\n- ‚úÖ SUPABASE_ANON_KEY\n\nNever commit these to your repository!\n\n## üìö Documentation\n\n- `bot/README.md` - Telegram bot documentation\n- `TELEGRAM_BOT_GUIDE.md` - Integration guide with code examples\n- `.env.example` - Environment variables template\n\n## üêõ Troubleshooting\n\n### Bot not responding?\n- Check \"Telegram Bot\" workflow is running\n- Verify TELEGRAM_BOT_TOKEN is correct in Secrets\n- Check bot logs in the workflow console\n\n### Can't see admin features?\n- Make sure you granted yourself admin role (see setup above)\n- Sign out and sign back in to refresh permissions\n\n### Orders not appearing?\n- Verify Supabase credentials are correct\n- Check database connection in bot logs\n- Ensure RLS policies are properly set up\n\n## üéØ Order Flow\n\nHere's how the complete flow works:\n\n1. **Customer** opens bot ‚Üí browses products ‚Üí places order\n2. **Customer** fills in delivery details ‚Üí uploads payment screenshot\n3. **Order** is created with \"pending\" status in database\n4. **You** (admin) review order and payment in admin panel\n5. **You** approve or reject the order\n6. **Customer** receives notification via bot\n7. **Order** status updates to \"approved\" or \"rejected\"\n8. For approved orders, proceed with delivery\n\n## üåü Features You Can Build Next\n\n- Order tracking with delivery status updates\n- Multiple payment methods\n- Product categories and search\n- Customer reviews and ratings\n- Discount codes and promotions\n- Sales reports and analytics\n- Email notifications\n- Inventory alerts when stock is low\n\n## üí° Tips\n\n- Test the entire flow yourself before sharing the bot\n- Start with a few products to get familiar with the system\n- Use the broadcast feature to announce new products\n- Monitor the orders tab regularly for new orders\n- Keep your Supabase database backed up\n\n---\n\n**Everything is ready to go! Start adding products and sharing your bot with customers! üöÄ**\n","size_bytes":5804},"TELEGRAM_BOT_GUIDE.md":{"content":"# Telegram Bot Integration Guide\n\nThis document explains how to connect your Python Telegram bot to this admin panel.\n\n## üìã Database Connection\n\nYour Telegram bot should connect to the same Supabase database. Use these connection details:\n\n- **Supabase URL**: `https://dwaxejcqvtkeavngwrzk.supabase.co`\n- **Supabase Anon Key**: `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR3YXhlamNxdnRrZWF2bmd3cnprIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM0NDY2NTIsImV4cCI6MjA3OTAyMjY1Mn0.o5kO7P4lpnQU8brNliTORSYBZPOwdt8anp9RvuCM6Uo`\n\nInstall the Supabase Python client:\n```bash\npip install supabase\n```\n\n## üîß Bot Setup Example\n\n```python\nfrom supabase import create_client, Client\nimport os\n\n# Initialize Supabase client\nsupabase: Client = create_client(\n    \"https://dwaxejcqvtkeavngwrzk.supabase.co\",\n    \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR3YXhlamNxdnRrZWF2bmd3cnprIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM0NDY2NTIsImV4cCI6MjA3OTAyMjY1Mn0.o5kO7P4lpnQU8brNliTORSYBZPOwdt8anp9RvuCM6Uo\"\n)\n```\n\n## üì¶ Key Integrations\n\n### 1. Product Fetching\n```python\n# Get all active products\nresponse = supabase.table(\"products\").select(\"*\").eq(\"is_active\", True).execute()\nproducts = response.data\n\n# Get single product by product_id\nresponse = supabase.table(\"products\").select(\"*\").eq(\"product_id\", \"D1\").single().execute()\nproduct = response.data\n```\n\n### 2. Creating Orders\n```python\n# Generate order string\nresponse = supabase.rpc(\"generate_order_string\").execute()\norder_string = response.data\n\n# Create order\norder_data = {\n    \"order_string\": order_string,\n    \"telegram_user_id\": user.id,\n    \"user_name\": \"John Doe\",\n    \"phone\": \"09123456789\",\n    \"address\": {\n        \"house_no\": \"123\",\n        \"street\": \"Main St\",\n        \"ward\": \"Ward 1\",\n        \"township\": \"Downtown\",\n        \"city\": \"Yangon\"\n    },\n    \"items\": [\n        {\n            \"product_id\": \"D1\",\n            \"product_name\": \"Product Name\",\n            \"quantity\": 2,\n            \"price\": 10.00\n        }\n    ],\n    \"total_cost\": 20.00,\n    \"delivery_type\": \"express_cars\",  # or \"delivery_company\"\n    \"payment_image_url\": \"https://storage-url/payment.jpg\",\n    \"status\": \"pending\"\n}\n\nresponse = supabase.table(\"orders\").insert(order_data).execute()\n```\n\n### 3. Upload Payment Screenshot\n```python\n# Upload to Supabase Storage\nwith open(\"payment_screenshot.jpg\", \"rb\") as f:\n    response = supabase.storage.from_(\"payment-screenshots\").upload(\n        f\"telegram_{user_id}_{order_id}.jpg\",\n        f,\n        {\"content-type\": \"image/jpeg\"}\n    )\n\n# Get public URL\npayment_url = supabase.storage.from_(\"payment-screenshots\").get_public_url(\n    f\"telegram_{user_id}_{order_id}.jpg\"\n)\n```\n\n### 4. User Management\n```python\n# Check if user is banned\nresponse = supabase.table(\"profiles\").select(\"is_banned\").eq(\"telegram_user_id\", user.id).maybe_single().execute()\nif response.data and response.data[\"is_banned\"]:\n    # User is banned, deny access\n    pass\n```\n\n### 5. Deep Links\nWhen a user clicks a deep link like `https://t.me/yourbot?start=D1`:\n\n```python\n@bot.message_handler(commands=['start'])\ndef start(message):\n    # Extract product_id from command\n    args = message.text.split()\n    if len(args) > 1:\n        product_id = args[1]\n        \n        # Fetch product from database\n        response = supabase.table(\"products\").select(\"*\").eq(\"product_id\", product_id).single().execute()\n        product = response.data\n        \n        # Show product details to user\n        bot.send_message(\n            message.chat.id,\n            f\"Product: {product['name']}\\nPrice: ${product['price']}\\nStock: {product['stock']}\"\n        )\n```\n\n### 6. Broadcast Messages\n```python\n# Check for new broadcast messages\nresponse = supabase.table(\"broadcast_messages\").select(\"*\").order(\"sent_at\", desc=True).limit(10).execute()\nmessages = response.data\n\n# Send to all users\nfor msg in messages:\n    # Get all non-banned users\n    users_response = supabase.table(\"profiles\").select(\"telegram_user_id\").eq(\"is_banned\", False).execute()\n    \n    for user in users_response.data:\n        if user[\"telegram_user_id\"]:\n            bot.send_message(user[\"telegram_user_id\"], msg[\"message\"])\n```\n\n### 7. Order Status Updates\nListen for order approvals/rejections using Supabase Realtime:\n\n```python\n# Subscribe to order changes\ndef handle_order_update(payload):\n    order = payload[\"new\"]\n    telegram_user_id = order[\"telegram_user_id\"]\n    \n    if order[\"status\"] == \"approved\":\n        bot.send_message(telegram_user_id, f\"‚úÖ Your order {order['order_string']} has been approved and sent to delivery!\")\n    elif order[\"status\"] == \"rejected\":\n        bot.send_message(telegram_user_id, f\"‚ùå Your order {order['order_string']} was rejected. Please contact support.\")\n\n# Set up realtime subscription\nsupabase.table(\"orders\").on(\"UPDATE\", handle_order_update).subscribe()\n```\n\n## üéØ Complete Order Flow\n\n1. **User starts bot** ‚Üí Check if banned\n2. **User browses products** ‚Üí Fetch from `products` table\n3. **User selects product** ‚Üí Show details\n4. **User creates order** ‚Üí Collect info step-by-step\n5. **User uploads payment** ‚Üí Upload to storage bucket\n6. **Create order record** ‚Üí Insert into `orders` table with `status=\"pending\"`\n7. **Admin reviews** ‚Üí Admin panel shows order\n8. **Admin approves/rejects** ‚Üí Status updated in database\n9. **Bot notifies user** ‚Üí Via realtime subscription or polling\n\n## üîí Security Notes\n\n- Never expose service role key in your bot\n- Use anon key for client operations\n- RLS policies will protect data\n- Payment screenshots are private by default\n- Only admins can view payment screenshots\n\n## üìö Additional Resources\n\n- [Supabase Python Docs](https://supabase.com/docs/reference/python/introduction)\n- [Telegram Bot API](https://core.telegram.org/bots/api)\n- [Supabase Storage](https://supabase.com/docs/guides/storage)\n- [Supabase Realtime](https://supabase.com/docs/guides/realtime)\n\n## üöÄ Getting Started\n\n1. Create your Telegram bot with BotFather\n2. Install required packages: `pip install python-telegram-bot supabase`\n3. Connect to Supabase using credentials above\n4. Implement order flow using the examples\n5. Test with deep links and order creation\n6. Monitor orders in the admin panel!","size_bytes":6258},"src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\";\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root ref={ref} className={cn(\"relative overflow-hidden\", className)} {...props}>\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">{children}</ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n));\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName;\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" && \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" && \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className,\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n));\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName;\n\nexport { ScrollArea, ScrollBar };\n","size_bytes":1608},"attached_assets/SETUP_COMPLETE_1763537714153.md":{"content":"# üéâ Project Import Complete!\n\nYour Telegram Order Bot with Admin Panel is now fully operational on Replit!\n\n## ‚úÖ What's Been Set Up\n\n### 1. Web Admin Panel (Frontend)\n- **URL**: Available in the Webview panel\n- **Framework**: React + Vite + TypeScript\n- **UI**: Shadcn/ui components with Tailwind CSS\n- **Features**:\n  - üì¶ Product Management (Add, Edit, Delete products)\n  - üõçÔ∏è Order Management (View, Approve, Reject orders)\n  - üë• User Management (View users, Ban/Unban)\n  - üì¢ Broadcast Messages (Send messages to all users)\n  - üîê Supabase Authentication\n\n### 2. Telegram Bot (Backend)\n- **Status**: ‚úÖ Running and connected\n- **Features**:\n  - Product browsing with inline keyboards\n  - Complete order flow (quantity ‚Üí address ‚Üí payment)\n  - Payment screenshot upload\n  - Delivery type selection\n  - Order history viewing\n  - Deep linking support (share product links)\n  - User ban checking\n  - Real-time order status notifications\n\n### 3. Database (Supabase)\n- **Database**: PostgreSQL with Row Level Security\n- **Tables**:\n  - `products` - Product inventory\n  - `orders` - Order management\n  - `profiles` - User profiles\n  - `user_roles` - Admin role management\n  - `broadcast_messages` - Message history\n- **Storage Buckets**:\n  - `payment-screenshots` - Private payment images\n  - `product-images` - Public product images\n\n## üöÄ Getting Started\n\n### Access Your Admin Panel\n1. Click the Webview panel in Replit\n2. Click \"Admin Login\" button\n3. Sign up with your email to create an admin account\n4. After signing up, you'll need to manually grant yourself admin role in the database (see below)\n\n### Grant Admin Role (First Time Setup)\nSince this is your first time, you need to make yourself an admin:\n\n1. Go to your Supabase dashboard: https://dwaxejcqvtkeavngwrzk.supabase.co\n2. Navigate to SQL Editor\n3. Run this query (replace with your actual user ID after signing up):\n```sql\n-- First, get your user ID by checking the auth.users table\nSELECT id, email FROM auth.users;\n\n-- Then insert admin role (replace YOUR_USER_ID with the ID from above)\nINSERT INTO public.user_roles (user_id, role)\nVALUES ('YOUR_USER_ID', 'admin');\n```\n\n### Test Your Telegram Bot\n1. Open Telegram and search for your bot (use the username you created with BotFather)\n2. Send `/start` command\n3. Browse products and try creating an order\n4. The order will appear in your admin panel for approval!\n\n## üì± Bot Commands\n\n- `/start` - Start the bot and show main menu\n- `/products` - Browse all available products  \n- `/orders` - View your order history\n- `/help` - Show help information\n- `/cancel` - Cancel current order process\n\n## üîó Deep Linking\n\nShare products directly with customers using deep links:\n```\nhttps://t.me/YOUR_BOT_USERNAME?start=PRODUCT_ID\n```\n\nExample: If you create a product with ID \"D1\", share:\n```\nhttps://t.me/YOUR_BOT_USERNAME?start=D1\n```\n\n## üìù Next Steps\n\n### 1. Add Products\n- Go to Admin Panel ‚Üí Products tab\n- Click \"Add Product\"\n- Fill in details and upload product image\n- Products will immediately appear in the bot\n\n### 2. Configure Payment Methods\n- Update the payment instructions shown to users\n- Set up your payment account details\n- Customers will upload payment screenshots which you can review in the admin panel\n\n### 3. Manage Orders\n- When users place orders, they appear in Orders tab\n- Review payment screenshots\n- Approve or reject orders\n- Users get notified automatically via the bot\n\n### 4. Broadcast Messages\n- Go to Broadcast tab\n- Send announcements to all users\n- Track message delivery\n\n## üîß Workflows Running\n\nBoth workflows are configured and running:\n\n1. **Start application** - Web admin panel (Port 5000)\n2. **Telegram Bot** - Python bot polling for updates\n\nYou can monitor them in the Workflows panel.\n\n## üîí Security\n\nAll secrets are properly configured in Replit Secrets:\n- ‚úÖ TELEGRAM_BOT_TOKEN\n- ‚úÖ SUPABASE_URL\n- ‚úÖ SUPABASE_ANON_KEY\n\nNever commit these to your repository!\n\n## üìö Documentation\n\n- `bot/README.md` - Telegram bot documentation\n- `TELEGRAM_BOT_GUIDE.md` - Integration guide with code examples\n- `.env.example` - Environment variables template\n\n## üêõ Troubleshooting\n\n### Bot not responding?\n- Check \"Telegram Bot\" workflow is running\n- Verify TELEGRAM_BOT_TOKEN is correct in Secrets\n- Check bot logs in the workflow console\n\n### Can't see admin features?\n- Make sure you granted yourself admin role (see setup above)\n- Sign out and sign back in to refresh permissions\n\n### Orders not appearing?\n- Verify Supabase credentials are correct\n- Check database connection in bot logs\n- Ensure RLS policies are properly set up\n\n## üéØ Order Flow\n\nHere's how the complete flow works:\n\n1. **Customer** opens bot ‚Üí browses products ‚Üí places order\n2. **Customer** fills in delivery details ‚Üí uploads payment screenshot\n3. **Order** is created with \"pending\" status in database\n4. **You** (admin) review order and payment in admin panel\n5. **You** approve or reject the order\n6. **Customer** receives notification via bot\n7. **Order** status updates to \"approved\" or \"rejected\"\n8. For approved orders, proceed with delivery\n\n## üåü Features You Can Build Next\n\n- Order tracking with delivery status updates\n- Multiple payment methods\n- Product categories and search\n- Customer reviews and ratings\n- Discount codes and promotions\n- Sales reports and analytics\n- Email notifications\n- Inventory alerts when stock is low\n\n## üí° Tips\n\n- Test the entire flow yourself before sharing the bot\n- Start with a few products to get familiar with the system\n- Use the broadcast feature to announce new products\n- Monitor the orders tab regularly for new orders\n- Keep your Supabase database backed up\n\n---\n\n**Everything is ready to go! Start adding products and sharing your bot with customers! üöÄ**\n","size_bytes":5804},"src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\";\n\nconst AspectRatio = AspectRatioPrimitive.Root;\n\nexport { AspectRatio };\n","size_bytes":143},"src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\";\nimport { Toast, ToastClose, ToastDescription, ToastProvider, ToastTitle, ToastViewport } from \"@/components/ui/toast\";\n\nexport function Toaster() {\n  const { toasts } = useToast();\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && <ToastDescription>{description}</ToastDescription>}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        );\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  );\n}\n","size_bytes":730},"src/components/ui/table.tsx":{"content":"import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Table = React.forwardRef<HTMLTableElement, React.HTMLAttributes<HTMLTableElement>>(\n  ({ className, ...props }, ref) => (\n    <div className=\"relative w-full overflow-auto\">\n      <table ref={ref} className={cn(\"w-full caption-bottom text-sm\", className)} {...props} />\n    </div>\n  ),\n);\nTable.displayName = \"Table\";\n\nconst TableHeader = React.forwardRef<HTMLTableSectionElement, React.HTMLAttributes<HTMLTableSectionElement>>(\n  ({ className, ...props }, ref) => <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />,\n);\nTableHeader.displayName = \"TableHeader\";\n\nconst TableBody = React.forwardRef<HTMLTableSectionElement, React.HTMLAttributes<HTMLTableSectionElement>>(\n  ({ className, ...props }, ref) => (\n    <tbody ref={ref} className={cn(\"[&_tr:last-child]:border-0\", className)} {...props} />\n  ),\n);\nTableBody.displayName = \"TableBody\";\n\nconst TableFooter = React.forwardRef<HTMLTableSectionElement, React.HTMLAttributes<HTMLTableSectionElement>>(\n  ({ className, ...props }, ref) => (\n    <tfoot ref={ref} className={cn(\"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\", className)} {...props} />\n  ),\n);\nTableFooter.displayName = \"TableFooter\";\n\nconst TableRow = React.forwardRef<HTMLTableRowElement, React.HTMLAttributes<HTMLTableRowElement>>(\n  ({ className, ...props }, ref) => (\n    <tr\n      ref={ref}\n      className={cn(\"border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50\", className)}\n      {...props}\n    />\n  ),\n);\nTableRow.displayName = \"TableRow\";\n\nconst TableHead = React.forwardRef<HTMLTableCellElement, React.ThHTMLAttributes<HTMLTableCellElement>>(\n  ({ className, ...props }, ref) => (\n    <th\n      ref={ref}\n      className={cn(\n        \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n);\nTableHead.displayName = \"TableHead\";\n\nconst TableCell = React.forwardRef<HTMLTableCellElement, React.TdHTMLAttributes<HTMLTableCellElement>>(\n  ({ className, ...props }, ref) => (\n    <td ref={ref} className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)} {...props} />\n  ),\n);\nTableCell.displayName = \"TableCell\";\n\nconst TableCaption = React.forwardRef<HTMLTableCaptionElement, React.HTMLAttributes<HTMLTableCaptionElement>>(\n  ({ className, ...props }, ref) => (\n    <caption ref={ref} className={cn(\"mt-4 text-sm text-muted-foreground\", className)} {...props} />\n  ),\n);\nTableCaption.displayName = \"TableCaption\";\n\nexport { Table, TableHeader, TableBody, TableFooter, TableHead, TableRow, TableCell, TableCaption };\n","size_bytes":2694},"src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\";\n\nconst MOBILE_BREAKPOINT = 768;\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined);\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n    };\n    mql.addEventListener(\"change\", onChange);\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n    return () => mql.removeEventListener(\"change\", onChange);\n  }, []);\n\n  return !!isMobile;\n}\n","size_bytes":576},"src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\";\n\nfunction Skeleton({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\n  return <div className={cn(\"animate-pulse rounded-md bg-muted\", className)} {...props} />;\n}\n\nexport { Skeleton };\n","size_bytes":234},"src/pages/Auth.tsx":{"content":"import { Auth as SupabaseAuth } from \"@supabase/auth-ui-react\";\nimport { ThemeSupa } from \"@supabase/auth-ui-shared\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { User } from \"@supabase/supabase-js\";\nimport { Package } from \"lucide-react\";\n\nconst Auth = () => {\n  const navigate = useNavigate();\n  const [user, setUser] = useState<User | null>(null);\n\n  useEffect(() => {\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\n      (event, session) => {\n        setUser(session?.user ?? null);\n        if (session?.user) {\n          navigate(\"/admin\");\n        }\n      }\n    );\n\n    supabase.auth.getSession().then(({ data: { session } }) => {\n      setUser(session?.user ?? null);\n      if (session?.user) {\n        navigate(\"/admin\");\n      }\n    });\n\n    return () => subscription.unsubscribe();\n  }, [navigate]);\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-secondary to-background p-4\">\n      <div className=\"w-full max-w-md\">\n        <div className=\"text-center mb-8\">\n          <div className=\"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-primary shadow-medium mb-4\">\n            <Package className=\"w-8 h-8 text-primary-foreground\" />\n          </div>\n          <h1 className=\"text-3xl font-bold text-foreground mb-2\">Order Bot Admin</h1>\n          <p className=\"text-muted-foreground\">Manage your Telegram order bot</p>\n        </div>\n        \n        <div className=\"bg-card rounded-2xl shadow-medium p-8 border border-border\">\n          <SupabaseAuth\n            supabaseClient={supabase}\n            appearance={{\n              theme: ThemeSupa,\n              variables: {\n                default: {\n                  colors: {\n                    brand: \"hsl(221 83% 53%)\",\n                    brandAccent: \"hsl(221 83% 63%)\",\n                  },\n                  radii: {\n                    borderRadiusButton: \"0.75rem\",\n                    inputBorderRadius: \"0.75rem\",\n                  },\n                },\n              },\n            }}\n            providers={[]}\n            redirectTo={`${window.location.origin}/admin`}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Auth;","size_bytes":2362},"src/components/admin/ProductsTab.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { Button } from \"@/components/ui/button\";\nimport { Plus, Edit, Trash2, Link as LinkIcon } from \"lucide-react\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { toast } from \"sonner\";\nimport ProductDialog from \"./ProductDialog\";\nimport { Badge } from \"@/components/ui/badge\";\n\ninterface Product {\n  id: string;\n  product_id: string;\n  name: string;\n  description: string | null;\n  price: number;\n  stock: number;\n  image_url: string | null;\n  is_active: boolean;\n}\n\nconst ProductsTab = () => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [editingProduct, setEditingProduct] = useState<Product | null>(null);\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  const fetchProducts = async () => {\n    setLoading(true);\n    const { data, error } = await supabase\n      .from(\"products\")\n      .select(\"*\")\n      .order(\"created_at\", { ascending: false });\n\n    if (error) {\n      toast.error(\"Failed to fetch products\");\n    } else {\n      setProducts(data || []);\n    }\n    setLoading(false);\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm(\"Are you sure you want to delete this product?\")) return;\n\n    const { error } = await supabase\n      .from(\"products\")\n      .delete()\n      .eq(\"id\", id);\n\n    if (error) {\n      toast.error(\"Failed to delete product\");\n    } else {\n      toast.success(\"Product deleted successfully\");\n      fetchProducts();\n    }\n  };\n\n  const copyDeepLink = (productId: string) => {\n    const link = `https://t.me/YOUR_BOT_USERNAME?start=${productId}`;\n    navigator.clipboard.writeText(link);\n    toast.success(\"Deep link copied to clipboard!\");\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-2xl font-bold text-foreground\">Products Management</h2>\n        <Button onClick={() => { setEditingProduct(null); setDialogOpen(true); }} className=\"bg-gradient-primary shadow-soft\">\n          <Plus className=\"w-4 h-4 mr-2\" />\n          Add Product\n        </Button>\n      </div>\n\n      {loading ? (\n        <div className=\"text-center py-12\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto\"></div>\n        </div>\n      ) : products.length === 0 ? (\n        <Card className=\"border-border shadow-soft\">\n          <CardContent className=\"text-center py-12\">\n            <p className=\"text-muted-foreground\">No products yet. Create your first product!</p>\n          </CardContent>\n        </Card>\n      ) : (\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n          {products.map((product) => (\n            <Card key={product.id} className=\"border-border shadow-soft hover:shadow-medium transition-shadow\">\n              <CardContent className=\"p-6\">\n                {product.image_url && (\n                  <img src={product.image_url} alt={product.name} className=\"w-full h-40 object-cover rounded-lg mb-4\" />\n                )}\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-start justify-between\">\n                    <div>\n                      <h3 className=\"font-semibold text-foreground\">{product.name}</h3>\n                      <p className=\"text-sm text-muted-foreground\">ID: {product.product_id}</p>\n                    </div>\n                    {!product.is_active && (\n                      <Badge variant=\"secondary\">Inactive</Badge>\n                    )}\n                  </div>\n                  <p className=\"text-sm text-muted-foreground line-clamp-2\">{product.description}</p>\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <p className=\"text-lg font-bold text-foreground\">${product.price}</p>\n                      <p className=\"text-sm text-muted-foreground\">Stock: {product.stock}</p>\n                    </div>\n                  </div>\n                  <div className=\"flex gap-2 pt-2\">\n                    <Button variant=\"outline\" size=\"sm\" onClick={() => copyDeepLink(product.product_id)} className=\"flex-1\">\n                      <LinkIcon className=\"w-3 h-3 mr-1\" />\n                      Copy Link\n                    </Button>\n                    <Button variant=\"outline\" size=\"sm\" onClick={() => { setEditingProduct(product); setDialogOpen(true); }}>\n                      <Edit className=\"w-3 h-3\" />\n                    </Button>\n                    <Button variant=\"outline\" size=\"sm\" onClick={() => handleDelete(product.id)}>\n                      <Trash2 className=\"w-3 h-3\" />\n                    </Button>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      )}\n\n      <ProductDialog\n        open={dialogOpen}\n        onOpenChange={setDialogOpen}\n        product={editingProduct}\n        onSuccess={fetchProducts}\n      />\n    </div>\n  );\n};\n\nexport default ProductsTab;","size_bytes":5163},"main.py":{"content":"def main():\n    print(\"Hello from repl-nix-workspace!\")\n\n\nif __name__ == \"__main__\":\n    main()\n","size_bytes":96},"src/components/ui/form.tsx":{"content":"import * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { Controller, ControllerProps, FieldPath, FieldValues, FormProvider, useFormContext } from \"react-hook-form\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Label } from \"@/components/ui/label\";\n\nconst Form = FormProvider;\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> = {\n  name: TName;\n};\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>({} as FormFieldContextValue);\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  );\n};\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext);\n  const itemContext = React.useContext(FormItemContext);\n  const { getFieldState, formState } = useFormContext();\n\n  const fieldState = getFieldState(fieldContext.name, formState);\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\");\n  }\n\n  const { id } = itemContext;\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  };\n};\n\ntype FormItemContextValue = {\n  id: string;\n};\n\nconst FormItemContext = React.createContext<FormItemContextValue>({} as FormItemContextValue);\n\nconst FormItem = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => {\n    const id = React.useId();\n\n    return (\n      <FormItemContext.Provider value={{ id }}>\n        <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n      </FormItemContext.Provider>\n    );\n  },\n);\nFormItem.displayName = \"FormItem\";\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField();\n\n  return <Label ref={ref} className={cn(error && \"text-destructive\", className)} htmlFor={formItemId} {...props} />;\n});\nFormLabel.displayName = \"FormLabel\";\n\nconst FormControl = React.forwardRef<React.ElementRef<typeof Slot>, React.ComponentPropsWithoutRef<typeof Slot>>(\n  ({ ...props }, ref) => {\n    const { error, formItemId, formDescriptionId, formMessageId } = useFormField();\n\n    return (\n      <Slot\n        ref={ref}\n        id={formItemId}\n        aria-describedby={!error ? `${formDescriptionId}` : `${formDescriptionId} ${formMessageId}`}\n        aria-invalid={!!error}\n        {...props}\n      />\n    );\n  },\n);\nFormControl.displayName = \"FormControl\";\n\nconst FormDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, ...props }, ref) => {\n    const { formDescriptionId } = useFormField();\n\n    return <p ref={ref} id={formDescriptionId} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />;\n  },\n);\nFormDescription.displayName = \"FormDescription\";\n\nconst FormMessage = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, children, ...props }, ref) => {\n    const { error, formMessageId } = useFormField();\n    const body = error ? String(error?.message) : children;\n\n    if (!body) {\n      return null;\n    }\n\n    return (\n      <p ref={ref} id={formMessageId} className={cn(\"text-sm font-medium text-destructive\", className)} {...props}>\n        {body}\n      </p>\n    );\n  },\n);\nFormMessage.displayName = \"FormMessage\";\n\nexport { useFormField, Form, FormItem, FormLabel, FormControl, FormDescription, FormMessage, FormField };\n","size_bytes":4014},"eslint.config.js":{"content":"import js from \"@eslint/js\";\nimport globals from \"globals\";\nimport reactHooks from \"eslint-plugin-react-hooks\";\nimport reactRefresh from \"eslint-plugin-react-refresh\";\nimport tseslint from \"typescript-eslint\";\n\nexport default tseslint.config(\n  { ignores: [\"dist\"] },\n  {\n    extends: [js.configs.recommended, ...tseslint.configs.recommended],\n    files: [\"**/*.{ts,tsx}\"],\n    languageOptions: {\n      ecmaVersion: 2020,\n      globals: globals.browser,\n    },\n    plugins: {\n      \"react-hooks\": reactHooks,\n      \"react-refresh\": reactRefresh,\n    },\n    rules: {\n      ...reactHooks.configs.recommended.rules,\n      \"react-refresh/only-export-components\": [\"warn\", { allowConstantExport: true }],\n      \"@typescript-eslint/no-unused-vars\": \"off\",\n    },\n  },\n);\n","size_bytes":765},"src/components/ui/avatar.tsx":{"content":"import * as React from \"react\";\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\", className)}\n    {...props}\n  />\n));\nAvatar.displayName = AvatarPrimitive.Root.displayName;\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image ref={ref} className={cn(\"aspect-square h-full w-full\", className)} {...props} />\n));\nAvatarImage.displayName = AvatarPrimitive.Image.displayName;\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\"flex h-full w-full items-center justify-center rounded-full bg-muted\", className)}\n    {...props}\n  />\n));\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName;\n\nexport { Avatar, AvatarImage, AvatarFallback };\n","size_bytes":1365},"src/components/ui/dialog.tsx":{"content":"import * as React from \"react\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { X } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Dialog = DialogPrimitive.Root;\n\nconst DialogTrigger = DialogPrimitive.Trigger;\n\nconst DialogPortal = DialogPrimitive.Portal;\n\nconst DialogClose = DialogPrimitive.Close;\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className,\n    )}\n    {...props}\n  />\n));\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n));\nDialogContent.displayName = DialogPrimitive.Content.displayName;\n\nconst DialogHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col space-y-1.5 text-center sm:text-left\", className)} {...props} />\n);\nDialogHeader.displayName = \"DialogHeader\";\n\nconst DialogFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)} {...props} />\n);\nDialogFooter.displayName = \"DialogFooter\";\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n));\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n};\n","size_bytes":3761},"src/components/ui/progress.tsx":{"content":"import * as React from \"react\";\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\"relative h-4 w-full overflow-hidden rounded-full bg-secondary\", className)}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n));\nProgress.displayName = ProgressPrimitive.Root.displayName;\n\nexport { Progress };\n","size_bytes":765},"src/integrations/supabase/client.ts":{"content":"import { createClient } from '@supabase/supabase-js';\nimport type { Database } from './types';\n\nconst SUPABASE_URL = import.meta.env.VITE_SUPABASE_URL || \"https://dwaxejcqvtkeavngwrzk.supabase.co\";\nconst SUPABASE_PUBLISHABLE_KEY = import.meta.env.VITE_SUPABASE_ANON_KEY || \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR3YXhlamNxdnRrZWF2bmd3cnprIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM0NDY2NTIsImV4cCI6MjA3OTAyMjY1Mn0.o5kO7P4lpnQU8brNliTORSYBZPOwdt8anp9RvuCM6Uo\";\n\n// Import the supabase client like this:\n// import { supabase } from \"@/integrations/supabase/client\";\n\nexport const supabase = createClient<Database>(SUPABASE_URL, SUPABASE_PUBLISHABLE_KEY, {\n  auth: {\n    storage: localStorage,\n    persistSession: true,\n    autoRefreshToken: true,\n  }\n});","size_bytes":777},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n};\n","size_bytes":81},"src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App.tsx\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":161},"src/components/ui/sonner.tsx":{"content":"import { useTheme } from \"next-themes\";\nimport { Toaster as Sonner, toast } from \"sonner\";\n\ntype ToasterProps = React.ComponentProps<typeof Sonner>;\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const { theme = \"system\" } = useTheme();\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps[\"theme\"]}\n      className=\"toaster group\"\n      toastOptions={{\n        classNames: {\n          toast:\n            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n          description: \"group-[.toast]:text-muted-foreground\",\n          actionButton: \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n          cancelButton: \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n        },\n      }}\n      {...props}\n    />\n  );\n};\n\nexport { Toaster, toast };\n","size_bytes":877},"src/App.css":{"content":"#root {\n  max-width: 1280px;\n  margin: 0 auto;\n  padding: 2rem;\n  text-align: center;\n}\n\n.logo {\n  height: 6em;\n  padding: 1.5em;\n  will-change: filter;\n  transition: filter 300ms;\n}\n.logo:hover {\n  filter: drop-shadow(0 0 2em #646cffaa);\n}\n.logo.react:hover {\n  filter: drop-shadow(0 0 2em #61dafbaa);\n}\n\n@keyframes logo-spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  a:nth-of-type(2) .logo {\n    animation: logo-spin infinite 20s linear;\n  }\n}\n\n.card {\n  padding: 2em;\n}\n\n.read-the-docs {\n  color: #888;\n}\n","size_bytes":606},"src/pages/Admin.tsx":{"content":"import { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { User, Session } from \"@supabase/supabase-js\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Button } from \"@/components/ui/button\";\nimport { LogOut, Package, ShoppingCart, Users, MessageSquare } from \"lucide-react\";\nimport ProductsTab from \"@/components/admin/ProductsTab\";\nimport OrdersTab from \"@/components/admin/OrdersTab\";\nimport UsersTab from \"@/components/admin/UsersTab\";\nimport BroadcastTab from \"@/components/admin/BroadcastTab\";\n\nconst Admin = () => {\n  const navigate = useNavigate();\n  const [user, setUser] = useState<User | null>(null);\n  const [session, setSession] = useState<Session | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [isAdmin, setIsAdmin] = useState(false);\n\n  useEffect(() => {\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\n      (event, session) => {\n        setSession(session);\n        setUser(session?.user ?? null);\n        if (!session?.user) {\n          navigate(\"/auth\");\n        }\n      }\n    );\n\n    supabase.auth.getSession().then(({ data: { session } }) => {\n      setSession(session);\n      setUser(session?.user ?? null);\n      if (!session?.user) {\n        navigate(\"/auth\");\n      } else {\n        checkAdminStatus(session.user.id);\n      }\n      setLoading(false);\n    });\n\n    return () => subscription.unsubscribe();\n  }, [navigate]);\n\n  const checkAdminStatus = async (userId: string) => {\n    const { data } = await supabase\n      .from(\"user_roles\")\n      .select(\"role\")\n      .eq(\"user_id\", userId)\n      .eq(\"role\", \"admin\")\n      .maybeSingle();\n    \n    setIsAdmin(!!data);\n  };\n\n  const handleSignOut = async () => {\n    await supabase.auth.signOut();\n    navigate(\"/auth\");\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-background\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\n      </div>\n    );\n  }\n\n  if (!isAdmin) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-background p-4\">\n        <div className=\"text-center max-w-md\">\n          <h1 className=\"text-2xl font-bold text-foreground mb-4\">Access Denied</h1>\n          <p className=\"text-muted-foreground mb-6\">You don't have admin permissions. Please contact the administrator.</p>\n          <Button onClick={handleSignOut} variant=\"outline\">\n            <LogOut className=\"w-4 h-4 mr-2\" />\n            Sign Out\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-background via-secondary to-background\">\n      <header className=\"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-10\">\n        <div className=\"container mx-auto px-4 py-4 flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-xl bg-gradient-primary flex items-center justify-center shadow-soft\">\n              <Package className=\"w-5 h-5 text-primary-foreground\" />\n            </div>\n            <div>\n              <h1 className=\"text-xl font-bold text-foreground\">Order Bot Admin</h1>\n              <p className=\"text-sm text-muted-foreground\">{user?.email}</p>\n            </div>\n          </div>\n          <Button onClick={handleSignOut} variant=\"outline\" size=\"sm\">\n            <LogOut className=\"w-4 h-4 mr-2\" />\n            Sign Out\n          </Button>\n        </div>\n      </header>\n\n      <main className=\"container mx-auto px-4 py-8\">\n        <Tabs defaultValue=\"products\" className=\"space-y-6\">\n          <TabsList className=\"grid w-full grid-cols-4 bg-card border border-border rounded-xl p-1\">\n            <TabsTrigger value=\"products\" className=\"rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground\">\n              <Package className=\"w-4 h-4 mr-2\" />\n              Products\n            </TabsTrigger>\n            <TabsTrigger value=\"orders\" className=\"rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground\">\n              <ShoppingCart className=\"w-4 h-4 mr-2\" />\n              Orders\n            </TabsTrigger>\n            <TabsTrigger value=\"users\" className=\"rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground\">\n              <Users className=\"w-4 h-4 mr-2\" />\n              Users\n            </TabsTrigger>\n            <TabsTrigger value=\"broadcast\" className=\"rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground\">\n              <MessageSquare className=\"w-4 h-4 mr-2\" />\n              Broadcast\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"products\" className=\"mt-6\">\n            <ProductsTab />\n          </TabsContent>\n\n          <TabsContent value=\"orders\" className=\"mt-6\">\n            <OrdersTab />\n          </TabsContent>\n\n          <TabsContent value=\"users\" className=\"mt-6\">\n            <UsersTab />\n          </TabsContent>\n\n          <TabsContent value=\"broadcast\" className=\"mt-6\">\n            <BroadcastTab />\n          </TabsContent>\n        </Tabs>\n      </main>\n    </div>\n  );\n};\n\nexport default Admin;","size_bytes":5368},"src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\";\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\";\n\nimport { cn } from \"@/lib/utils\";\nimport { buttonVariants } from \"@/components/ui/button\";\n\nconst AlertDialog = AlertDialogPrimitive.Root;\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger;\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal;\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className,\n    )}\n    {...props}\n    ref={ref}\n  />\n));\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName;\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className,\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n));\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName;\n\nconst AlertDialogHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col space-y-2 text-center sm:text-left\", className)} {...props} />\n);\nAlertDialogHeader.displayName = \"AlertDialogHeader\";\n\nconst AlertDialogFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)} {...props} />\n);\nAlertDialogFooter.displayName = \"AlertDialogFooter\";\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title ref={ref} className={cn(\"text-lg font-semibold\", className)} {...props} />\n));\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName;\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n));\nAlertDialogDescription.displayName = AlertDialogPrimitive.Description.displayName;\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action ref={ref} className={cn(buttonVariants(), className)} {...props} />\n));\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName;\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(buttonVariants({ variant: \"outline\" }), \"mt-2 sm:mt-0\", className)}\n    {...props}\n  />\n));\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName;\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n};\n","size_bytes":4313},"src/pages/Index.tsx":{"content":"import { Link } from \"react-router-dom\";\nimport { Button } from \"@/components/ui/button\";\nimport { Package, ShoppingCart, Users, MessageSquare, ArrowRight } from \"lucide-react\";\n\nconst Index = () => {\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-background via-secondary to-background\">\n      <div className=\"container mx-auto px-4 py-16\">\n        <div className=\"text-center max-w-3xl mx-auto space-y-8\">\n          <div className=\"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-gradient-primary shadow-medium mb-4\">\n            <Package className=\"w-10 h-10 text-primary-foreground\" />\n          </div>\n          \n          <h1 className=\"text-5xl font-bold text-foreground\">\n            Telegram Order Bot\n          </h1>\n          \n          <p className=\"text-xl text-muted-foreground max-w-2xl mx-auto\">\n            Professional order management system for your Telegram bot. Manage products, process orders, and engage with customers.\n          </p>\n\n          <div className=\"flex flex-col sm:flex-row gap-4 justify-center pt-4\">\n            <Button asChild size=\"lg\" className=\"bg-gradient-primary shadow-soft text-lg\">\n              <Link to=\"/auth\">\n                Get Started\n                <ArrowRight className=\"ml-2 w-5 h-5\" />\n              </Link>\n            </Button>\n            <Button asChild size=\"lg\" variant=\"outline\">\n              <Link to=\"/auth\">Admin Login</Link>\n            </Button>\n          </div>\n\n          <div className=\"grid md:grid-cols-4 gap-6 pt-12\">\n            <div className=\"p-6 rounded-xl bg-card border border-border shadow-soft\">\n              <Package className=\"w-8 h-8 text-primary mb-3\" />\n              <h3 className=\"font-semibold text-foreground mb-2\">Products</h3>\n              <p className=\"text-sm text-muted-foreground\">Manage inventory with ease</p>\n            </div>\n            <div className=\"p-6 rounded-xl bg-card border border-border shadow-soft\">\n              <ShoppingCart className=\"w-8 h-8 text-primary mb-3\" />\n              <h3 className=\"font-semibold text-foreground mb-2\">Orders</h3>\n              <p className=\"text-sm text-muted-foreground\">Track and approve orders</p>\n            </div>\n            <div className=\"p-6 rounded-xl bg-card border border-border shadow-soft\">\n              <Users className=\"w-8 h-8 text-primary mb-3\" />\n              <h3 className=\"font-semibold text-foreground mb-2\">Users</h3>\n              <p className=\"text-sm text-muted-foreground\">Manage customer accounts</p>\n            </div>\n            <div className=\"p-6 rounded-xl bg-card border border-border shadow-soft\">\n              <MessageSquare className=\"w-8 h-8 text-primary mb-3\" />\n              <h3 className=\"font-semibold text-foreground mb-2\">Broadcast</h3>\n              <p className=\"text-sm text-muted-foreground\">Reach all customers instantly</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Index;\n","size_bytes":2978},"src/components/ui/hover-card.tsx":{"content":"import * as React from \"react\";\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst HoverCard = HoverCardPrimitive.Root;\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger;\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className,\n    )}\n    {...props}\n  />\n));\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName;\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent };\n","size_bytes":1193},"src/components/admin/ProductDialog.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { toast } from \"sonner\";\n\ninterface Product {\n  id: string;\n  product_id: string;\n  name: string;\n  description: string | null;\n  price: number;\n  stock: number;\n  image_url: string | null;\n  is_active: boolean;\n}\n\ninterface ProductDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  product: Product | null;\n  onSuccess: () => void;\n}\n\nconst ProductDialog = ({ open, onOpenChange, product, onSuccess }: ProductDialogProps) => {\n  const [formData, setFormData] = useState({\n    product_id: \"\",\n    name: \"\",\n    description: \"\",\n    price: \"\",\n    stock: \"\",\n    image_url: \"\",\n    is_active: true\n  });\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (product) {\n      setFormData({\n        product_id: product.product_id,\n        name: product.name,\n        description: product.description || \"\",\n        price: product.price.toString(),\n        stock: product.stock.toString(),\n        image_url: product.image_url || \"\",\n        is_active: product.is_active\n      });\n    } else {\n      setFormData({\n        product_id: \"\",\n        name: \"\",\n        description: \"\",\n        price: \"\",\n        stock: \"\",\n        image_url: \"\",\n        is_active: true\n      });\n    }\n  }, [product, open]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n\n    const productData = {\n      product_id: formData.product_id,\n      name: formData.name,\n      description: formData.description || null,\n      price: parseFloat(formData.price),\n      stock: parseInt(formData.stock),\n      image_url: formData.image_url || null,\n      is_active: formData.is_active\n    };\n\n    let error;\n    if (product) {\n      ({ error } = await supabase\n        .from(\"products\")\n        .update(productData)\n        .eq(\"id\", product.id));\n    } else {\n      ({ error } = await supabase\n        .from(\"products\")\n        .insert([productData]));\n    }\n\n    if (error) {\n      toast.error(product ? \"Failed to update product\" : \"Failed to create product\");\n    } else {\n      toast.success(product ? \"Product updated successfully\" : \"Product created successfully\");\n      onSuccess();\n      onOpenChange(false);\n    }\n\n    setLoading(false);\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-md max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle>{product ? \"Edit Product\" : \"Create Product\"}</DialogTitle>\n        </DialogHeader>\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"product_id\">Product ID</Label>\n            <Input\n              id=\"product_id\"\n              value={formData.product_id}\n              onChange={(e) => setFormData({ ...formData, product_id: e.target.value })}\n              placeholder=\"e.g., D1, A2\"\n              required\n              disabled={!!product}\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"name\">Name</Label>\n            <Input\n              id=\"name\"\n              value={formData.name}\n              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n              required\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"description\">Description</Label>\n            <Textarea\n              id=\"description\"\n              value={formData.description}\n              onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n              rows={3}\n            />\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"price\">Price</Label>\n              <Input\n                id=\"price\"\n                type=\"number\"\n                step=\"0.01\"\n                min=\"0\"\n                value={formData.price}\n                onChange={(e) => setFormData({ ...formData, price: e.target.value })}\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"stock\">Stock</Label>\n              <Input\n                id=\"stock\"\n                type=\"number\"\n                min=\"0\"\n                value={formData.stock}\n                onChange={(e) => setFormData({ ...formData, stock: e.target.value })}\n                required\n              />\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"image_url\">Image URL</Label>\n            <Input\n              id=\"image_url\"\n              type=\"url\"\n              value={formData.image_url}\n              onChange={(e) => setFormData({ ...formData, image_url: e.target.value })}\n              placeholder=\"https://example.com/image.jpg\"\n            />\n          </div>\n\n          <div className=\"flex items-center space-x-2\">\n            <Switch\n              id=\"is_active\"\n              checked={formData.is_active}\n              onCheckedChange={(checked) => setFormData({ ...formData, is_active: checked })}\n            />\n            <Label htmlFor=\"is_active\">Active</Label>\n          </div>\n\n          <div className=\"flex gap-3 pt-4\">\n            <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)} className=\"flex-1\">\n              Cancel\n            </Button>\n            <Button type=\"submit\" disabled={loading} className=\"flex-1 bg-gradient-primary\">\n              {loading ? \"Saving...\" : (product ? \"Update\" : \"Create\")}\n            </Button>\n          </div>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default ProductDialog;","size_bytes":6113},"src/components/ui/tooltip.tsx":{"content":"import * as React from \"react\";\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst TooltipProvider = TooltipPrimitive.Provider;\n\nconst Tooltip = TooltipPrimitive.Root;\n\nconst TooltipTrigger = TooltipPrimitive.Trigger;\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className,\n    )}\n    {...props}\n  />\n));\nTooltipContent.displayName = TooltipPrimitive.Content.displayName;\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };\n","size_bytes":1155},"src/components/ui/chart.tsx":{"content":"import * as React from \"react\";\nimport * as RechartsPrimitive from \"recharts\";\n\nimport { cn } from \"@/lib/utils\";\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const;\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode;\n    icon?: React.ComponentType;\n  } & ({ color?: string; theme?: never } | { color?: never; theme: Record<keyof typeof THEMES, string> });\n};\n\ntype ChartContextProps = {\n  config: ChartConfig;\n};\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null);\n\nfunction useChart() {\n  const context = React.useContext(ChartContext);\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\");\n  }\n\n  return context;\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig;\n    children: React.ComponentProps<typeof RechartsPrimitive.ResponsiveContainer>[\"children\"];\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId();\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`;\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className,\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>{children}</RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  );\n});\nChartContainer.displayName = \"Chart\";\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(([_, config]) => config.theme || config.color);\n\n  if (!colorConfig.length) {\n    return null;\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color = itemConfig.theme?.[theme as keyof typeof itemConfig.theme] || itemConfig.color;\n    return color ? `  --color-${key}: ${color};` : null;\n  })\n  .join(\"\\n\")}\n}\n`,\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  );\n};\n\nconst ChartTooltip = RechartsPrimitive.Tooltip;\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean;\n      hideIndicator?: boolean;\n      indicator?: \"line\" | \"dot\" | \"dashed\";\n      nameKey?: string;\n      labelKey?: string;\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref,\n  ) => {\n    const { config } = useChart();\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null;\n      }\n\n      const [item] = payload;\n      const key = `${labelKey || item.dataKey || item.name || \"value\"}`;\n      const itemConfig = getPayloadConfigFromPayload(config, item, key);\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label;\n\n      if (labelFormatter) {\n        return <div className={cn(\"font-medium\", labelClassName)}>{labelFormatter(value, payload)}</div>;\n      }\n\n      if (!value) {\n        return null;\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>;\n    }, [label, labelFormatter, payload, hideLabel, labelClassName, config, labelKey]);\n\n    if (!active || !payload?.length) {\n      return null;\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\";\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className,\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`;\n            const itemConfig = getPayloadConfigFromPayload(config, item, key);\n            const indicatorColor = color || item.payload.fill || item.color;\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\",\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\", {\n                            \"h-2.5 w-2.5\": indicator === \"dot\",\n                            \"w-1\": indicator === \"line\",\n                            \"w-0 border-[1.5px] border-dashed bg-transparent\": indicator === \"dashed\",\n                            \"my-0.5\": nestLabel && indicator === \"dashed\",\n                          })}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\",\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">{itemConfig?.label || item.name}</span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  },\n);\nChartTooltipContent.displayName = \"ChartTooltip\";\n\nconst ChartLegend = RechartsPrimitive.Legend;\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean;\n      nameKey?: string;\n    }\n>(({ className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey }, ref) => {\n  const { config } = useChart();\n\n  if (!payload?.length) {\n    return null;\n  }\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\"flex items-center justify-center gap-4\", verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\", className)}\n    >\n      {payload.map((item) => {\n        const key = `${nameKey || item.dataKey || \"value\"}`;\n        const itemConfig = getPayloadConfigFromPayload(config, item, key);\n\n        return (\n          <div\n            key={item.value}\n            className={cn(\"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\")}\n          >\n            {itemConfig?.icon && !hideIcon ? (\n              <itemConfig.icon />\n            ) : (\n              <div\n                className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                style={{\n                  backgroundColor: item.color,\n                }}\n              />\n            )}\n            {itemConfig?.label}\n          </div>\n        );\n      })}\n    </div>\n  );\n});\nChartLegendContent.displayName = \"ChartLegend\";\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(config: ChartConfig, payload: unknown, key: string) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined;\n  }\n\n  const payloadPayload =\n    \"payload\" in payload && typeof payload.payload === \"object\" && payload.payload !== null\n      ? payload.payload\n      : undefined;\n\n  let configLabelKey: string = key;\n\n  if (key in payload && typeof payload[key as keyof typeof payload] === \"string\") {\n    configLabelKey = payload[key as keyof typeof payload] as string;\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[key as keyof typeof payloadPayload] as string;\n  }\n\n  return configLabelKey in config ? config[configLabelKey] : config[key as keyof typeof config];\n}\n\nexport { ChartContainer, ChartTooltip, ChartTooltipContent, ChartLegend, ChartLegendContent, ChartStyle };\n","size_bytes":9987},"src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { Check, ChevronRight, Circle } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst DropdownMenu = DropdownMenuPrimitive.Root;\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger;\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group;\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal;\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub;\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup;\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean;\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </DropdownMenuPrimitive.SubTrigger>\n));\nDropdownMenuSubTrigger.displayName = DropdownMenuPrimitive.SubTrigger.displayName;\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuSubContent.displayName = DropdownMenuPrimitive.SubContent.displayName;\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className,\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n));\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName;\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n));\nDropdownMenuCheckboxItem.displayName = DropdownMenuPrimitive.CheckboxItem.displayName;\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n));\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName;\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", inset && \"pl-8\", className)}\n    {...props}\n  />\n));\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName;\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator ref={ref} className={cn(\"-mx-1 my-1 h-px bg-muted\", className)} {...props} />\n));\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName;\n\nconst DropdownMenuShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {\n  return <span className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)} {...props} />;\n};\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\";\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n};\n","size_bytes":7260},"src/components/ui/menubar.tsx":{"content":"import * as React from \"react\";\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\";\nimport { Check, ChevronRight, Circle } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst MenubarMenu = MenubarPrimitive.Menu;\n\nconst MenubarGroup = MenubarPrimitive.Group;\n\nconst MenubarPortal = MenubarPrimitive.Portal;\n\nconst MenubarSub = MenubarPrimitive.Sub;\n\nconst MenubarRadioGroup = MenubarPrimitive.RadioGroup;\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\", className)}\n    {...props}\n  />\n));\nMenubar.displayName = MenubarPrimitive.Root.displayName;\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none data-[state=open]:bg-accent data-[state=open]:text-accent-foreground focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    {...props}\n  />\n));\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName;\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean;\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent data-[state=open]:text-accent-foreground focus:bg-accent focus:text-accent-foreground\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n));\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName;\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className,\n    )}\n    {...props}\n  />\n));\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName;\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(({ className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props }, ref) => (\n  <MenubarPrimitive.Portal>\n    <MenubarPrimitive.Content\n      ref={ref}\n      align={align}\n      alignOffset={alignOffset}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className,\n      )}\n      {...props}\n    />\n  </MenubarPrimitive.Portal>\n));\nMenubarContent.displayName = MenubarPrimitive.Content.displayName;\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  />\n));\nMenubarItem.displayName = MenubarPrimitive.Item.displayName;\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n));\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName;\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n));\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName;\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", inset && \"pl-8\", className)}\n    {...props}\n  />\n));\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName;\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator ref={ref} className={cn(\"-mx-1 my-1 h-px bg-muted\", className)} {...props} />\n));\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName;\n\nconst MenubarShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {\n  return <span className={cn(\"ml-auto text-xs tracking-widest text-muted-foreground\", className)} {...props} />;\n};\nMenubarShortcut.displayname = \"MenubarShortcut\";\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n};\n","size_bytes":7863},"BOT_FEATURES.md":{"content":"# ü§ñ Telegram Order Bot - Complete Feature List\n\n## ‚úÖ Implemented Features\n\n### 1. Product Browsing\n\n#### A. Global Menu (`/start`)\n- Welcome message with main menu\n- **\"Check Products\"** button shows paginated product list\n- **Pagination** - Shows 5 products per page with Previous/Next buttons\n- **\"My Orders\"** button to view order history\n- **\"Help\"** button for instructions\n\n#### B. Deep Linking\n- Each product has a unique deep-link: `https://t.me/YOUR_BOT?start=PRODUCT_ID`\n- Clicking the link instantly shows product details\n- Direct \"Order This Product\" button\n\n### 2. Product Details Page\nShows:\n- ‚úÖ Product Name\n- ‚úÖ Product ID\n- ‚úÖ Product Description\n- ‚úÖ Product Price\n- ‚úÖ Stock Left\n- ‚úÖ **\"Order Now\"** button\n- ‚úÖ **\"Back to Products\"** button\n\n### 3. Complete Order Flow\n\n#### Step 1: Quantity Input\n- User enters quantity (1 to available stock)\n- Input validation (must be a valid number)\n- Shows error if quantity is invalid\n\n#### Step 2: Add More Products\n- Inline buttons: **\"Yes, Add More\"** / **\"No, Continue to Checkout\"**\n- If Yes: Returns to product list, items stay in cart\n- If No: Proceeds to customer details\n- **Multi-product cart support**\n\n#### Step 3: Customer Name\n- User enters full name\n- Confirmation: **\"Your name: [NAME]\"**\n- Buttons: **\"Correct\"** / **\"Wrong (Edit)\"**\n- If wrong: Re-enter name\n\n#### Step 4: Phone Number\n- User enters phone number\n- Confirmation: **\"Your phone: [PHONE]\"**\n- Buttons: **\"Correct\"** / **\"Wrong (Edit)\"**\n- If wrong: Re-enter phone\n\n#### Step 5: Complete Address Collection\nCollects in order:\n1. House/Building Number\n2. Street Name\n3. Ward (Quarter)\n4. Township\n5. City\n\nThen shows full address with:\n- Buttons: **\"Correct\"** / **\"Wrong (Re-enter)\"**\n- If wrong: Restart address entry\n\n#### Step 6: Delivery Type\nButtons:\n- **üöó Express Cars**\n- **üöö Delivery Company**\n\n#### Step 7: Final Order Confirmation\nShows complete summary:\n- ‚úÖ All items with quantities and prices\n- ‚úÖ Total cost\n- ‚úÖ Customer name, phone, address\n- ‚úÖ Delivery type\n\nButtons:\n- **\"Yes, Confirm\"** - Proceed to payment\n- **\"No, Edit Details\"** - Shows edit menu:\n  - Edit Name\n  - Edit Phone\n  - Edit Address\n  - Edit Products\n  - Edit Delivery Type\n\n#### Step 8: Payment Page\nShows:\n```\nüí≥ Payment Details\n\nKpay: 09883249943\nWave Pay: 09883249943\n```\n\n- Total amount displayed\n- Instructions to upload payment screenshot\n- User uploads payment photo\n\n#### Step 9: Order Completion\nOnce screenshot uploaded:\n- ‚úÖ Order saved to Supabase database\n- ‚úÖ **PDF receipt generated** with complete order details\n- ‚úÖ PDF sent to customer\n- ‚úÖ Success message with Order ID\n\n### 4. Admin Approval System\n\nIf `ADMIN_CHANNEL_ID` is configured, sends to admin channel:\n\n**Message includes:**\n- üìù Order ID\n- üë§ Customer name, phone, address\n- üõí Complete item list\n- üí∞ Total cost\n- üöö Delivery type\n- üì∏ Payment screenshot\n- üìÑ PDF receipt\n\n**Inline Buttons:**\n- ‚úÖ **Approve** - Customer receives: \"Your order has been sent to delivery\"\n- ‚ùå **Reject** - Customer receives: \"Your order was rejected. Contact admin\"\n\n### 5. Database Integration (Supabase)\n\n#### Tables Used:\n- **products** - Product catalog with stock management\n- **orders** - All order records with status tracking\n- **profiles** - User profiles with ban status\n- **user_roles** - Admin role management (for web panel)\n- **broadcast_messages** - Message history (for web panel)\n\n#### Features:\n- Automatic order string generation\n- JSON storage for cart items and addresses\n- User profile creation on first order\n- Ban status checking\n\n### 6. Additional Features\n\n#### Commands:\n- `/start` - Start the bot / show main menu\n- `/orders` - View order history (last 10 orders)\n- `/help` - Show help information\n- `/cancel` - Cancel current operation\n\n#### Order History:\n- Shows last 10 orders\n- Status icons: ‚è≥ Pending, ‚úÖ Approved, ‚ùå Rejected, üì¶ Delivered\n- Order ID, status, total, and date\n\n#### Security:\n- Ban check on every `/start`\n- Banned users cannot use the bot\n- Input validation throughout\n\n#### PDF Receipt:\n- Professional format with all order details\n- Includes customer info, items, total, delivery type\n- Sent to both customer and admin\n\n## üìã Configuration\n\n### Required Environment Variables:\n```bash\nTELEGRAM_BOT_TOKEN=your_bot_token_from_botfather\nSUPABASE_URL=https://your-project.supabase.co\nSUPABASE_ANON_KEY=your_supabase_anon_key\n```\n\n### Optional:\n```bash\nADMIN_CHANNEL_ID=-1001234567890  # Your admin channel/group ID\n```\n\nTo get Admin Channel ID:\n1. Create a channel or group\n2. Add your bot as admin\n3. Forward any message from the channel to @userinfobot\n4. Copy the channel ID (starts with -100)\n\n### Payment Details:\nEdit in `bot/telegram_bot.py` line 29-35:\n```python\nPAYMENT_DETAILS = \"\"\"\nüí≥ **Payment Details**\n\n**Kpay:** 09883249943\n**Wave Pay:** 09883249943\n```\n\n## üîß How to Use\n\n### For Customers:\n1. Open bot and send `/start`\n2. Click \"Check Products\"\n3. Browse products (use pagination)\n4. Click on a product to see details\n5. Click \"Order Now\"\n6. Enter quantity\n7. Add more products or continue\n8. Fill in name (confirm)\n9. Fill in phone (confirm)\n10. Fill in complete address (confirm)\n11. Select delivery type\n12. Review final order (edit if needed)\n13. Upload payment screenshot\n14. Receive PDF receipt\n15. Wait for admin approval\n\n### For Admins (if channel configured):\n1. Receive order notification in admin channel\n2. Review order details and payment screenshot\n3. Click \"Approve\" or \"Reject\"\n4. Customer automatically notified\n\n### Product Sharing:\nGenerate deep links for products:\n```\nhttps://t.me/YOUR_BOT_USERNAME?start=PRODUCT_ID\n```\n\nExample: `https://t.me/orderbot?start=A1`\n\n## üìä Features Comparison\n\n| Feature | Status |\n|---------|--------|\n| Deep linking with product IDs | ‚úÖ Yes |\n| Pagination for products | ‚úÖ Yes (5 per page) |\n| Multi-product cart | ‚úÖ Yes |\n| Quantity validation | ‚úÖ Yes |\n| Name confirmation | ‚úÖ Yes |\n| Phone confirmation | ‚úÖ Yes |\n| Address confirmation | ‚úÖ Yes |\n| Delivery type selection | ‚úÖ Yes |\n| Final order confirmation | ‚úÖ Yes |\n| Edit order details | ‚úÖ Yes (all fields) |\n| Payment details display | ‚úÖ Yes (Kpay/Wave Pay) |\n| Payment screenshot upload | ‚úÖ Yes |\n| PDF receipt generation | ‚úÖ Yes |\n| Send PDF to customer | ‚úÖ Yes |\n| Admin channel notifications | ‚úÖ Yes |\n| Approve/Reject buttons | ‚úÖ Yes |\n| Customer auto-notification | ‚úÖ Yes |\n| Order history | ‚úÖ Yes |\n| Ban system | ‚úÖ Yes |\n| Supabase integration | ‚úÖ Yes |\n| Safe input validation | ‚úÖ Yes |\n| Error handling | ‚úÖ Yes |\n\n## üéØ All Requirements Met!\n\nThis bot implementation includes **every feature** from your specification:\n\n‚úÖ Global menu with \"Check Products\"  \n‚úÖ Paginated product list  \n‚úÖ Deep linking (t.me/bot?start=PRODUCT_ID)  \n‚úÖ Product details page with all info  \n‚úÖ Complete order flow with all steps  \n‚úÖ Quantity validation  \n‚úÖ \"Add more products\" option  \n‚úÖ Name/Phone/Address confirmations  \n‚úÖ Complete address collection (house, street, ward, township, city)  \n‚úÖ Delivery type selection  \n‚úÖ Final order confirmation with edit options  \n‚úÖ Payment details display (Kpay/Wave Pay)  \n‚úÖ Payment screenshot upload  \n‚úÖ PDF receipt generation  \n‚úÖ Order saved to database  \n‚úÖ Admin channel notifications  \n‚úÖ Approve/Reject buttons  \n‚úÖ Customer auto-notifications  \n‚úÖ Order history viewing  \n‚úÖ Ban system  \n‚úÖ Inline keyboards everywhere  \n‚úÖ State machine/session management  \n‚úÖ Clean, scalable code structure  \n\n## üöÄ Ready to Use!\n\nYour bot is fully functional and ready for production use. Just configure your Supabase database and optionally set up the admin channel for approval workflows.\n","size_bytes":7728},"setup_admin.py":{"content":"#!/usr/bin/env python3\n\"\"\"\nSetup script to create admin user for the Telegram Order Bot web interface\n\"\"\"\nimport os\nfrom supabase import create_client\nfrom dotenv import load_dotenv\n\nload_dotenv()\n\ndef setup_admin():\n    # Get credentials\n    supabase_url = os.getenv(\"SUPABASE_URL\")\n    service_role_key = os.getenv(\"SUPABASE_SERVICE_ROLE_KEY\")\n    \n    if not supabase_url or not service_role_key:\n        print(\"‚ùå Error: SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY must be set\")\n        print(\"\\nüìù To fix this:\")\n        print(\"1. Go to your Supabase dashboard: https://supabase.com/dashboard\")\n        print(\"2. Select your project\")\n        print(\"3. Go to Settings ‚Üí API\")\n        print(\"4. Copy the 'service_role' key\")\n        print(\"5. Add it to your Replit Secrets as SUPABASE_SERVICE_ROLE_KEY\")\n        return False\n    \n    # Get admin credentials from environment variables\n    admin_email = os.getenv(\"ADMIN_EMAIL\")\n    admin_password = os.getenv(\"ADMIN_PASSWORD\")\n    \n    if not admin_email or not admin_password:\n        print(\"‚ùå Error: ADMIN_EMAIL and ADMIN_PASSWORD must be set\")\n        print(\"\\nüìù Please add these to your Replit Secrets:\")\n        print(\"   - ADMIN_EMAIL: Your admin email address\")\n        print(\"   - ADMIN_PASSWORD: Your admin password\")\n        return False\n    \n    print(\"üîß Setting up admin user...\")\n    print(f\"üìß Email: {admin_email}\")\n    \n    try:\n        # Create Supabase client with service role key\n        supabase = create_client(supabase_url, service_role_key)\n        \n        # Create the admin user\n        print(\"\\n1Ô∏è‚É£ Creating admin user...\")\n        user_response = supabase.auth.admin.create_user({\n            \"email\": admin_email,\n            \"password\": admin_password,\n            \"email_confirm\": True,  # Auto-confirm email\n            \"user_metadata\": {\n                \"full_name\": \"Admin User\",\n                \"role\": \"admin\"\n            }\n        })\n        \n        if user_response.user:\n            user_id = user_response.user.id\n            print(f\"‚úÖ User created successfully! User ID: {user_id}\")\n            \n            # Add admin role to user_roles table\n            print(\"\\n2Ô∏è‚É£ Granting admin permissions...\")\n            role_response = supabase.table(\"user_roles\").insert({\n                \"user_id\": user_id,\n                \"role\": \"admin\"\n            }).execute()\n            \n            if role_response.data:\n                print(\"‚úÖ Admin role granted successfully!\")\n                print(\"\\nüéâ Setup complete!\")\n                print(f\"\\nüåê You can now login at your web app /auth page with:\")\n                print(f\"   Email: {admin_email}\")\n                print(f\"   Password: {admin_password}\")\n                return True\n            else:\n                print(\"‚ö†Ô∏è User created but role assignment failed\")\n                print(f\"Error: {role_response}\")\n                return False\n        else:\n            print(\"‚ùå Failed to create user\")\n            print(f\"Response: {user_response}\")\n            return False\n            \n    except Exception as e:\n        error_msg = str(e)\n        if \"already registered\" in error_msg.lower() or \"duplicate\" in error_msg.lower():\n            print(\"‚ö†Ô∏è User already exists!\")\n            print(\"You can login with your existing credentials at /auth\")\n            return True\n        else:\n            print(f\"‚ùå Error: {error_msg}\")\n            return False\n\nif __name__ == \"__main__\":\n    print(\"=\"*60)\n    print(\"  Telegram Order Bot - Admin Setup\")\n    print(\"=\"*60)\n    success = setup_admin()\n    print(\"=\"*60)\n    if not success:\n        exit(1)\n","size_bytes":3643},"src/components/ui/select.tsx":{"content":"import * as React from \"react\";\nimport * as SelectPrimitive from \"@radix-ui/react-select\";\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Select = SelectPrimitive.Root;\n\nconst SelectGroup = SelectPrimitive.Group;\n\nconst SelectValue = SelectPrimitive.Value;\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n));\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName;\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n));\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n));\nSelectScrollDownButton.displayName = SelectPrimitive.ScrollDownButton.displayName;\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className,\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\",\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n));\nSelectContent.displayName = SelectPrimitive.Content.displayName;\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label ref={ref} className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)} {...props} />\n));\nSelectLabel.displayName = SelectPrimitive.Label.displayName;\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n));\nSelectItem.displayName = SelectPrimitive.Item.displayName;\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator ref={ref} className={cn(\"-mx-1 my-1 h-px bg-muted\", className)} {...props} />\n));\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName;\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n};\n","size_bytes":5575},"replit.md":{"content":"# Telegram Order Bot with Admin Panel\n\n## Overview\n\nA full-stack order management system consisting of a React-based web admin panel and a Python Telegram bot for customer interactions. The admin panel provides product management, order processing, user management, and broadcast messaging capabilities. The Telegram bot enables customers to browse products, place orders with a guided flow, upload payment screenshots, and track order status. The system uses Supabase for authentication, database, and file storage.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## Recent Changes\n\n**November 19, 2025 (Latest)**\n- **Simplified order flow**: Removed Supabase storage for payment screenshots - screenshots now only sent to admin Telegram channel\n- **Payment screenshot forwarding**: Orders + payment screenshots + PDF receipts are forwarded directly to admin Telegram channel (ADMIN_CHANNEL_ID)\n- **Cleaned Admin Panel**: Removed payment screenshot viewing from web interface - admins view all order details in Telegram channel\n- **Database optimization**: Removed payment_image_url field from order data (no longer stored in database)\n- **Fixed ban check**: Resolved HTTP 406 error when checking user ban status\n- **Deep links verified**: Product sharing via `t.me/yourbot?start=PRODUCT_ID` working correctly\n\n**November 19, 2025 (Earlier)**\n- Fixed payment screenshot duplicate error: Added unique timestamp to storage filenames to prevent duplicate key errors when users retry payment screenshot uploads\n- Removed all $ currency symbols from bot price displays: Prices now show numeric values only throughout the bot (product listings, cart, order summaries, receipts, admin notifications)\n- Previously fixed delivery type bug: Used `.removeprefix()` instead of `.replace()` to prevent enum validation errors\n\n## System Architecture\n\n### Frontend Architecture\n\n**Technology Stack**\n- React 18 with TypeScript for type-safe component development\n- Vite as the build tool, configured to run on host 0.0.0.0:5000 with proxy support for Replit deployments\n- React Router for client-side navigation with a 404 catch-all handler\n\n**UI Components & Styling**\n- Shadcn/ui component library built on Radix UI primitives for accessible, composable components\n- Tailwind CSS with a custom HSL-based color system defined in CSS variables\n- Design tokens include primary, secondary, destructive, success, warning, muted, and accent color schemes\n- Responsive design with mobile-first approach\n\n**State Management**\n- TanStack Query (React Query) for server state management, caching, and data fetching\n- React hooks for local component state\n- Supabase Auth for authentication state\n\n**Admin Panel Features**\n- Product management: Add, edit, delete products with images\n- Order management: View, approve, reject, and mark orders as delivered\n- User management: View user profiles, ban/unban functionality\n- Broadcast messaging: Send announcements to all active users\n- Supabase Auth UI integration for login/signup\n\n### Backend Architecture\n\n**Telegram Bot (Python)**\n- Built with `python-telegram-bot` library for handling Telegram updates\n- Polling-based architecture for receiving messages and callback queries\n- Conversation handler pattern for multi-step order flows\n\n**Bot Features & Flow**\n- Product browsing with pagination (5 products per page)\n- Deep linking support for direct product access (`t.me/BOT?start=PRODUCT_ID`)\n- Multi-step order process: quantity ‚Üí add more products ‚Üí name ‚Üí phone ‚Üí address (house, street, ward, township, city) ‚Üí delivery type ‚Üí payment screenshot\n- Order history viewing\n- Real-time status notifications (pending, approved, rejected, delivered)\n- User ban checking before processing actions\n- PDF generation for order receipts using ReportLab\n\n**Conversation States**\n- QUANTITY: Collecting product quantity\n- ADD_MORE: Option to add more products to cart\n- NAME_CONFIRM/NAME_EDIT: Name collection and verification\n- PHONE_CONFIRM/PHONE_EDIT: Phone number collection and verification\n- HOUSE_NO, STREET, WARD, TOWNSHIP, CITY: Address collection\n- ADDRESS_CONFIRM: Address verification\n- DELIVERY_TYPE: Express Cars or Delivery Company selection\n- PAYMENT_PHOTO: Payment screenshot upload\n- FINAL_CONFIRM: Order confirmation\n\n### Database Architecture (Supabase PostgreSQL)\n\n**Tables**\n- `products`: Product inventory with product_id, name, description, price, stock, image_url, is_active status\n- `orders`: Order records with order_string, telegram_user_id, user details, address (JSON), items (JSON array), total_cost, delivery_type, payment_image_url, status, timestamps\n- `profiles`: User profiles with telegram_user_id, username, phone, is_banned flag\n- `user_roles`: Admin role assignments (user_id, role)\n- `broadcast_messages`: Message history with message content, sent_by, recipient_count\n\n**Row Level Security (RLS)**\n- Enabled on all tables for data protection\n- Service role key used for admin operations\n- Anon key used for public read operations\n\n**Storage Buckets**\n- `payment-screenshots`: Private bucket for payment proof images\n- `product-images`: Public bucket for product photos\n\n**Database Functions**\n- `generate_order_string()`: RPC function for creating unique order identifiers\n\n### Authentication & Authorization\n\n**Supabase Auth**\n- Email/password authentication for admin panel\n- Email confirmation required for new accounts\n- Admin role must be manually granted in `user_roles` table after signup\n- Session-based authentication with automatic token refresh\n\n**Telegram User Identification**\n- Telegram user ID stored in profiles table\n- Optional linking between Supabase accounts and Telegram IDs for admin users\n\n### External Dependencies\n\n**Supabase Cloud Service**\n- Project URL: `https://dwaxejcqvtkeavngwrzk.supabase.co`\n- PostgreSQL database hosting\n- Authentication service\n- Storage service for images\n- Real-time subscriptions (available but not currently used)\n\n**Telegram Bot API**\n- Bot token required from @BotFather\n- Webhook or polling modes (currently using polling)\n- Inline keyboard support for interactive buttons\n- Photo upload/download via Telegram servers\n\n**Third-Party NPM Packages**\n- @supabase/supabase-js: Supabase client library\n- @supabase/auth-ui-react: Pre-built auth components\n- @radix-ui/*: Accessible component primitives\n- react-hook-form + zod: Form validation (via @hookform/resolvers)\n- class-variance-authority: Component variant management\n- tailwind-merge + clsx: Class name utilities\n- sonner: Toast notifications\n- date-fns: Date formatting\n\n**Python Dependencies**\n- python-telegram-bot: Telegram bot framework\n- supabase: Supabase Python client\n- reportlab: PDF generation\n- python-dotenv: Environment variable management\n\n**Deployment Configuration**\n- Development server: Vite dev server on port 5000\n- Production build: `vite build` with preview on port 5000\n- Two separate workflows: Web admin (port 5000) and Telegram bot (background process)\n- Environment variables stored in Replit Secrets: TELEGRAM_BOT_TOKEN, SUPABASE_URL, SUPABASE_ANON_KEY, SUPABASE_SERVICE_ROLE_KEY, ADMIN_EMAIL, ADMIN_PASSWORD, ADMIN_CHANNEL_ID","size_bytes":7177},"src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. \nAll colors MUST be HSL.\n*/\n\n@layer base {\n  :root {\n    --background: 210 40% 98%;\n    --foreground: 222 47% 11%;\n\n    --card: 0 0% 100%;\n    --card-foreground: 222 47% 11%;\n\n    --popover: 0 0% 100%;\n    --popover-foreground: 222 47% 11%;\n\n    --primary: 221 83% 53%;\n    --primary-foreground: 210 40% 98%;\n    \n    --secondary: 210 40% 96%;\n    --secondary-foreground: 222 47% 11%;\n\n    --muted: 210 40% 96%;\n    --muted-foreground: 215 16% 47%;\n\n    --accent: 221 83% 53%;\n    --accent-foreground: 210 40% 98%;\n\n    --destructive: 0 84% 60%;\n    --destructive-foreground: 210 40% 98%;\n    \n    --success: 142 71% 45%;\n    --success-foreground: 210 40% 98%;\n    \n    --warning: 38 92% 50%;\n    --warning-foreground: 222 47% 11%;\n\n    --border: 214 32% 91%;\n    --input: 214 32% 91%;\n    --ring: 221 83% 53%;\n\n    --radius: 0.75rem;\n    \n    --gradient-primary: linear-gradient(135deg, hsl(221 83% 53%), hsl(221 83% 63%));\n    --gradient-secondary: linear-gradient(135deg, hsl(210 40% 96%), hsl(0 0% 100%));\n    \n    --shadow-soft: 0 2px 8px -2px hsl(221 83% 53% / 0.1);\n    --shadow-medium: 0 4px 16px -4px hsl(221 83% 53% / 0.15);\n    \n    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\n    --sidebar-background: 0 0% 100%;\n    --sidebar-foreground: 222 47% 11%;\n    --sidebar-primary: 221 83% 53%;\n    --sidebar-primary-foreground: 210 40% 98%;\n    --sidebar-accent: 210 40% 96%;\n    --sidebar-accent-foreground: 222 47% 11%;\n    --sidebar-border: 214 32% 91%;\n    --sidebar-ring: 221 83% 53%;\n  }\n\n  .dark {\n    --background: 222 47% 11%;\n    --foreground: 210 40% 98%;\n\n    --card: 217 33% 17%;\n    --card-foreground: 210 40% 98%;\n\n    --popover: 217 33% 17%;\n    --popover-foreground: 210 40% 98%;\n\n    --primary: 221 83% 53%;\n    --primary-foreground: 210 40% 98%;\n\n    --secondary: 217 33% 17%;\n    --secondary-foreground: 210 40% 98%;\n\n    --muted: 217 33% 17%;\n    --muted-foreground: 215 20% 65%;\n\n    --accent: 221 83% 53%;\n    --accent-foreground: 210 40% 98%;\n\n    --destructive: 0 63% 31%;\n    --destructive-foreground: 210 40% 98%;\n    \n    --success: 142 71% 45%;\n    --success-foreground: 210 40% 98%;\n    \n    --warning: 38 92% 50%;\n    --warning-foreground: 222 47% 11%;\n\n    --border: 217 33% 17%;\n    --input: 217 33% 17%;\n    --ring: 221 83% 53%;\n    \n    --gradient-primary: linear-gradient(135deg, hsl(221 83% 53%), hsl(221 83% 63%));\n    --gradient-secondary: linear-gradient(135deg, hsl(217 33% 17%), hsl(222 47% 11%));\n    \n    --shadow-soft: 0 2px 8px -2px hsl(0 0% 0% / 0.2);\n    --shadow-medium: 0 4px 16px -4px hsl(0 0% 0% / 0.3);\n    \n    --sidebar-background: 217 33% 17%;\n    --sidebar-foreground: 210 40% 98%;\n    --sidebar-primary: 221 83% 53%;\n    --sidebar-primary-foreground: 210 40% 98%;\n    --sidebar-accent: 222 47% 11%;\n    --sidebar-accent-foreground: 210 40% 98%;\n    --sidebar-border: 217 33% 17%;\n    --sidebar-ring: 221 83% 53%;\n  }\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply bg-background text-foreground;\n  }\n}\n","size_bytes":3163},"src/components/ui/calendar.tsx":{"content":"import * as React from \"react\";\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\nimport { DayPicker } from \"react-day-picker\";\n\nimport { cn } from \"@/lib/utils\";\nimport { buttonVariants } from \"@/components/ui/button\";\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>;\n\nfunction Calendar({ className, classNames, showOutsideDays = true, ...props }: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\",\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell: \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(buttonVariants({ variant: \"ghost\" }), \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle: \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ ..._props }) => <ChevronLeft className=\"h-4 w-4\" />,\n        IconRight: ({ ..._props }) => <ChevronRight className=\"h-4 w-4\" />,\n      }}\n      {...props}\n    />\n  );\n}\nCalendar.displayName = \"Calendar\";\n\nexport { Calendar };\n","size_bytes":2563},"attached_assets/TELEGRAM_BOT_GUIDE_1763537694802.md":{"content":"# Telegram Bot Integration Guide\n\nThis document explains how to connect your Python Telegram bot to this admin panel.\n\n## üìã Database Connection\n\nYour Telegram bot should connect to the same Supabase database. Use these connection details:\n\n- **Supabase URL**: `https://dwaxejcqvtkeavngwrzk.supabase.co`\n- **Supabase Anon Key**: `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR3YXhlamNxdnRrZWF2bmd3cnprIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM0NDY2NTIsImV4cCI6MjA3OTAyMjY1Mn0.o5kO7P4lpnQU8brNliTORSYBZPOwdt8anp9RvuCM6Uo`\n\nInstall the Supabase Python client:\n```bash\npip install supabase\n```\n\n## üîß Bot Setup Example\n\n```python\nfrom supabase import create_client, Client\nimport os\n\n# Initialize Supabase client\nsupabase: Client = create_client(\n    \"https://dwaxejcqvtkeavngwrzk.supabase.co\",\n    \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR3YXhlamNxdnRrZWF2bmd3cnprIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM0NDY2NTIsImV4cCI6MjA3OTAyMjY1Mn0.o5kO7P4lpnQU8brNliTORSYBZPOwdt8anp9RvuCM6Uo\"\n)\n```\n\n## üì¶ Key Integrations\n\n### 1. Product Fetching\n```python\n# Get all active products\nresponse = supabase.table(\"products\").select(\"*\").eq(\"is_active\", True).execute()\nproducts = response.data\n\n# Get single product by product_id\nresponse = supabase.table(\"products\").select(\"*\").eq(\"product_id\", \"D1\").single().execute()\nproduct = response.data\n```\n\n### 2. Creating Orders\n```python\n# Generate order string\nresponse = supabase.rpc(\"generate_order_string\").execute()\norder_string = response.data\n\n# Create order\norder_data = {\n    \"order_string\": order_string,\n    \"telegram_user_id\": user.id,\n    \"user_name\": \"John Doe\",\n    \"phone\": \"09123456789\",\n    \"address\": {\n        \"house_no\": \"123\",\n        \"street\": \"Main St\",\n        \"ward\": \"Ward 1\",\n        \"township\": \"Downtown\",\n        \"city\": \"Yangon\"\n    },\n    \"items\": [\n        {\n            \"product_id\": \"D1\",\n            \"product_name\": \"Product Name\",\n            \"quantity\": 2,\n            \"price\": 10.00\n        }\n    ],\n    \"total_cost\": 20.00,\n    \"delivery_type\": \"express_cars\",  # or \"delivery_company\"\n    \"payment_image_url\": \"https://storage-url/payment.jpg\",\n    \"status\": \"pending\"\n}\n\nresponse = supabase.table(\"orders\").insert(order_data).execute()\n```\n\n### 3. Upload Payment Screenshot\n```python\n# Upload to Supabase Storage\nwith open(\"payment_screenshot.jpg\", \"rb\") as f:\n    response = supabase.storage.from_(\"payment-screenshots\").upload(\n        f\"telegram_{user_id}_{order_id}.jpg\",\n        f,\n        {\"content-type\": \"image/jpeg\"}\n    )\n\n# Get public URL\npayment_url = supabase.storage.from_(\"payment-screenshots\").get_public_url(\n    f\"telegram_{user_id}_{order_id}.jpg\"\n)\n```\n\n### 4. User Management\n```python\n# Check if user is banned\nresponse = supabase.table(\"profiles\").select(\"is_banned\").eq(\"telegram_user_id\", user.id).maybe_single().execute()\nif response.data and response.data[\"is_banned\"]:\n    # User is banned, deny access\n    pass\n```\n\n### 5. Deep Links\nWhen a user clicks a deep link like `https://t.me/yourbot?start=D1`:\n\n```python\n@bot.message_handler(commands=['start'])\ndef start(message):\n    # Extract product_id from command\n    args = message.text.split()\n    if len(args) > 1:\n        product_id = args[1]\n        \n        # Fetch product from database\n        response = supabase.table(\"products\").select(\"*\").eq(\"product_id\", product_id).single().execute()\n        product = response.data\n        \n        # Show product details to user\n        bot.send_message(\n            message.chat.id,\n            f\"Product: {product['name']}\\nPrice: ${product['price']}\\nStock: {product['stock']}\"\n        )\n```\n\n### 6. Broadcast Messages\n```python\n# Check for new broadcast messages\nresponse = supabase.table(\"broadcast_messages\").select(\"*\").order(\"sent_at\", desc=True).limit(10).execute()\nmessages = response.data\n\n# Send to all users\nfor msg in messages:\n    # Get all non-banned users\n    users_response = supabase.table(\"profiles\").select(\"telegram_user_id\").eq(\"is_banned\", False).execute()\n    \n    for user in users_response.data:\n        if user[\"telegram_user_id\"]:\n            bot.send_message(user[\"telegram_user_id\"], msg[\"message\"])\n```\n\n### 7. Order Status Updates\nListen for order approvals/rejections using Supabase Realtime:\n\n```python\n# Subscribe to order changes\ndef handle_order_update(payload):\n    order = payload[\"new\"]\n    telegram_user_id = order[\"telegram_user_id\"]\n    \n    if order[\"status\"] == \"approved\":\n        bot.send_message(telegram_user_id, f\"‚úÖ Your order {order['order_string']} has been approved and sent to delivery!\")\n    elif order[\"status\"] == \"rejected\":\n        bot.send_message(telegram_user_id, f\"‚ùå Your order {order['order_string']} was rejected. Please contact support.\")\n\n# Set up realtime subscription\nsupabase.table(\"orders\").on(\"UPDATE\", handle_order_update).subscribe()\n```\n\n## üéØ Complete Order Flow\n\n1. **User starts bot** ‚Üí Check if banned\n2. **User browses products** ‚Üí Fetch from `products` table\n3. **User selects product** ‚Üí Show details\n4. **User creates order** ‚Üí Collect info step-by-step\n5. **User uploads payment** ‚Üí Upload to storage bucket\n6. **Create order record** ‚Üí Insert into `orders` table with `status=\"pending\"`\n7. **Admin reviews** ‚Üí Admin panel shows order\n8. **Admin approves/rejects** ‚Üí Status updated in database\n9. **Bot notifies user** ‚Üí Via realtime subscription or polling\n\n## üîí Security Notes\n\n- Never expose service role key in your bot\n- Use anon key for client operations\n- RLS policies will protect data\n- Payment screenshots are private by default\n- Only admins can view payment screenshots\n\n## üìö Additional Resources\n\n- [Supabase Python Docs](https://supabase.com/docs/reference/python/introduction)\n- [Telegram Bot API](https://core.telegram.org/bots/api)\n- [Supabase Storage](https://supabase.com/docs/guides/storage)\n- [Supabase Realtime](https://supabase.com/docs/guides/realtime)\n\n## üöÄ Getting Started\n\n1. Create your Telegram bot with BotFather\n2. Install required packages: `pip install python-telegram-bot supabase`\n3. Connect to Supabase using credentials above\n4. Implement order flow using the examples\n5. Test with deep links and order creation\n6. Monitor orders in the admin panel!","size_bytes":6258},"src/components/ui/card.tsx":{"content":"import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"rounded-lg border bg-card text-card-foreground shadow-sm\", className)} {...props} />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"flex flex-col space-y-1.5 p-6\", className)} {...props} />\n  ),\n);\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(\n  ({ className, ...props }, ref) => (\n    <h3 ref={ref} className={cn(\"text-2xl font-semibold leading-none tracking-tight\", className)} {...props} />\n  ),\n);\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, ...props }, ref) => (\n    <p ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n  ),\n);\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />,\n);\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"flex items-center p-6 pt-0\", className)} {...props} />\n  ),\n);\nCardFooter.displayName = \"CardFooter\";\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n","size_bytes":1785},"src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode;\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />);\nBreadcrumb.displayName = \"Breadcrumb\";\n\nconst BreadcrumbList = React.forwardRef<HTMLOListElement, React.ComponentPropsWithoutRef<\"ol\">>(\n  ({ className, ...props }, ref) => (\n    <ol\n      ref={ref}\n      className={cn(\n        \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n);\nBreadcrumbList.displayName = \"BreadcrumbList\";\n\nconst BreadcrumbItem = React.forwardRef<HTMLLIElement, React.ComponentPropsWithoutRef<\"li\">>(\n  ({ className, ...props }, ref) => (\n    <li ref={ref} className={cn(\"inline-flex items-center gap-1.5\", className)} {...props} />\n  ),\n);\nBreadcrumbItem.displayName = \"BreadcrumbItem\";\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean;\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\";\n\n  return <Comp ref={ref} className={cn(\"transition-colors hover:text-foreground\", className)} {...props} />;\n});\nBreadcrumbLink.displayName = \"BreadcrumbLink\";\n\nconst BreadcrumbPage = React.forwardRef<HTMLSpanElement, React.ComponentPropsWithoutRef<\"span\">>(\n  ({ className, ...props }, ref) => (\n    <span\n      ref={ref}\n      role=\"link\"\n      aria-disabled=\"true\"\n      aria-current=\"page\"\n      className={cn(\"font-normal text-foreground\", className)}\n      {...props}\n    />\n  ),\n);\nBreadcrumbPage.displayName = \"BreadcrumbPage\";\n\nconst BreadcrumbSeparator = ({ children, className, ...props }: React.ComponentProps<\"li\">) => (\n  <li role=\"presentation\" aria-hidden=\"true\" className={cn(\"[&>svg]:size-3.5\", className)} {...props}>\n    {children ?? <ChevronRight />}\n  </li>\n);\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\";\n\nconst BreadcrumbEllipsis = ({ className, ...props }: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n);\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\";\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n};\n","size_bytes":2687},"src/App.tsx":{"content":"import { Toaster } from \"@/components/ui/toaster\";\nimport { Toaster as Sonner } from \"@/components/ui/sonner\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport Index from \"./pages/Index\";\nimport Auth from \"./pages/Auth\";\nimport Admin from \"./pages/Admin\";\nimport NotFound from \"./pages/NotFound\";\n\nconst queryClient = new QueryClient();\n\nconst App = () => (\n  <QueryClientProvider client={queryClient}>\n    <TooltipProvider>\n      <Toaster />\n      <Sonner />\n      <BrowserRouter>\n        <Routes>\n          <Route path=\"/\" element={<Index />} />\n          <Route path=\"/auth\" element={<Auth />} />\n          <Route path=\"/admin\" element={<Admin />} />\n          {/* ADD ALL CUSTOM ROUTES ABOVE THE CATCH-ALL \"*\" ROUTE */}\n          <Route path=\"*\" element={<NotFound />} />\n        </Routes>\n      </BrowserRouter>\n    </TooltipProvider>\n  </QueryClientProvider>\n);\n\nexport default App;\n","size_bytes":1045},"src/pages/NotFound.tsx":{"content":"import { useLocation } from \"react-router-dom\";\nimport { useEffect } from \"react\";\n\nconst NotFound = () => {\n  const location = useLocation();\n\n  useEffect(() => {\n    console.error(\"404 Error: User attempted to access non-existent route:\", location.pathname);\n  }, [location.pathname]);\n\n  return (\n    <div className=\"flex min-h-screen items-center justify-center bg-muted\">\n      <div className=\"text-center\">\n        <h1 className=\"mb-4 text-4xl font-bold\">404</h1>\n        <p className=\"mb-4 text-xl text-muted-foreground\">Oops! Page not found</p>\n        <a href=\"/\" className=\"text-primary underline hover:text-primary/90\">\n          Return to Home\n        </a>\n      </div>\n    </div>\n  );\n};\n\nexport default NotFound;\n","size_bytes":727},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./pages/**/*.{ts,tsx}\", \"./components/**/*.{ts,tsx}\", \"./app/**/*.{ts,tsx}\", \"./src/**/*.{ts,tsx}\"],\n  prefix: \"\",\n  theme: {\n    container: {\n      center: true,\n      padding: \"2rem\",\n      screens: {\n        \"2xl\": \"1400px\",\n      },\n    },\n    extend: {\n      colors: {\n        border: \"hsl(var(--border))\",\n        input: \"hsl(var(--input))\",\n        ring: \"hsl(var(--ring))\",\n        background: \"hsl(var(--background))\",\n        foreground: \"hsl(var(--foreground))\",\n        primary: {\n          DEFAULT: \"hsl(var(--primary))\",\n          foreground: \"hsl(var(--primary-foreground))\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary))\",\n          foreground: \"hsl(var(--secondary-foreground))\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive))\",\n          foreground: \"hsl(var(--destructive-foreground))\",\n        },\n        success: {\n          DEFAULT: \"hsl(var(--success))\",\n          foreground: \"hsl(var(--success-foreground))\",\n        },\n        warning: {\n          DEFAULT: \"hsl(var(--warning))\",\n          foreground: \"hsl(var(--warning-foreground))\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted))\",\n          foreground: \"hsl(var(--muted-foreground))\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent))\",\n          foreground: \"hsl(var(--accent-foreground))\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover))\",\n          foreground: \"hsl(var(--popover-foreground))\",\n        },\n        card: {\n          DEFAULT: \"hsl(var(--card))\",\n          foreground: \"hsl(var(--card-foreground))\",\n        },\n        sidebar: {\n          DEFAULT: \"hsl(var(--sidebar-background))\",\n          foreground: \"hsl(var(--sidebar-foreground))\",\n          primary: \"hsl(var(--sidebar-primary))\",\n          \"primary-foreground\": \"hsl(var(--sidebar-primary-foreground))\",\n          accent: \"hsl(var(--sidebar-accent))\",\n          \"accent-foreground\": \"hsl(var(--sidebar-accent-foreground))\",\n          border: \"hsl(var(--sidebar-border))\",\n          ring: \"hsl(var(--sidebar-ring))\",\n        },\n      },\n      boxShadow: {\n        soft: \"var(--shadow-soft)\",\n        medium: \"var(--shadow-medium)\",\n      },\n      backgroundImage: {\n        \"gradient-primary\": \"var(--gradient-primary)\",\n        \"gradient-secondary\": \"var(--gradient-secondary)\",\n      },\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: {\n            height: \"0\",\n          },\n          to: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n        },\n        \"accordion-up\": {\n          from: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n          to: {\n            height: \"0\",\n          },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\")],\n} satisfies Config;\n","size_bytes":3214},"src/components/ui/label.tsx":{"content":"import * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst labelVariants = cva(\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\");\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> & VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root ref={ref} className={cn(labelVariants(), className)} {...props} />\n));\nLabel.displayName = LabelPrimitive.Root.displayName;\n\nexport { Label };\n","size_bytes":696},"src/components/ui/toast.tsx":{"content":"import * as React from \"react\";\nimport * as ToastPrimitives from \"@radix-ui/react-toast\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { X } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst ToastProvider = ToastPrimitives.Provider;\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className,\n    )}\n    {...props}\n  />\n));\nToastViewport.displayName = ToastPrimitives.Viewport.displayName;\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive: \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> & VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return <ToastPrimitives.Root ref={ref} className={cn(toastVariants({ variant }), className)} {...props} />;\n});\nToast.displayName = ToastPrimitives.Root.displayName;\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50\",\n      className,\n    )}\n    {...props}\n  />\n));\nToastAction.displayName = ToastPrimitives.Action.displayName;\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className,\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n));\nToastClose.displayName = ToastPrimitives.Close.displayName;\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title ref={ref} className={cn(\"text-sm font-semibold\", className)} {...props} />\n));\nToastTitle.displayName = ToastPrimitives.Title.displayName;\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description ref={ref} className={cn(\"text-sm opacity-90\", className)} {...props} />\n));\nToastDescription.displayName = ToastPrimitives.Description.displayName;\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>;\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>;\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n};\n","size_bytes":4798},"supabase/config.toml":{"content":"project_id = \"dwaxejcqvtkeavngwrzk\"","size_bytes":35},"src/components/ui/tabs.tsx":{"content":"import * as React from \"react\";\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Tabs = TabsPrimitive.Root;\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className,\n    )}\n    {...props}\n  />\n));\nTabsList.displayName = TabsPrimitive.List.displayName;\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n      className,\n    )}\n    {...props}\n  />\n));\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName;\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className,\n    )}\n    {...props}\n  />\n));\nTabsContent.displayName = TabsPrimitive.Content.displayName;\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\n","size_bytes":1897},"src/components/ui/collapsible.tsx":{"content":"import * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\";\n\nconst Collapsible = CollapsiblePrimitive.Root;\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger;\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent;\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent };\n","size_bytes":320},"src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\";\nimport { OTPInput, OTPInputContext } from \"input-otp\";\nimport { Dot } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst InputOTP = React.forwardRef<React.ElementRef<typeof OTPInput>, React.ComponentPropsWithoutRef<typeof OTPInput>>(\n  ({ className, containerClassName, ...props }, ref) => (\n    <OTPInput\n      ref={ref}\n      containerClassName={cn(\"flex items-center gap-2 has-[:disabled]:opacity-50\", containerClassName)}\n      className={cn(\"disabled:cursor-not-allowed\", className)}\n      {...props}\n    />\n  ),\n);\nInputOTP.displayName = \"InputOTP\";\n\nconst InputOTPGroup = React.forwardRef<React.ElementRef<\"div\">, React.ComponentPropsWithoutRef<\"div\">>(\n  ({ className, ...props }, ref) => <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />,\n);\nInputOTPGroup.displayName = \"InputOTPGroup\";\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext);\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index];\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className,\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"animate-caret-blink h-4 w-px bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  );\n});\nInputOTPSlot.displayName = \"InputOTPSlot\";\n\nconst InputOTPSeparator = React.forwardRef<React.ElementRef<\"div\">, React.ComponentPropsWithoutRef<\"div\">>(\n  ({ ...props }, ref) => (\n    <div ref={ref} role=\"separator\" {...props}>\n      <Dot />\n    </div>\n  ),\n);\nInputOTPSeparator.displayName = \"InputOTPSeparator\";\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator };\n","size_bytes":2166},"src/components/ui/textarea.tsx":{"content":"import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport interface TextareaProps extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className,\n      )}\n      ref={ref}\n      {...props}\n    />\n  );\n});\nTextarea.displayName = \"Textarea\";\n\nexport { Textarea };\n","size_bytes":751},"pyproject.toml":{"content":"[project]\nname = \"repl-nix-workspace\"\nversion = \"0.1.0\"\ndescription = \"Add your description here\"\nrequires-python = \">=3.11\"\ndependencies = [\n    \"python-dotenv>=1.2.1\",\n    \"python-telegram-bot>=22.5\",\n    \"reportlab>=4.4.5\",\n    \"supabase>=2.24.0\",\n]\n","size_bytes":253},"src/integrations/supabase/types.ts":{"content":"export type Json =\n  | string\n  | number\n  | boolean\n  | null\n  | { [key: string]: Json | undefined }\n  | Json[]\n\nexport type Database = {\n  // Allows to automatically instantiate createClient with right options\n  // instead of createClient<Database, { PostgrestVersion: 'XX' }>(URL, KEY)\n  __InternalSupabase: {\n    PostgrestVersion: \"13.0.5\"\n  }\n  public: {\n    Tables: {\n      broadcast_messages: {\n        Row: {\n          id: string\n          message: string\n          recipient_count: number | null\n          sent_at: string | null\n          sent_by: string\n        }\n        Insert: {\n          id?: string\n          message: string\n          recipient_count?: number | null\n          sent_at?: string | null\n          sent_by: string\n        }\n        Update: {\n          id?: string\n          message?: string\n          recipient_count?: number | null\n          sent_at?: string | null\n          sent_by?: string\n        }\n        Relationships: []\n      }\n      orders: {\n        Row: {\n          address: Json\n          approved_at: string | null\n          approved_by: string | null\n          created_at: string | null\n          delivery_type: Database[\"public\"][\"Enums\"][\"delivery_type\"]\n          id: string\n          items: Json\n          order_string: string\n          payment_image_url: string | null\n          phone: string\n          rejection_reason: string | null\n          status: Database[\"public\"][\"Enums\"][\"order_status\"] | null\n          telegram_user_id: number\n          total_cost: number\n          updated_at: string | null\n          user_name: string\n        }\n        Insert: {\n          address: Json\n          approved_at?: string | null\n          approved_by?: string | null\n          created_at?: string | null\n          delivery_type: Database[\"public\"][\"Enums\"][\"delivery_type\"]\n          id?: string\n          items: Json\n          order_string: string\n          payment_image_url?: string | null\n          phone: string\n          rejection_reason?: string | null\n          status?: Database[\"public\"][\"Enums\"][\"order_status\"] | null\n          telegram_user_id: number\n          total_cost: number\n          updated_at?: string | null\n          user_name: string\n        }\n        Update: {\n          address?: Json\n          approved_at?: string | null\n          approved_by?: string | null\n          created_at?: string | null\n          delivery_type?: Database[\"public\"][\"Enums\"][\"delivery_type\"]\n          id?: string\n          items?: Json\n          order_string?: string\n          payment_image_url?: string | null\n          phone?: string\n          rejection_reason?: string | null\n          status?: Database[\"public\"][\"Enums\"][\"order_status\"] | null\n          telegram_user_id?: number\n          total_cost?: number\n          updated_at?: string | null\n          user_name?: string\n        }\n        Relationships: []\n      }\n      products: {\n        Row: {\n          created_at: string | null\n          description: string | null\n          id: string\n          image_url: string | null\n          is_active: boolean | null\n          name: string\n          price: number\n          product_id: string\n          stock: number\n          updated_at: string | null\n        }\n        Insert: {\n          created_at?: string | null\n          description?: string | null\n          id?: string\n          image_url?: string | null\n          is_active?: boolean | null\n          name: string\n          price: number\n          product_id: string\n          stock?: number\n          updated_at?: string | null\n        }\n        Update: {\n          created_at?: string | null\n          description?: string | null\n          id?: string\n          image_url?: string | null\n          is_active?: boolean | null\n          name?: string\n          price?: number\n          product_id?: string\n          stock?: number\n          updated_at?: string | null\n        }\n        Relationships: []\n      }\n      profiles: {\n        Row: {\n          created_at: string | null\n          id: string\n          is_banned: boolean | null\n          phone: string | null\n          telegram_user_id: number | null\n          updated_at: string | null\n          username: string | null\n        }\n        Insert: {\n          created_at?: string | null\n          id: string\n          is_banned?: boolean | null\n          phone?: string | null\n          telegram_user_id?: number | null\n          updated_at?: string | null\n          username?: string | null\n        }\n        Update: {\n          created_at?: string | null\n          id?: string\n          is_banned?: boolean | null\n          phone?: string | null\n          telegram_user_id?: number | null\n          updated_at?: string | null\n          username?: string | null\n        }\n        Relationships: []\n      }\n      user_roles: {\n        Row: {\n          created_at: string | null\n          id: string\n          role: Database[\"public\"][\"Enums\"][\"app_role\"]\n          user_id: string\n        }\n        Insert: {\n          created_at?: string | null\n          id?: string\n          role?: Database[\"public\"][\"Enums\"][\"app_role\"]\n          user_id: string\n        }\n        Update: {\n          created_at?: string | null\n          id?: string\n          role?: Database[\"public\"][\"Enums\"][\"app_role\"]\n          user_id?: string\n        }\n        Relationships: []\n      }\n    }\n    Views: {\n      [_ in never]: never\n    }\n    Functions: {\n      generate_order_string: { Args: never; Returns: string }\n      has_role: {\n        Args: {\n          _role: Database[\"public\"][\"Enums\"][\"app_role\"]\n          _user_id: string\n        }\n        Returns: boolean\n      }\n    }\n    Enums: {\n      app_role: \"admin\" | \"user\"\n      delivery_type: \"express_cars\" | \"delivery_company\"\n      order_status: \"pending\" | \"approved\" | \"rejected\" | \"delivered\"\n    }\n    CompositeTypes: {\n      [_ in never]: never\n    }\n  }\n}\n\ntype DatabaseWithoutInternals = Omit<Database, \"__InternalSupabase\">\n\ntype DefaultSchema = DatabaseWithoutInternals[Extract<keyof Database, \"public\">]\n\nexport type Tables<\n  DefaultSchemaTableNameOrOptions extends\n    | keyof (DefaultSchema[\"Tables\"] & DefaultSchema[\"Views\"])\n    | { schema: keyof DatabaseWithoutInternals },\n  TableName extends DefaultSchemaTableNameOrOptions extends {\n    schema: keyof DatabaseWithoutInternals\n  }\n    ? keyof (DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions[\"schema\"]][\"Tables\"] &\n        DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions[\"schema\"]][\"Views\"])\n    : never = never,\n> = DefaultSchemaTableNameOrOptions extends {\n  schema: keyof DatabaseWithoutInternals\n}\n  ? (DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions[\"schema\"]][\"Tables\"] &\n      DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions[\"schema\"]][\"Views\"])[TableName] extends {\n      Row: infer R\n    }\n    ? R\n    : never\n  : DefaultSchemaTableNameOrOptions extends keyof (DefaultSchema[\"Tables\"] &\n        DefaultSchema[\"Views\"])\n    ? (DefaultSchema[\"Tables\"] &\n        DefaultSchema[\"Views\"])[DefaultSchemaTableNameOrOptions] extends {\n        Row: infer R\n      }\n      ? R\n      : never\n    : never\n\nexport type TablesInsert<\n  DefaultSchemaTableNameOrOptions extends\n    | keyof DefaultSchema[\"Tables\"]\n    | { schema: keyof DatabaseWithoutInternals },\n  TableName extends DefaultSchemaTableNameOrOptions extends {\n    schema: keyof DatabaseWithoutInternals\n  }\n    ? keyof DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions[\"schema\"]][\"Tables\"]\n    : never = never,\n> = DefaultSchemaTableNameOrOptions extends {\n  schema: keyof DatabaseWithoutInternals\n}\n  ? DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions[\"schema\"]][\"Tables\"][TableName] extends {\n      Insert: infer I\n    }\n    ? I\n    : never\n  : DefaultSchemaTableNameOrOptions extends keyof DefaultSchema[\"Tables\"]\n    ? DefaultSchema[\"Tables\"][DefaultSchemaTableNameOrOptions] extends {\n        Insert: infer I\n      }\n      ? I\n      : never\n    : never\n\nexport type TablesUpdate<\n  DefaultSchemaTableNameOrOptions extends\n    | keyof DefaultSchema[\"Tables\"]\n    | { schema: keyof DatabaseWithoutInternals },\n  TableName extends DefaultSchemaTableNameOrOptions extends {\n    schema: keyof DatabaseWithoutInternals\n  }\n    ? keyof DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions[\"schema\"]][\"Tables\"]\n    : never = never,\n> = DefaultSchemaTableNameOrOptions extends {\n  schema: keyof DatabaseWithoutInternals\n}\n  ? DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions[\"schema\"]][\"Tables\"][TableName] extends {\n      Update: infer U\n    }\n    ? U\n    : never\n  : DefaultSchemaTableNameOrOptions extends keyof DefaultSchema[\"Tables\"]\n    ? DefaultSchema[\"Tables\"][DefaultSchemaTableNameOrOptions] extends {\n        Update: infer U\n      }\n      ? U\n      : never\n    : never\n\nexport type Enums<\n  DefaultSchemaEnumNameOrOptions extends\n    | keyof DefaultSchema[\"Enums\"]\n    | { schema: keyof DatabaseWithoutInternals },\n  EnumName extends DefaultSchemaEnumNameOrOptions extends {\n    schema: keyof DatabaseWithoutInternals\n  }\n    ? keyof DatabaseWithoutInternals[DefaultSchemaEnumNameOrOptions[\"schema\"]][\"Enums\"]\n    : never = never,\n> = DefaultSchemaEnumNameOrOptions extends {\n  schema: keyof DatabaseWithoutInternals\n}\n  ? DatabaseWithoutInternals[DefaultSchemaEnumNameOrOptions[\"schema\"]][\"Enums\"][EnumName]\n  : DefaultSchemaEnumNameOrOptions extends keyof DefaultSchema[\"Enums\"]\n    ? DefaultSchema[\"Enums\"][DefaultSchemaEnumNameOrOptions]\n    : never\n\nexport type CompositeTypes<\n  PublicCompositeTypeNameOrOptions extends\n    | keyof DefaultSchema[\"CompositeTypes\"]\n    | { schema: keyof DatabaseWithoutInternals },\n  CompositeTypeName extends PublicCompositeTypeNameOrOptions extends {\n    schema: keyof DatabaseWithoutInternals\n  }\n    ? keyof DatabaseWithoutInternals[PublicCompositeTypeNameOrOptions[\"schema\"]][\"CompositeTypes\"]\n    : never = never,\n> = PublicCompositeTypeNameOrOptions extends {\n  schema: keyof DatabaseWithoutInternals\n}\n  ? DatabaseWithoutInternals[PublicCompositeTypeNameOrOptions[\"schema\"]][\"CompositeTypes\"][CompositeTypeName]\n  : PublicCompositeTypeNameOrOptions extends keyof DefaultSchema[\"CompositeTypes\"]\n    ? DefaultSchema[\"CompositeTypes\"][PublicCompositeTypeNameOrOptions]\n    : never\n\nexport const Constants = {\n  public: {\n    Enums: {\n      app_role: [\"admin\", \"user\"],\n      delivery_type: [\"express_cars\", \"delivery_company\"],\n      order_status: [\"pending\", \"approved\", \"rejected\", \"delivered\"],\n    },\n  },\n} as const\n","size_bytes":10474},"src/components/ui/pagination.tsx":{"content":"import * as React from \"react\";\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\";\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n);\nPagination.displayName = \"Pagination\";\n\nconst PaginationContent = React.forwardRef<HTMLUListElement, React.ComponentProps<\"ul\">>(\n  ({ className, ...props }, ref) => (\n    <ul ref={ref} className={cn(\"flex flex-row items-center gap-1\", className)} {...props} />\n  ),\n);\nPaginationContent.displayName = \"PaginationContent\";\n\nconst PaginationItem = React.forwardRef<HTMLLIElement, React.ComponentProps<\"li\">>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n));\nPaginationItem.displayName = \"PaginationItem\";\n\ntype PaginationLinkProps = {\n  isActive?: boolean;\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">;\n\nconst PaginationLink = ({ className, isActive, size = \"icon\", ...props }: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className,\n    )}\n    {...props}\n  />\n);\nPaginationLink.displayName = \"PaginationLink\";\n\nconst PaginationPrevious = ({ className, ...props }: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink aria-label=\"Go to previous page\" size=\"default\" className={cn(\"gap-1 pl-2.5\", className)} {...props}>\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n);\nPaginationPrevious.displayName = \"PaginationPrevious\";\n\nconst PaginationNext = ({ className, ...props }: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink aria-label=\"Go to next page\" size=\"default\" className={cn(\"gap-1 pr-2.5\", className)} {...props}>\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n);\nPaginationNext.displayName = \"PaginationNext\";\n\nconst PaginationEllipsis = ({ className, ...props }: React.ComponentProps<\"span\">) => (\n  <span aria-hidden className={cn(\"flex h-9 w-9 items-center justify-center\", className)} {...props}>\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n);\nPaginationEllipsis.displayName = \"PaginationEllipsis\";\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n};\n","size_bytes":2683},"bot/README.md":{"content":"# Telegram Order Bot\n\nThis is a complete Telegram bot for order management that integrates with Supabase.\n\n## Features\n\n- üì¶ Product browsing with inline keyboards\n- üõí Complete order flow with step-by-step data collection\n- üì∏ Payment screenshot upload\n- üöö Delivery type selection (Express Cars / Delivery Company)\n- üìã Order history viewing\n- üîó Deep linking support for direct product access\n- üö´ User ban checking\n- ‚úÖ Order status notifications (pending/approved/rejected/delivered)\n\n## Setup\n\n1. Create a bot with [@BotFather](https://t.me/botfather) on Telegram\n2. Get your bot token\n3. Add the token to your Replit Secrets as `TELEGRAM_BOT_TOKEN`\n4. The bot will automatically connect to the Supabase database\n\n## Bot Commands\n\n- `/start` - Start the bot and show main menu\n- `/products` - Browse all available products\n- `/orders` - View your order history\n- `/help` - Show help information\n- `/cancel` - Cancel current order process\n\n## Deep Linking\n\nShare product links like: `https://t.me/YOUR_BOT?start=PRODUCT_ID`\n\nExample: `https://t.me/YOUR_BOT?start=D1`\n\n## Order Flow\n\n1. User selects a product\n2. Enters quantity\n3. Provides name and phone\n4. Enters complete address (house no, street, ward, township, city)\n5. Selects delivery type\n6. Uploads payment screenshot\n7. Order is created with \"pending\" status\n8. Admin reviews and approves/rejects in the web panel\n9. User receives notification about order status\n\n## Database Integration\n\nThe bot connects to Supabase and interacts with:\n- `products` table - For product listings\n- `orders` table - For order management\n- `profiles` table - For user data\n- `payment-screenshots` storage bucket - For payment images\n\nAll database operations respect Row Level Security policies.\n","size_bytes":1758},"src/components/ui/accordion.tsx":{"content":"import * as React from \"react\";\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\";\nimport { ChevronDown } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Accordion = AccordionPrimitive.Root;\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item ref={ref} className={cn(\"border-b\", className)} {...props} />\n));\nAccordionItem.displayName = \"AccordionItem\";\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n));\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName;\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n));\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName;\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent };\n","size_bytes":1976},"server/db.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });\n","size_bytes":483},"src/components/ui/sidebar.tsx":{"content":"import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { VariantProps, cva } from \"class-variance-authority\";\nimport { PanelLeft } from \"lucide-react\";\n\nimport { useIsMobile } from \"@/hooks/use-mobile\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Sheet, SheetContent } from \"@/components/ui/sheet\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\";\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar:state\";\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7;\nconst SIDEBAR_WIDTH = \"16rem\";\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\";\nconst SIDEBAR_WIDTH_ICON = \"3rem\";\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\";\n\ntype SidebarContext = {\n  state: \"expanded\" | \"collapsed\";\n  open: boolean;\n  setOpen: (open: boolean) => void;\n  openMobile: boolean;\n  setOpenMobile: (open: boolean) => void;\n  isMobile: boolean;\n  toggleSidebar: () => void;\n};\n\nconst SidebarContext = React.createContext<SidebarContext | null>(null);\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext);\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\");\n  }\n\n  return context;\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    defaultOpen?: boolean;\n    open?: boolean;\n    onOpenChange?: (open: boolean) => void;\n  }\n>(({ defaultOpen = true, open: openProp, onOpenChange: setOpenProp, className, style, children, ...props }, ref) => {\n  const isMobile = useIsMobile();\n  const [openMobile, setOpenMobile] = React.useState(false);\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen);\n  const open = openProp ?? _open;\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value;\n      if (setOpenProp) {\n        setOpenProp(openState);\n      } else {\n        _setOpen(openState);\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`;\n    },\n    [setOpenProp, open],\n  );\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open);\n  }, [isMobile, setOpen, setOpenMobile]);\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === SIDEBAR_KEYBOARD_SHORTCUT && (event.metaKey || event.ctrlKey)) {\n        event.preventDefault();\n        toggleSidebar();\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [toggleSidebar]);\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\";\n\n  const contextValue = React.useMemo<SidebarContext>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar],\n  );\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\", className)}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  );\n});\nSidebarProvider.displayName = \"SidebarProvider\";\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    side?: \"left\" | \"right\";\n    variant?: \"sidebar\" | \"floating\" | \"inset\";\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\";\n  }\n>(({ side = \"left\", variant = \"sidebar\", collapsible = \"offcanvas\", className, children, ...props }, ref) => {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar();\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        className={cn(\"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\", className)}\n        ref={ref}\n        {...props}\n      >\n        {children}\n      </div>\n    );\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    );\n  }\n\n  return (\n    <div\n      ref={ref}\n      className=\"group peer hidden text-sidebar-foreground md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        className={cn(\n          \"relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n            : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\",\n        )}\n      />\n      <div\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className,\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n});\nSidebar.displayName = \"Sidebar\";\n\nconst SidebarTrigger = React.forwardRef<React.ElementRef<typeof Button>, React.ComponentProps<typeof Button>>(\n  ({ className, onClick, ...props }, ref) => {\n    const { toggleSidebar } = useSidebar();\n\n    return (\n      <Button\n        ref={ref}\n        data-sidebar=\"trigger\"\n        variant=\"ghost\"\n        size=\"icon\"\n        className={cn(\"h-7 w-7\", className)}\n        onClick={(event) => {\n          onClick?.(event);\n          toggleSidebar();\n        }}\n        {...props}\n      >\n        <PanelLeft />\n        <span className=\"sr-only\">Toggle Sidebar</span>\n      </Button>\n    );\n  },\n);\nSidebarTrigger.displayName = \"SidebarTrigger\";\n\nconst SidebarRail = React.forwardRef<HTMLButtonElement, React.ComponentProps<\"button\">>(\n  ({ className, ...props }, ref) => {\n    const { toggleSidebar } = useSidebar();\n\n    return (\n      <button\n        ref={ref}\n        data-sidebar=\"rail\"\n        aria-label=\"Toggle Sidebar\"\n        tabIndex={-1}\n        onClick={toggleSidebar}\n        title=\"Toggle Sidebar\"\n        className={cn(\n          \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex\",\n          \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n          \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n          \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n          \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n          \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarRail.displayName = \"SidebarRail\";\n\nconst SidebarInset = React.forwardRef<HTMLDivElement, React.ComponentProps<\"main\">>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex min-h-svh flex-1 flex-col bg-background\",\n        \"peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarInset.displayName = \"SidebarInset\";\n\nconst SidebarInput = React.forwardRef<React.ElementRef<typeof Input>, React.ComponentProps<typeof Input>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <Input\n        ref={ref}\n        data-sidebar=\"input\"\n        className={cn(\n          \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarInput.displayName = \"SidebarInput\";\n\nconst SidebarHeader = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\n  return <div ref={ref} data-sidebar=\"header\" className={cn(\"flex flex-col gap-2 p-2\", className)} {...props} />;\n});\nSidebarHeader.displayName = \"SidebarHeader\";\n\nconst SidebarFooter = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\n  return <div ref={ref} data-sidebar=\"footer\" className={cn(\"flex flex-col gap-2 p-2\", className)} {...props} />;\n});\nSidebarFooter.displayName = \"SidebarFooter\";\n\nconst SidebarSeparator = React.forwardRef<React.ElementRef<typeof Separator>, React.ComponentProps<typeof Separator>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <Separator\n        ref={ref}\n        data-sidebar=\"separator\"\n        className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n        {...props}\n      />\n    );\n  },\n);\nSidebarSeparator.displayName = \"SidebarSeparator\";\n\nconst SidebarContent = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarContent.displayName = \"SidebarContent\";\n\nconst SidebarGroup = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  );\n});\nSidebarGroup.displayName = \"SidebarGroup\";\n\nconst SidebarGroupLabel = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\"> & { asChild?: boolean }>(\n  ({ className, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"div\";\n\n    return (\n      <Comp\n        ref={ref}\n        data-sidebar=\"group-label\"\n        className={cn(\n          \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n          \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\";\n\nconst SidebarGroupAction = React.forwardRef<HTMLButtonElement, React.ComponentProps<\"button\"> & { asChild?: boolean }>(\n  ({ className, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n\n    return (\n      <Comp\n        ref={ref}\n        data-sidebar=\"group-action\"\n        className={cn(\n          \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n          // Increases the hit area of the button on mobile.\n          \"after:absolute after:-inset-2 after:md:hidden\",\n          \"group-data-[collapsible=icon]:hidden\",\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarGroupAction.displayName = \"SidebarGroupAction\";\n\nconst SidebarGroupContent = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} data-sidebar=\"group-content\" className={cn(\"w-full text-sm\", className)} {...props} />\n  ),\n);\nSidebarGroupContent.displayName = \"SidebarGroupContent\";\n\nconst SidebarMenu = React.forwardRef<HTMLUListElement, React.ComponentProps<\"ul\">>(({ className, ...props }, ref) => (\n  <ul ref={ref} data-sidebar=\"menu\" className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)} {...props} />\n));\nSidebarMenu.displayName = \"SidebarMenu\";\n\nconst SidebarMenuItem = React.forwardRef<HTMLLIElement, React.ComponentProps<\"li\">>(({ className, ...props }, ref) => (\n  <li ref={ref} data-sidebar=\"menu-item\" className={cn(\"group/menu-item relative\", className)} {...props} />\n));\nSidebarMenuItem.displayName = \"SidebarMenuItem\";\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean;\n    isActive?: boolean;\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>;\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(({ asChild = false, isActive = false, variant = \"default\", size = \"default\", tooltip, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\";\n  const { isMobile, state } = useSidebar();\n\n  const button = (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  );\n\n  if (!tooltip) {\n    return button;\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    };\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent side=\"right\" align=\"center\" hidden={state !== \"collapsed\" || isMobile} {...tooltip} />\n    </Tooltip>\n  );\n});\nSidebarMenuButton.displayName = \"SidebarMenuButton\";\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean;\n    showOnHover?: boolean;\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarMenuAction.displayName = \"SidebarMenuAction\";\n\nconst SidebarMenuBadge = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n);\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\";\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    showIcon?: boolean;\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`;\n  }, []);\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && <Skeleton className=\"size-4 rounded-md\" data-sidebar=\"menu-skeleton-icon\" />}\n      <Skeleton\n        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  );\n});\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\";\n\nconst SidebarMenuSub = React.forwardRef<HTMLUListElement, React.ComponentProps<\"ul\">>(\n  ({ className, ...props }, ref) => (\n    <ul\n      ref={ref}\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n);\nSidebarMenuSub.displayName = \"SidebarMenuSub\";\n\nconst SidebarMenuSubItem = React.forwardRef<HTMLLIElement, React.ComponentProps<\"li\">>(({ ...props }, ref) => (\n  <li ref={ref} {...props} />\n));\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\";\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<\"a\"> & {\n    asChild?: boolean;\n    size?: \"sm\" | \"md\";\n    isActive?: boolean;\n  }\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\";\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\";\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n};\n","size_bytes":22837},"src/components/ui/switch.tsx":{"content":"import * as React from \"react\";\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50\",\n      className,\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\",\n      )}\n    />\n  </SwitchPrimitives.Root>\n));\nSwitch.displayName = SwitchPrimitives.Root.displayName;\n\nexport { Switch };\n","size_bytes":1147},"src/components/ui/alert.tsx":{"content":"import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive: \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div ref={ref} role=\"alert\" className={cn(alertVariants({ variant }), className)} {...props} />\n));\nAlert.displayName = \"Alert\";\n\nconst AlertTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(\n  ({ className, ...props }, ref) => (\n    <h5 ref={ref} className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)} {...props} />\n  ),\n);\nAlertTitle.displayName = \"AlertTitle\";\n\nconst AlertDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"text-sm [&_p]:leading-relaxed\", className)} {...props} />\n  ),\n);\nAlertDescription.displayName = \"AlertDescription\";\n\nexport { Alert, AlertTitle, AlertDescription };\n","size_bytes":1546}},"version":2}